2025-05-09 20:17:10,354 - INFO - 
===== 评估策略: expert_strict_comma =====
2025-05-09 20:17:10,568 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:10,568 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:10,568 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:10,569 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:10,569 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:10,578 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:10,579 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:10,579 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:10,579 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:10,580 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:15,929 - INFO - DeepSeek API 异步请求 - 模型输出:
1695,1844,3221,41,1656,1829,2813,2579,3516,3606,3497,2755,3303,3858,396,2123,2720,1731,328,2795
2025-05-09 20:17:15,929 - INFO - 模型输出解析 - 原始输出:
1695,1844,3221,41,1656,1829,2813,2579,3516,3606,3497,2755,3303,3858,396,2123,2720,1731,328,2795
2025-05-09 20:17:15,929 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1844, 3221, 41, 1656, 1829, 2813, 2579, 3516, 3606, 3497, 2755, 3303, 3858, 396, 2123, 2720, 1731, 328, 2795]
2025-05-09 20:17:15,929 - INFO - NDCG计算 - 预测列表前10项: [1695, 1844, 3221, 41, 1656, 1829, 2813, 2579, 3516, 3606], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 20:17:16,172 - INFO - DeepSeek API 异步请求 - 模型输出:
3948,516,145,8,3618,1822,2227,2160,1824,1671,1317,1528,2869,2620,2374,3313,863,2993,2074
2025-05-09 20:17:16,172 - INFO - 模型输出解析 - 原始输出:
3948,516,145,8,3618,1822,2227,2160,1824,1671,1317,1528,2869,2620,2374,3313,863,2993,2074
2025-05-09 20:17:16,172 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 145, 8, 3618, 1822, 2227, 2160, 1824, 1671, 1317, 1528, 2869, 2620, 2374, 3313, 863, 2993, 2074]
2025-05-09 20:17:16,172 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 145, 8, 3618, 1822, 2227, 2160, 1824, 1671], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 20:17:16,434 - INFO - DeepSeek API 异步请求 - 模型输出:
3699,2011,2532,555,2562,1541,3557,515,2467,2482,2703,1357,1257,1102,1420,421,310,576,3739,1174
2025-05-09 20:17:16,434 - INFO - 模型输出解析 - 原始输出:
3699,2011,2532,555,2562,1541,3557,515,2467,2482,2703,1357,1257,1102,1420,421,310,576,3739,1174
2025-05-09 20:17:16,434 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 2562, 1541, 3557, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 310, 576, 3739, 1174]
2025-05-09 20:17:16,434 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 2562, 1541, 3557, 515, 2467, 2482], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 20:17:16,563 - INFO - DeepSeek API 异步请求 - 模型输出:
3251,887,2249,372,185,271,758,3378,1815,359,1259,2137,2960,3614,3626,3312,2452,2409,1375,3859
2025-05-09 20:17:16,563 - INFO - 模型输出解析 - 原始输出:
3251,887,2249,372,185,271,758,3378,1815,359,1259,2137,2960,3614,3626,3312,2452,2409,1375,3859
2025-05-09 20:17:16,563 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 2249, 372, 185, 271, 758, 3378, 1815, 359, 1259, 2137, 2960, 3614, 3626, 3312, 2452, 2409, 1375, 3859]
2025-05-09 20:17:16,563 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 2249, 372, 185, 271, 758, 3378, 1815, 359], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 20:17:16,569 - INFO - DeepSeek API 异步请求 - 模型输出:
534,3449,3183,280,1187,3497,1458,2644,1232,537,1523,3247,823,2261,607,370,2791,3761,3801,3790
2025-05-09 20:17:16,569 - INFO - 模型输出解析 - 原始输出:
534,3449,3183,280,1187,3497,1458,2644,1232,537,1523,3247,823,2261,607,370,2791,3761,3801,3790
2025-05-09 20:17:16,569 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 3497, 1458, 2644, 1232, 537, 1523, 3247, 823, 2261, 607, 370, 2791, 3761, 3801, 3790]
2025-05-09 20:17:16,569 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 3497, 1458, 2644, 1232, 537], 真实目标: 534, NDCG@10: 1.0
2025-05-09 20:17:16,730 - INFO - DeepSeek API 异步请求 - 模型输出:
21,370,122,818,1722,428,1555,1539,1563,3824,691,447,2367,1913,3756,2609,567,3768,3701,3420
2025-05-09 20:17:16,731 - INFO - 模型输出解析 - 原始输出:
21,370,122,818,1722,428,1555,1539,1563,3824,691,447,2367,1913,3756,2609,567,3768,3701,3420
2025-05-09 20:17:16,731 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 818, 1722, 428, 1555, 1539, 1563, 3824, 691, 447, 2367, 1913, 3756, 2609, 567, 3768, 3701, 3420]
2025-05-09 20:17:16,731 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 818, 1722, 428, 1555, 1539, 1563, 3824], 真实目标: 3824, NDCG@10: 0.2890648263178879
2025-05-09 20:17:16,848 - INFO - DeepSeek API 异步请求 - 模型输出:
1858,3107,1343,373,1758,614,1236,2507,2997,3933,3325,3145,1537,1053,3864,971,1024,2049,2566,3672
2025-05-09 20:17:16,848 - INFO - 模型输出解析 - 原始输出:
1858,3107,1343,373,1758,614,1236,2507,2997,3933,3325,3145,1537,1053,3864,971,1024,2049,2566,3672
2025-05-09 20:17:16,848 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 3107, 1343, 373, 1758, 614, 1236, 2507, 2997, 3933, 3325, 3145, 1537, 1053, 3864, 971, 1024, 2049, 2566, 3672]
2025-05-09 20:17:16,848 - INFO - NDCG计算 - 预测列表前10项: [1858, 3107, 1343, 373, 1758, 614, 1236, 2507, 2997, 3933], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 20:17:17,007 - INFO - DeepSeek API 异步请求 - 模型输出:
1194,785,1083,945,1145,3768,3667,3709,3474,2438,194,3822,29,2858,1263,2311,1797,2705,2022,1365
2025-05-09 20:17:17,007 - INFO - 模型输出解析 - 原始输出:
1194,785,1083,945,1145,3768,3667,3709,3474,2438,194,3822,29,2858,1263,2311,1797,2705,2022,1365
2025-05-09 20:17:17,008 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438, 194, 3822, 29, 2858, 1263, 2311, 1797, 2705, 2022, 1365]
2025-05-09 20:17:17,008 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 20:17:17,169 - INFO - DeepSeek API 异步请求 - 模型输出:
396,1103,1590,161,3258,2210,2637,1965,3413,3723,381,2318,2144,1880,1251,3245,2970,876,3710,3695
2025-05-09 20:17:17,169 - INFO - 模型输出解析 - 原始输出:
396,1103,1590,161,3258,2210,2637,1965,3413,3723,381,2318,2144,1880,1251,3245,2970,876,3710,3695
2025-05-09 20:17:17,169 - INFO - 模型输出解析 - 解析后电影ID列表: [396, 1103, 1590, 161, 3258, 2210, 2637, 1965, 3413, 3723, 381, 2318, 2144, 1880, 1251, 3245, 2970, 876, 3710, 3695]
2025-05-09 20:17:17,169 - INFO - NDCG计算 - 预测列表前10项: [396, 1103, 1590, 161, 3258, 2210, 2637, 1965, 3413, 3723], 真实目标: 1965, NDCG@10: 0.31546487678572877
2025-05-09 20:17:18,531 - INFO - DeepSeek API 异步请求 - 模型输出:
2571,3623,2867,2550,3360,2943,1483,3176,3219,249,381,2154,1611,1965,146,3590,730,803,2129,3878
2025-05-09 20:17:18,531 - INFO - 模型输出解析 - 原始输出:
2571,3623,2867,2550,3360,2943,1483,3176,3219,249,381,2154,1611,1965,146,3590,730,803,2129,3878
2025-05-09 20:17:18,532 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 3360, 2943, 1483, 3176, 3219, 249, 381, 2154, 1611, 1965, 146, 3590, 730, 803, 2129, 3878]
2025-05-09 20:17:18,532 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 3360, 2943, 1483, 3176, 3219, 249], 真实目标: 3176, NDCG@10: 0.31546487678572877
2025-05-09 20:17:18,532 - INFO - 策略 expert_strict_comma 平均 NDCG@10: 0.6368

2025-05-09 20:17:18,532 - INFO - 
===== 评估策略: expert_strict_json =====
2025-05-09 20:17:18,691 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:18,698 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:18,708 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:18,708 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:18,709 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:18,709 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:18,710 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:18,710 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:18,710 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:18,728 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:25,369 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[2571,3623,2867,2550,1483,3360,3878,2943,249,381,2154,3176,3219,1965,1611,730,803,146,3590,2129]
```
2025-05-09 20:17:25,369 - INFO - 模型输出解析 - 原始输出:
```json
[2571,3623,2867,2550,1483,3360,3878,2943,249,381,2154,3176,3219,1965,1611,730,803,146,3590,2129]
```
2025-05-09 20:17:25,369 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 1483, 3360, 3878, 2943, 249, 381, 2154, 3176, 3219, 1965, 1611, 730, 803, 146, 3590, 2129]
2025-05-09 20:17:25,369 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 1483, 3360, 3878, 2943, 249, 381], 真实目标: 3176, NDCG@10: 0.0
2025-05-09 20:17:25,790 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[3107, 1858, 1343, 373, 1758, 614, 2507, 1537, 2997, 3145, 1236, 971, 1053, 3933, 3325, 3864, 1024, 2049, 2566, 3672]
```
2025-05-09 20:17:25,790 - INFO - 模型输出解析 - 原始输出:
```json
[3107, 1858, 1343, 373, 1758, 614, 2507, 1537, 2997, 3145, 1236, 971, 1053, 3933, 3325, 3864, 1024, 2049, 2566, 3672]
```
2025-05-09 20:17:25,790 - INFO - 模型输出解析 - 解析后电影ID列表: [3107, 1858, 1343, 373, 1758, 614, 2507, 1537, 2997, 3145, 1236, 971, 1053, 3933, 3325, 3864, 1024, 2049, 2566, 3672]
2025-05-09 20:17:25,790 - INFO - NDCG计算 - 预测列表前10项: [3107, 1858, 1343, 373, 1758, 614, 2507, 1537, 2997, 3145], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 20:17:25,990 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 3822, 29, 194, 2858, 1263, 2311, 2022, 2705, 1365, 1797]
```
2025-05-09 20:17:25,990 - INFO - 模型输出解析 - 原始输出:
```json
[1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 3822, 29, 194, 2858, 1263, 2311, 2022, 2705, 1365, 1797]
```
2025-05-09 20:17:25,990 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 3822, 29, 194, 2858, 1263, 2311, 2022, 2705, 1365, 1797]
2025-05-09 20:17:25,990 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 3822], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 20:17:26,077 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[3948, 516, 145, 8, 1822, 3618, 2374, 2993, 2227, 2160, 1671, 1824, 1528, 1317, 2620, 2869, 863, 3313, 2074]
```
2025-05-09 20:17:26,077 - INFO - 模型输出解析 - 原始输出:
```json
[3948, 516, 145, 8, 1822, 3618, 2374, 2993, 2227, 2160, 1671, 1824, 1528, 1317, 2620, 2869, 863, 3313, 2074]
```
2025-05-09 20:17:26,077 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 145, 8, 1822, 3618, 2374, 2993, 2227, 2160, 1671, 1824, 1528, 1317, 2620, 2869, 863, 3313, 2074]
2025-05-09 20:17:26,077 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 145, 8, 1822, 3618, 2374, 2993, 2227, 2160], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 20:17:26,191 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[1103, 161, 1590, 2210, 1965, 3258, 2318, 2970, 1251, 3723, 381, 2144, 1880, 396, 3710, 2637, 3695, 3413, 876, 3245]
```
2025-05-09 20:17:26,191 - INFO - 模型输出解析 - 原始输出:
```json
[1103, 161, 1590, 2210, 1965, 3258, 2318, 2970, 1251, 3723, 381, 2144, 1880, 396, 3710, 2637, 3695, 3413, 876, 3245]
```
2025-05-09 20:17:26,191 - INFO - 模型输出解析 - 解析后电影ID列表: [1103, 161, 1590, 2210, 1965, 3258, 2318, 2970, 1251, 3723, 381, 2144, 1880, 396, 3710, 2637, 3695, 3413, 876, 3245]
2025-05-09 20:17:26,191 - INFO - NDCG计算 - 预测列表前10项: [1103, 161, 1590, 2210, 1965, 3258, 2318, 2970, 1251, 3723], 真实目标: 1965, NDCG@10: 0.38685280723454163
2025-05-09 20:17:26,246 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[887, 3251, 271, 372, 1259, 185, 359, 1815, 2249, 3859, 2137, 2409, 2452, 3614, 3626, 2960, 3312, 3378, 1375]
```
2025-05-09 20:17:26,246 - INFO - 模型输出解析 - 原始输出:
```json
[887, 3251, 271, 372, 1259, 185, 359, 1815, 2249, 3859, 2137, 2409, 2452, 3614, 3626, 2960, 3312, 3378, 1375]
```
2025-05-09 20:17:26,246 - INFO - 模型输出解析 - 解析后电影ID列表: [887, 3251, 271, 372, 1259, 185, 359, 1815, 2249, 3859, 2137, 2409, 2452, 3614, 3626, 2960, 3312, 3378, 1375]
2025-05-09 20:17:26,246 - INFO - NDCG计算 - 预测列表前10项: [887, 3251, 271, 372, 1259, 185, 359, 1815, 2249, 3859], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 20:17:26,408 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[1695,1656,1844,1829,3221,41,3516,3497,2579,2813,3303,2755,396,328,2123,2720,1731,2795,3606,3858]
```
2025-05-09 20:17:26,409 - INFO - 模型输出解析 - 原始输出:
```json
[1695,1656,1844,1829,3221,41,3516,3497,2579,2813,3303,2755,396,328,2123,2720,1731,2795,3606,3858]
```
2025-05-09 20:17:26,409 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 1829, 3221, 41, 3516, 3497, 2579, 2813, 3303, 2755, 396, 328, 2123, 2720, 1731, 2795, 3606, 3858]
2025-05-09 20:17:26,409 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 1829, 3221, 41, 3516, 3497, 2579, 2813], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 20:17:26,454 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[21, 370, 122, 428, 1722, 1563, 818, 1539, 447, 691, 3824, 1555, 1913, 2609, 3756, 3768, 3420, 567, 3701, 2367]
```
2025-05-09 20:17:26,454 - INFO - 模型输出解析 - 原始输出:
```json
[21, 370, 122, 428, 1722, 1563, 818, 1539, 447, 691, 3824, 1555, 1913, 2609, 3756, 3768, 3420, 567, 3701, 2367]
```
2025-05-09 20:17:26,454 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 428, 1722, 1563, 818, 1539, 447, 691, 3824, 1555, 1913, 2609, 3756, 3768, 3420, 567, 3701, 2367]
2025-05-09 20:17:26,454 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 428, 1722, 1563, 818, 1539, 447, 691], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 20:17:27,624 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[534, 3449, 280, 3183, 1187, 3497, 1458, 537, 1232, 2644, 3247, 607, 2261, 823, 1523, 370, 2791, 3761, 3801, 3790]
```
2025-05-09 20:17:27,624 - INFO - 模型输出解析 - 原始输出:
```json
[534, 3449, 280, 3183, 1187, 3497, 1458, 537, 1232, 2644, 3247, 607, 2261, 823, 1523, 370, 2791, 3761, 3801, 3790]
```
2025-05-09 20:17:27,624 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 280, 3183, 1187, 3497, 1458, 537, 1232, 2644, 3247, 607, 2261, 823, 1523, 370, 2791, 3761, 3801, 3790]
2025-05-09 20:17:27,624 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 280, 3183, 1187, 3497, 1458, 537, 1232, 2644], 真实目标: 534, NDCG@10: 1.0
2025-05-09 20:17:28,238 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[3699, 2011, 2532, 555, 3557, 1541, 2562, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
```
2025-05-09 20:17:28,238 - INFO - 模型输出解析 - 原始输出:
```json
[3699, 2011, 2532, 555, 3557, 1541, 2562, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
```
2025-05-09 20:17:28,238 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 3557, 1541, 2562, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 20:17:28,238 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 3557, 1541, 2562, 515, 2467, 2482], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 20:17:28,238 - INFO - 策略 expert_strict_json 平均 NDCG@10: 0.5835

2025-05-09 20:17:28,238 - INFO - 
===== 评估策略: expert_cot_hidden =====
2025-05-09 20:17:28,534 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:28,535 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:28,535 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:28,535 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:28,535 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:28,538 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:28,544 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:28,551 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:28,551 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:28,554 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:34,756 - INFO - DeepSeek API 异步请求 - 模型输出:
21, 370, 122, 1563, 428, 1722, 2367, 3701, 1555, 1539, 447, 691, 818, 3420, 3768, 3824, 567, 3756, 2609, 1913
2025-05-09 20:17:34,756 - INFO - 模型输出解析 - 原始输出:
21, 370, 122, 1563, 428, 1722, 2367, 3701, 1555, 1539, 447, 691, 818, 3420, 3768, 3824, 567, 3756, 2609, 1913
2025-05-09 20:17:34,756 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 1563, 428, 1722, 2367, 3701, 1555, 1539, 447, 691, 818, 3420, 3768, 3824, 567, 3756, 2609, 1913]
2025-05-09 20:17:34,756 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 1563, 428, 1722, 2367, 3701, 1555, 1539], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 20:17:35,067 - INFO - DeepSeek API 异步请求 - 模型输出:
1695, 1656, 1844, 41, 1829, 3221, 3516, 3497, 2579, 3606, 2755, 396, 3858, 328, 2123, 2720, 1731, 3303, 2813, 2795
2025-05-09 20:17:35,067 - INFO - 模型输出解析 - 原始输出:
1695, 1656, 1844, 41, 1829, 3221, 3516, 3497, 2579, 3606, 2755, 396, 3858, 328, 2123, 2720, 1731, 3303, 2813, 2795
2025-05-09 20:17:35,067 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 41, 1829, 3221, 3516, 3497, 2579, 3606, 2755, 396, 3858, 328, 2123, 2720, 1731, 3303, 2813, 2795]
2025-05-09 20:17:35,067 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 41, 1829, 3221, 3516, 3497, 2579, 3606], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 20:17:35,469 - INFO - DeepSeek API 异步请求 - 模型输出:
534, 3449, 280, 3183, 1187, 1458, 3497, 2644, 1232, 3801, 607, 823, 1523, 3761, 2261, 537, 3247, 370, 2791, 3790
2025-05-09 20:17:35,469 - INFO - 模型输出解析 - 原始输出:
534, 3449, 280, 3183, 1187, 1458, 3497, 2644, 1232, 3801, 607, 823, 1523, 3761, 2261, 537, 3247, 370, 2791, 3790
2025-05-09 20:17:35,469 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 280, 3183, 1187, 1458, 3497, 2644, 1232, 3801, 607, 823, 1523, 3761, 2261, 537, 3247, 370, 2791, 3790]
2025-05-09 20:17:35,469 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 280, 3183, 1187, 1458, 3497, 2644, 1232, 3801], 真实目标: 534, NDCG@10: 1.0
2025-05-09 20:17:36,501 - INFO - DeepSeek API 异步请求 - 模型输出:
2571, 3623, 2867, 2550, 3878, 3176, 3219, 1483, 1965, 1611, 730, 3360, 2154, 381, 249, 2943, 146, 803, 3590, 2129
2025-05-09 20:17:36,501 - INFO - 模型输出解析 - 原始输出:
2571, 3623, 2867, 2550, 3878, 3176, 3219, 1483, 1965, 1611, 730, 3360, 2154, 381, 249, 2943, 146, 803, 3590, 2129
2025-05-09 20:17:36,501 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 3878, 3176, 3219, 1483, 1965, 1611, 730, 3360, 2154, 381, 249, 2943, 146, 803, 3590, 2129]
2025-05-09 20:17:36,501 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 3878, 3176, 3219, 1483, 1965, 1611], 真实目标: 3176, NDCG@10: 0.3562071871080222
2025-05-09 20:17:36,626 - INFO - DeepSeek API 异步请求 - 模型输出:
3948, 145, 8, 516, 1824, 3618, 2227, 2374, 1671, 2160, 1822, 3313, 1528, 1317, 2620, 2869, 863, 2993, 2074, 3882
2025-05-09 20:17:36,626 - INFO - 模型输出解析 - 原始输出:
3948, 145, 8, 516, 1824, 3618, 2227, 2374, 1671, 2160, 1822, 3313, 1528, 1317, 2620, 2869, 863, 2993, 2074, 3882
2025-05-09 20:17:36,626 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 145, 8, 516, 1824, 3618, 2227, 2374, 1671, 2160, 1822, 3313, 1528, 1317, 2620, 2869, 863, 2993, 2074, 3882]
2025-05-09 20:17:36,626 - INFO - NDCG计算 - 预测列表前10项: [3948, 145, 8, 516, 1824, 3618, 2227, 2374, 1671, 2160], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 20:17:36,757 - INFO - DeepSeek API 异步请求 - 模型输出:
1194, 785, 1083, 945, 194, 3822, 29, 1365, 2858, 2438, 3709, 3474, 1263, 2311, 1797, 3768, 2705, 3667, 2022, 1145
2025-05-09 20:17:36,757 - INFO - 模型输出解析 - 原始输出:
1194, 785, 1083, 945, 194, 3822, 29, 1365, 2858, 2438, 3709, 3474, 1263, 2311, 1797, 3768, 2705, 3667, 2022, 1145
2025-05-09 20:17:36,757 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 194, 3822, 29, 1365, 2858, 2438, 3709, 3474, 1263, 2311, 1797, 3768, 2705, 3667, 2022, 1145]
2025-05-09 20:17:36,757 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 194, 3822, 29, 1365, 2858, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 20:17:36,962 - INFO - DeepSeek API 异步请求 - 模型输出:
3258, 2210, 1590, 161, 1965, 1103, 2318, 396, 1880, 3710, 2637, 3695, 381, 3413, 2970, 3723, 876, 2144, 1251, 3245
2025-05-09 20:17:36,962 - INFO - 模型输出解析 - 原始输出:
3258, 2210, 1590, 161, 1965, 1103, 2318, 396, 1880, 3710, 2637, 3695, 381, 3413, 2970, 3723, 876, 2144, 1251, 3245
2025-05-09 20:17:36,962 - INFO - 模型输出解析 - 解析后电影ID列表: [3258, 2210, 1590, 161, 1965, 1103, 2318, 396, 1880, 3710, 2637, 3695, 381, 3413, 2970, 3723, 876, 2144, 1251, 3245]
2025-05-09 20:17:36,962 - INFO - NDCG计算 - 预测列表前10项: [3258, 2210, 1590, 161, 1965, 1103, 2318, 396, 1880, 3710], 真实目标: 1965, NDCG@10: 0.38685280723454163
2025-05-09 20:17:37,091 - INFO - DeepSeek API 异步请求 - 模型输出:
887, 3251, 271, 372, 1259, 2249, 185, 359, 1815, 3859, 2137, 3614, 2960, 3626, 3378, 3312, 2409, 2452, 1375
2025-05-09 20:17:37,091 - INFO - 模型输出解析 - 原始输出:
887, 3251, 271, 372, 1259, 2249, 185, 359, 1815, 3859, 2137, 3614, 2960, 3626, 3378, 3312, 2409, 2452, 1375
2025-05-09 20:17:37,091 - INFO - 模型输出解析 - 解析后电影ID列表: [887, 3251, 271, 372, 1259, 2249, 185, 359, 1815, 3859, 2137, 3614, 2960, 3626, 3378, 3312, 2409, 2452, 1375]
2025-05-09 20:17:37,091 - INFO - NDCG计算 - 预测列表前10项: [887, 3251, 271, 372, 1259, 2249, 185, 359, 1815, 3859], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 20:17:37,155 - INFO - DeepSeek API 异步请求 - 模型输出:
1858, 3107, 1343, 373, 614, 1236, 1758, 2507, 3933, 3325, 1537, 2997, 3145, 3672, 1053, 3864, 971, 2566, 1024, 2049
2025-05-09 20:17:37,155 - INFO - 模型输出解析 - 原始输出:
1858, 3107, 1343, 373, 614, 1236, 1758, 2507, 3933, 3325, 1537, 2997, 3145, 3672, 1053, 3864, 971, 2566, 1024, 2049
2025-05-09 20:17:37,155 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 3107, 1343, 373, 614, 1236, 1758, 2507, 3933, 3325, 1537, 2997, 3145, 3672, 1053, 3864, 971, 2566, 1024, 2049]
2025-05-09 20:17:37,155 - INFO - NDCG计算 - 预测列表前10项: [1858, 3107, 1343, 373, 614, 1236, 1758, 2507, 3933, 3325], 真实目标: 1758, NDCG@10: 0.3333333333333333
2025-05-09 20:17:39,688 - INFO - DeepSeek API 异步请求 - 模型输出:
3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
3557: Jennifer 8
2562: Bandits
1541: Addicted to Love
515: Remains of the Day, The
2467: Name of the Rose, The
2482: Still Crazy
2703: Broken Vessels
1357: Shine
1257: Better Off Dead...
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 20:17:39,688 - INFO - 模型输出解析 - 原始输出:
3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
3557: Jennifer 8
2562: Bandits
1541: Addicted to Love
515: Remains of the Day, The
2467: Name of the Rose, The
2482: Still Crazy
2703: Broken Vessels
1357: Shine
1257: Better Off Dead...
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 20:17:39,688 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 3557, 8, 2562, 1541, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 20:17:39,688 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 3557, 8, 2562, 1541, 515, 2467], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 20:17:39,688 - INFO - 策略 expert_cot_hidden 平均 NDCG@10: 0.6138

2025-05-09 20:17:39,688 - INFO - 
===== 评估策略: expert_format_example =====
2025-05-09 20:17:39,835 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:39,839 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:39,840 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:39,840 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:39,840 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:39,840 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:39,841 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:39,842 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:39,842 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:39,857 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:17:47,140 - INFO - DeepSeek API 异步请求 - 模型输出:
3948, 145, 8, 2227, 2160, 2993, 1824, 1822, 3618, 516, 1528, 1671, 3313, 2869, 3882, 2620, 1317, 2374, 2074, 863
2025-05-09 20:17:47,140 - INFO - 模型输出解析 - 原始输出:
3948, 145, 8, 2227, 2160, 2993, 1824, 1822, 3618, 516, 1528, 1671, 3313, 2869, 3882, 2620, 1317, 2374, 2074, 863
2025-05-09 20:17:47,140 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 145, 8, 2227, 2160, 2993, 1824, 1822, 3618, 516, 1528, 1671, 3313, 2869, 3882, 2620, 1317, 2374, 2074, 863]
2025-05-09 20:17:47,140 - INFO - NDCG计算 - 预测列表前10项: [3948, 145, 8, 2227, 2160, 2993, 1824, 1822, 3618, 516], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 20:17:47,447 - INFO - DeepSeek API 异步请求 - 模型输出:
2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 1611, 730, 3360, 381, 2154, 249, 146, 3590, 2943, 2129, 803, 3878
2025-05-09 20:17:47,447 - INFO - 模型输出解析 - 原始输出:
2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 1611, 730, 3360, 381, 2154, 249, 146, 3590, 2943, 2129, 803, 3878
2025-05-09 20:17:47,447 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 1611, 730, 3360, 381, 2154, 249, 146, 3590, 2943, 2129, 803, 3878]
2025-05-09 20:17:47,447 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 1611, 730], 真实目标: 3176, NDCG@10: 0.3562071871080222
2025-05-09 20:17:47,526 - INFO - DeepSeek API 异步请求 - 模型输出:
3699, 2011, 2532, 555, 515, 2467, 1541, 2562, 2482, 1357, 1257, 1102, 1420, 421, 3557, 1174, 310, 576, 3739, 2703
2025-05-09 20:17:47,526 - INFO - 模型输出解析 - 原始输出:
3699, 2011, 2532, 555, 515, 2467, 1541, 2562, 2482, 1357, 1257, 1102, 1420, 421, 3557, 1174, 310, 576, 3739, 2703
2025-05-09 20:17:47,526 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 515, 2467, 1541, 2562, 2482, 1357, 1257, 1102, 1420, 421, 3557, 1174, 310, 576, 3739, 2703]
2025-05-09 20:17:47,526 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 515, 2467, 1541, 2562, 2482, 1357], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 20:17:51,592 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（喜剧、荒诞幽默、经典喜剧片），以下是重新排序的候选电影ID列表，最可能观看的排在最前：

1194, 785, 945, 1083, 3709, 3768, 3667, 1145, 2858, 29, 3822, 1365, 2438, 3474, 194, 2705, 2022, 1263, 2311, 1797
2025-05-09 20:17:51,592 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（喜剧、荒诞幽默、经典喜剧片），以下是重新排序的候选电影ID列表，最可能观看的排在最前：

1194, 785, 945, 1083, 3709, 3768, 3667, 1145, 2858, 29, 3822, 1365, 2438, 3474, 194, 2705, 2022, 1263, 2311, 1797
2025-05-09 20:17:51,592 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 945, 1083, 3709, 3768, 3667, 1145, 2858, 29, 3822, 1365, 2438, 3474, 194, 2705, 2022, 1263, 2311, 1797]
2025-05-09 20:17:51,592 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 945, 1083, 3709, 3768, 3667, 1145, 2858, 29], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 20:17:53,531 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（文艺片、剧情片、经典电影和欧洲电影），以下是重新排序的候选电影ID列表：

1695, 1844, 3221, 2813, 1656, 41, 3516, 1829, 3606, 2579, 3858, 2755, 3497, 396, 2123, 2720, 1731, 328, 3303, 2795

排序理由：
1. 优先选择艺术性强的欧洲电影和文艺片（如Artemisia、Live Flesh、Draughtsman's Contract）
2. 其次是严肃剧情片和经典改编作品（如The Source、Swept from the Sea、Richard III）
3. 然后是轻喜剧和音乐剧（Bell Book and Candle、On the Town）
4. 最后是商业片和类型片（Inspector Gadget、Mr. Magoo等）
2025-05-09 20:17:53,531 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（文艺片、剧情片、经典电影和欧洲电影），以下是重新排序的候选电影ID列表：

1695, 1844, 3221, 2813, 1656, 41, 3516, 1829, 3606, 2579, 3858, 2755, 3497, 396, 2123, 2720, 1731, 328, 3303, 2795

排序理由：
1. 优先选择艺术性强的欧洲电影和文艺片（如Artemisia、Live Flesh、Draughtsman's Contract）
2. 其次是严肃剧情片和经典改编作品（如The Source、Swept from the Sea、Richard III）
3. 然后是轻喜剧和音乐剧（Bell Book and Candle、On the Town）
4. 最后是商业片和类型片（Inspector Gadget、Mr. Magoo等）
2025-05-09 20:17:53,531 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1844, 3221, 2813, 1656, 41, 3516, 1829, 3606, 2579, 3858, 2755, 3497, 396, 2123, 2720, 1731, 328, 3303, 2795, 1, 2, 3, 4]
2025-05-09 20:17:53,531 - INFO - NDCG计算 - 预测列表前10项: [1695, 1844, 3221, 2813, 1656, 41, 3516, 1829, 3606, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 20:18:00,162 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（包含动作片、经典电影、心理惊悚片和黑色幽默等元素），以下是重新排序的候选电影ID列表：

1103, 161, 1590, 1965, 3258, 2210, 3710, 2637, 3695, 1880, 2318, 396, 381, 3413, 2970, 3723, 876, 2144, 1251, 3245

排序理由：
1. 1103《无因的反叛》- 经典青少年反叛题材，类似用户看过的《爱德华剪刀手》
2. 161《赤色风暴》- 军事惊悚片，符合《终结者2》的动作偏好
3. 1590《黑洞表面》- 科幻恐怖片，接近《罗斯玛丽的婴儿》的惊悚元素
4. 1965《报信的人》- 黑色幽默犯罪片，类似《大人物》的调性
5. 3258《死亡之恋》- 黑色喜剧，接近用户看过的多部黑色幽默电影
6. 2210《破坏》- 希区柯克式惊悚片
7. 3710《动作杰克逊》- 80年代动作片
8. 2637《木乃伊之手》- 经典恐怖片
9. 3695《毒魔复仇3》- 邪典恐怖喜剧
10. 1880《草坪狗》- 另类成长故事
11-20为相对匹配度较低的作品
2025-05-09 20:18:00,162 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（包含动作片、经典电影、心理惊悚片和黑色幽默等元素），以下是重新排序的候选电影ID列表：

1103, 161, 1590, 1965, 3258, 2210, 3710, 2637, 3695, 1880, 2318, 396, 381, 3413, 2970, 3723, 876, 2144, 1251, 3245

排序理由：
1. 1103《无因的反叛》- 经典青少年反叛题材，类似用户看过的《爱德华剪刀手》
2. 161《赤色风暴》- 军事惊悚片，符合《终结者2》的动作偏好
3. 1590《黑洞表面》- 科幻恐怖片，接近《罗斯玛丽的婴儿》的惊悚元素
4. 1965《报信的人》- 黑色幽默犯罪片，类似《大人物》的调性
5. 3258《死亡之恋》- 黑色喜剧，接近用户看过的多部黑色幽默电影
6. 2210《破坏》- 希区柯克式惊悚片
7. 3710《动作杰克逊》- 80年代动作片
8. 2637《木乃伊之手》- 经典恐怖片
9. 3695《毒魔复仇3》- 邪典恐怖喜剧
10. 1880《草坪狗》- 另类成长故事
11-20为相对匹配度较低的作品
2025-05-09 20:18:00,162 - INFO - 模型输出解析 - 解析后电影ID列表: [1103, 161, 1590, 1965, 3258, 2210, 3710, 2637, 3695, 1880, 2318, 396, 381, 3413, 2970, 3723, 876, 2144, 1251, 3245, 1, 1103, 2, 161, 2, 3, 1590, 4, 1965, 5, 3258, 6, 2210, 7, 3710, 80, 8, 2637, 9, 3695, 3, 10, 1880, 11, 20]
2025-05-09 20:18:00,162 - INFO - NDCG计算 - 预测列表前10项: [1103, 161, 1590, 1965, 3258, 2210, 3710, 2637, 3695, 1880], 真实目标: 1965, NDCG@10: 0.43067655807339306
2025-05-09 20:18:01,439 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户历史观影记录分析，用户偏好偏向于剧情片、文学改编作品、社会议题电影以及带有浪漫/情感元素的影片。以下是重新排序后的候选电影ID列表：

534, 3183, 3449, 280, 1187, 3801, 3497, 1458, 607, 2644, 537, 3761, 1232, 3247, 2261, 2791, 370, 823, 1523, 3790

排序理由：
1. 534: Shadowlands (文学改编/情感剧情)
2. 3183: Third Miracle, The (社会议题/剧情)
3. 3449: Good Mother, The (家庭剧情)
4. 280: Murder in the First (法庭剧情片)
5. 1187: Passion Fish (女性视角剧情)
6. 3801: Anatomy of a Murder (经典法庭剧情)
7. 3497: Max Dugan Returns (家庭剧情)
8. 1458: Touch (社会议题)
9. 607: Century (历史剧情)
10. 2644: Dracula (哥特文学改编)
11. 537: Sirens (艺术题材)
12. 3761: Blood In, Blood Out (社会现实题材)
13. 1232: Stalker (艺术电影)
14. 3247: Sister Act (音乐喜剧)
15. 2261: One Crazy Summer (青春喜剧)
16. 2791: Airplane! (恶搞喜剧)
17. 370: Naked Gun 33 1/3 (恶搞喜剧)
18. 823: Collectionneuse, La (艺术电影)
19. 1523: Truth or Consequences (犯罪剧情)
20. 3790: Groove (音乐题材)
2025-05-09 20:18:01,439 - INFO - 模型输出解析 - 原始输出:
根据用户历史观影记录分析，用户偏好偏向于剧情片、文学改编作品、社会议题电影以及带有浪漫/情感元素的影片。以下是重新排序后的候选电影ID列表：

534, 3183, 3449, 280, 1187, 3801, 3497, 1458, 607, 2644, 537, 3761, 1232, 3247, 2261, 2791, 370, 823, 1523, 3790

排序理由：
1. 534: Shadowlands (文学改编/情感剧情)
2. 3183: Third Miracle, The (社会议题/剧情)
3. 3449: Good Mother, The (家庭剧情)
4. 280: Murder in the First (法庭剧情片)
5. 1187: Passion Fish (女性视角剧情)
6. 3801: Anatomy of a Murder (经典法庭剧情)
7. 3497: Max Dugan Returns (家庭剧情)
8. 1458: Touch (社会议题)
9. 607: Century (历史剧情)
10. 2644: Dracula (哥特文学改编)
11. 537: Sirens (艺术题材)
12. 3761: Blood In, Blood Out (社会现实题材)
13. 1232: Stalker (艺术电影)
14. 3247: Sister Act (音乐喜剧)
15. 2261: One Crazy Summer (青春喜剧)
16. 2791: Airplane! (恶搞喜剧)
17. 370: Naked Gun 33 1/3 (恶搞喜剧)
18. 823: Collectionneuse, La (艺术电影)
19. 1523: Truth or Consequences (犯罪剧情)
20. 3790: Groove (音乐题材)
2025-05-09 20:18:01,440 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3183, 3449, 280, 1187, 3801, 3497, 1458, 607, 2644, 537, 3761, 1232, 3247, 2261, 2791, 370, 823, 1523, 3790, 1, 534, 2, 3183, 3, 3449, 4, 280, 5, 1187, 6, 3801, 7, 3497, 8, 1458, 9, 607, 10, 2644, 11, 537, 12, 3761, 13, 1232, 14, 3247, 15, 2261, 16, 2791, 17, 370, 33, 1, 3, 18, 823, 19, 1523, 20, 3790]
2025-05-09 20:18:01,440 - INFO - NDCG计算 - 预测列表前10项: [534, 3183, 3449, 280, 1187, 3801, 3497, 1458, 607, 2644], 真实目标: 534, NDCG@10: 1.0
2025-05-09 20:18:02,355 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中的电影类型和风格偏好（独立电影、文艺片、女性视角、社会议题等），以下是重新排序的候选电影ID列表：

887, 3251, 271, 372, 359, 1815, 2249, 1259, 3859, 185, 3626, 3614, 2409, 2137, 2960, 3312, 3378, 2452, 1375

排序理由：
1. Talk of Angels (887) - 文艺片，女性视角
2. Agnes of God (3251) - 宗教题材心理剧
3. Losing Isaiah (271) - 社会议题剧情片
4. Reality Bites (372) - 90年代青年文化
5. I Like It Like That (359) - 都市少数族裔故事
6. Eden (1815) - 独立电影气质
7. My Blue Heaven (2249) - 文艺喜剧
8. Stand by Me (1259) - 成长故事经典
9. Eyes of Tammy Faye (3859) - 传记纪录片
10. Net, The (185) - 科技惊悚
11. 8 1/2 Women (3626) - 实验性艺术电影
12. Honeymoon in Vegas (3614) - 浪漫喜剧
13. Rocky II (2409) - 体育励志续集
14. Charlotte's Web (2137) - 经典儿童文学改编
15. Beefcake (2960) - 另类纪录片
16. McCullochs, The (3312) - 家庭剧情
17. Ogre, The (3378) - 德国黑暗童话
18. Gate II: Trespassers (2452) - 恐怖续集
19. Star Trek III (1375) - 科幻系列电影
2025-05-09 20:18:02,355 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中的电影类型和风格偏好（独立电影、文艺片、女性视角、社会议题等），以下是重新排序的候选电影ID列表：

887, 3251, 271, 372, 359, 1815, 2249, 1259, 3859, 185, 3626, 3614, 2409, 2137, 2960, 3312, 3378, 2452, 1375

排序理由：
1. Talk of Angels (887) - 文艺片，女性视角
2. Agnes of God (3251) - 宗教题材心理剧
3. Losing Isaiah (271) - 社会议题剧情片
4. Reality Bites (372) - 90年代青年文化
5. I Like It Like That (359) - 都市少数族裔故事
6. Eden (1815) - 独立电影气质
7. My Blue Heaven (2249) - 文艺喜剧
8. Stand by Me (1259) - 成长故事经典
9. Eyes of Tammy Faye (3859) - 传记纪录片
10. Net, The (185) - 科技惊悚
11. 8 1/2 Women (3626) - 实验性艺术电影
12. Honeymoon in Vegas (3614) - 浪漫喜剧
13. Rocky II (2409) - 体育励志续集
14. Charlotte's Web (2137) - 经典儿童文学改编
15. Beefcake (2960) - 另类纪录片
16. McCullochs, The (3312) - 家庭剧情
17. Ogre, The (3378) - 德国黑暗童话
18. Gate II: Trespassers (2452) - 恐怖续集
19. Star Trek III (1375) - 科幻系列电影
2025-05-09 20:18:02,355 - INFO - 模型输出解析 - 解析后电影ID列表: [887, 3251, 271, 372, 359, 1815, 2249, 1259, 3859, 185, 3626, 3614, 2409, 2137, 2960, 3312, 3378, 2452, 1375, 1, 887, 2, 3251, 3, 271, 4, 372, 90, 5, 359, 6, 1815, 7, 2249, 8, 1259, 9, 3859, 10, 185, 11, 8, 1, 2, 3626, 12, 3614, 13, 2409, 14, 2137, 15, 2960, 16, 3312, 17, 3378, 18, 2452, 19, 1375]
2025-05-09 20:18:02,355 - INFO - NDCG计算 - 预测列表前10项: [887, 3251, 271, 372, 359, 1815, 2249, 1259, 3859, 185], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 20:18:04,496 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近观看的电影列表，可以看出用户偏好动作片、犯罪片和剧情片，如《Mission to Mars》《Gone in 60 Seconds》《Shaft》《Romeo Must Die》等。因此，我会优先推荐风格类似的电影。

重排后的候选电影ID列表如下：

1858, 1343, 3107, 373, 1236, 1758, 614, 2997, 3145, 1537, 971, 2507, 1053, 3325, 3864, 1024, 2049, 2566, 3933, 3672

解释：
1. 1858: Mr. Nice Guy - 动作片，成龙主演，符合用户动作片偏好
2. 1343: Cape Fear - 犯罪惊悚片
3. 3107: Backdraft - 动作/剧情片
4. 373: Red Rock West - 犯罪惊悚片
5. 1236: Trust - 剧情片
6. 1758: Dangerous Beauty - 历史剧情片
7. 614: Loaded - 犯罪题材
8. 2997: Being John Malkovich - 黑色幽默剧情片
9. 3145: Cradle Will Rock, The - 历史剧情片
10. 1537: Shall We Dance? - 剧情片
11. 971: Cat on a Hot Tin Roof - 经典剧情片
12. 2507: Breakfast of Champions - 剧情喜剧
13. 1053: Normal Life - 犯罪剧情
14. 3325: Next Best Thing, The - 剧情片
15. 3864: Godzilla 2000 - 怪兽动作片
16. 1024: Three Caballeros, The - 动画音乐片
17. 2049: Happiest Millionaire, The - 音乐喜剧
18. 2566: Doug's 1st Movie - 儿童动画
19. 3933: Killer Shrews, The - B级恐怖片
20. 3672: Benji - 家庭电影
2025-05-09 20:18:04,496 - INFO - 模型输出解析 - 原始输出:
根据用户最近观看的电影列表，可以看出用户偏好动作片、犯罪片和剧情片，如《Mission to Mars》《Gone in 60 Seconds》《Shaft》《Romeo Must Die》等。因此，我会优先推荐风格类似的电影。

重排后的候选电影ID列表如下：

1858, 1343, 3107, 373, 1236, 1758, 614, 2997, 3145, 1537, 971, 2507, 1053, 3325, 3864, 1024, 2049, 2566, 3933, 3672

解释：
1. 1858: Mr. Nice Guy - 动作片，成龙主演，符合用户动作片偏好
2. 1343: Cape Fear - 犯罪惊悚片
3. 3107: Backdraft - 动作/剧情片
4. 373: Red Rock West - 犯罪惊悚片
5. 1236: Trust - 剧情片
6. 1758: Dangerous Beauty - 历史剧情片
7. 614: Loaded - 犯罪题材
8. 2997: Being John Malkovich - 黑色幽默剧情片
9. 3145: Cradle Will Rock, The - 历史剧情片
10. 1537: Shall We Dance? - 剧情片
11. 971: Cat on a Hot Tin Roof - 经典剧情片
12. 2507: Breakfast of Champions - 剧情喜剧
13. 1053: Normal Life - 犯罪剧情
14. 3325: Next Best Thing, The - 剧情片
15. 3864: Godzilla 2000 - 怪兽动作片
16. 1024: Three Caballeros, The - 动画音乐片
17. 2049: Happiest Millionaire, The - 音乐喜剧
18. 2566: Doug's 1st Movie - 儿童动画
19. 3933: Killer Shrews, The - B级恐怖片
20. 3672: Benji - 家庭电影
2025-05-09 20:18:04,496 - INFO - 模型输出解析 - 解析后电影ID列表: [60, 1858, 1343, 3107, 373, 1236, 1758, 614, 2997, 3145, 1537, 971, 2507, 1053, 3325, 3864, 1024, 2049, 2566, 3933, 3672, 1, 1858, 2, 1343, 3, 3107, 4, 373, 5, 1236, 6, 1758, 7, 614, 8, 2997, 9, 3145, 10, 1537, 11, 971, 12, 2507, 13, 1053, 14, 3325, 15, 3864, 2000, 16, 1024, 17, 2049, 18, 2566, 1, 19, 3933, 20, 3672]
2025-05-09 20:18:04,496 - INFO - NDCG计算 - 预测列表前10项: [60, 1858, 1343, 3107, 373, 1236, 1758, 614, 2997, 3145], 真实目标: 1758, NDCG@10: 0.3333333333333333
2025-05-09 20:18:16,225 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近观看的电影列表，可以看出用户偏好多样化的类型，包括动作片（Gladiator）、惊悚片（American Psycho, Final Destination）、喜剧片（Meet the Parents, Big Momma's House）以及一些剧情片。基于这些偏好，我将候选电影按照用户最可能观看的顺序排列如下：

21, 370, 1722, 122, 428, 2367, 1563, 1555, 1539, 447, 691, 818, 1913, 3420, 2609, 3756, 3768, 3701, 3824, 567

解释：
1. **Get Shorty (21)** - 犯罪喜剧片，符合用户对喜剧和动作的兴趣。
2. **Naked Gun 33 1/3: The Final Insult (370)** - 无厘头喜剧，类似用户看过的喜剧片。
3. **Tomorrow Never Dies (1722)** - 动作片，符合用户对动作类型的兴趣。
4. **Boomerang (122)** - 浪漫喜剧，类似Big Momma's House。
5. **Bronx Tale, A (428)** - 犯罪剧情片，结合了剧情和犯罪元素。
6. **King Kong (2367)** - 动作冒险片，符合用户对动作和惊悚的兴趣。
7. **Dream With the Fishes (1563)** - 剧情片，带有些许黑色幽默。
8. **To Have, or Not (1555)** - 剧情片，可能吸引喜欢剧情的用户。
9. **Twin Town (1539)** - 犯罪喜剧，结合了用户喜欢的两种类型。
10. **Favor, The (447)** - 剧情片，可能吸引喜欢剧情的用户。
11. **Mrs. Winterbourne (691)** - 浪漫喜剧，类似用户看过的喜剧片。
12. **Very Brady Sequel, A (818)** - 家庭喜剧，类似Meet the Parents。
13. **Picnic at Hanging Rock (1913)** - 悬疑剧情片，可能吸引喜欢剧情的用户。
14. **...And Justice for All (3420)** - 法庭剧情片，可能吸引喜欢剧情的用户。
15. **King of Masks, The (Bian Lian) (2609)** - 剧情片，可能吸引喜欢剧情的用户。
16. **Golden Bowl, The (3756)** - 剧情片，可能吸引喜欢剧情的用户。
17. **Braddock: Missing in Action III (3768)** - 动作片，但可能不如其他动作片吸引用户。
18. **Alien Nation (3701)** - 科幻动作片，可能吸引部分用户。
19. **Autumn in New York (3824)** - 浪漫剧情片，可能不太符合用户的主要兴趣。
20. **Kika (567)** - 艺术剧情片，可能不太符合用户的主要兴趣。

最终排序：
21, 370, 1722, 122, 428, 2367, 1563, 1555, 1539, 447, 691, 818, 1913, 3420, 2609, 3756, 3768, 3701, 3824, 567
2025-05-09 20:18:16,225 - INFO - 模型输出解析 - 原始输出:
根据用户最近观看的电影列表，可以看出用户偏好多样化的类型，包括动作片（Gladiator）、惊悚片（American Psycho, Final Destination）、喜剧片（Meet the Parents, Big Momma's House）以及一些剧情片。基于这些偏好，我将候选电影按照用户最可能观看的顺序排列如下：

21, 370, 1722, 122, 428, 2367, 1563, 1555, 1539, 447, 691, 818, 1913, 3420, 2609, 3756, 3768, 3701, 3824, 567

解释：
1. **Get Shorty (21)** - 犯罪喜剧片，符合用户对喜剧和动作的兴趣。
2. **Naked Gun 33 1/3: The Final Insult (370)** - 无厘头喜剧，类似用户看过的喜剧片。
3. **Tomorrow Never Dies (1722)** - 动作片，符合用户对动作类型的兴趣。
4. **Boomerang (122)** - 浪漫喜剧，类似Big Momma's House。
5. **Bronx Tale, A (428)** - 犯罪剧情片，结合了剧情和犯罪元素。
6. **King Kong (2367)** - 动作冒险片，符合用户对动作和惊悚的兴趣。
7. **Dream With the Fishes (1563)** - 剧情片，带有些许黑色幽默。
8. **To Have, or Not (1555)** - 剧情片，可能吸引喜欢剧情的用户。
9. **Twin Town (1539)** - 犯罪喜剧，结合了用户喜欢的两种类型。
10. **Favor, The (447)** - 剧情片，可能吸引喜欢剧情的用户。
11. **Mrs. Winterbourne (691)** - 浪漫喜剧，类似用户看过的喜剧片。
12. **Very Brady Sequel, A (818)** - 家庭喜剧，类似Meet the Parents。
13. **Picnic at Hanging Rock (1913)** - 悬疑剧情片，可能吸引喜欢剧情的用户。
14. **...And Justice for All (3420)** - 法庭剧情片，可能吸引喜欢剧情的用户。
15. **King of Masks, The (Bian Lian) (2609)** - 剧情片，可能吸引喜欢剧情的用户。
16. **Golden Bowl, The (3756)** - 剧情片，可能吸引喜欢剧情的用户。
17. **Braddock: Missing in Action III (3768)** - 动作片，但可能不如其他动作片吸引用户。
18. **Alien Nation (3701)** - 科幻动作片，可能吸引部分用户。
19. **Autumn in New York (3824)** - 浪漫剧情片，可能不太符合用户的主要兴趣。
20. **Kika (567)** - 艺术剧情片，可能不太符合用户的主要兴趣。

最终排序：
21, 370, 1722, 122, 428, 2367, 1563, 1555, 1539, 447, 691, 818, 1913, 3420, 2609, 3756, 3768, 3701, 3824, 567
2025-05-09 20:18:16,225 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 1722, 122, 428, 2367, 1563, 1555, 1539, 447, 691, 818, 1913, 3420, 2609, 3756, 3768, 3701, 3824, 567, 1, 21, 2, 33, 1, 3, 370, 3, 1722, 4, 122, 5, 428, 6, 2367, 7, 1563, 8, 1555, 9, 1539, 10, 447, 11, 691, 12, 818, 13, 1913, 14, 3420, 15, 2609, 16, 3756, 17, 3768, 18, 3701, 19, 3824, 20, 567, 21, 370, 1722, 122, 428, 2367, 1563, 1555, 1539, 447, 691, 818, 1913, 3420, 2609, 3756, 3768, 3701, 3824, 567]
2025-05-09 20:18:16,225 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 1722, 122, 428, 2367, 1563, 1555, 1539, 447], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 20:18:16,225 - INFO - 策略 expert_format_example 平均 NDCG@10: 0.6182

