2025-05-09 20:42:29,220 - INFO - 
===== 评估策略: expert_strict_comma =====
2025-05-09 20:42:29,403 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:29,404 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:29,404 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:29,405 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:29,406 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:29,415 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:29,415 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:29,416 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:29,416 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:29,416 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:35,505 - INFO - DeepSeek API 异步请求 - 模型输出:
1194,785,1083,945,1145,3768,3667,3709,3474,2438,194,3822,29,2858,1263,2311,1797,2022,2705,1365
2025-05-09 20:42:35,506 - INFO - 模型输出解析 - 原始输出:
1194,785,1083,945,1145,3768,3667,3709,3474,2438,194,3822,29,2858,1263,2311,1797,2022,2705,1365
2025-05-09 20:42:35,506 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438, 194, 3822, 29, 2858, 1263, 2311, 1797, 2022, 2705, 1365]
2025-05-09 20:42:35,506 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 20:42:35,571 - INFO - DeepSeek API 异步请求 - 模型输出:
3251,887,3378,271,372,185,359,1815,2249,1259,2137,3626,2960,3614,3312,2409,2452,3859,1375
2025-05-09 20:42:35,571 - INFO - 模型输出解析 - 原始输出:
3251,887,3378,271,372,185,359,1815,2249,1259,2137,3626,2960,3614,3312,2409,2452,3859,1375
2025-05-09 20:42:35,571 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 3378, 271, 372, 185, 359, 1815, 2249, 1259, 2137, 3626, 2960, 3614, 3312, 2409, 2452, 3859, 1375]
2025-05-09 20:42:35,571 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 3378, 271, 372, 185, 359, 1815, 2249, 1259], 真实目标: 372, NDCG@10: 0.38685280723454163
2025-05-09 20:42:35,776 - INFO - DeepSeek API 异步请求 - 模型输出:
534,3449,3183,280,1187,3497,1458,2644,1232,537,1523,370,2261,3247,823,607,3761,2791,3801,3790
2025-05-09 20:42:35,776 - INFO - 模型输出解析 - 原始输出:
534,3449,3183,280,1187,3497,1458,2644,1232,537,1523,370,2261,3247,823,607,3761,2791,3801,3790
2025-05-09 20:42:35,776 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 3497, 1458, 2644, 1232, 537, 1523, 370, 2261, 3247, 823, 607, 3761, 2791, 3801, 3790]
2025-05-09 20:42:35,776 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 3497, 1458, 2644, 1232, 537], 真实目标: 534, NDCG@10: 1.0
2025-05-09 20:42:35,842 - INFO - DeepSeek API 异步请求 - 模型输出:
3948,516,145,8,3618,1824,2227,2160,1671,1822,3313,2993,2074,2620,1528,1317,2374,2869,863
2025-05-09 20:42:35,842 - INFO - 模型输出解析 - 原始输出:
3948,516,145,8,3618,1824,2227,2160,1671,1822,3313,2993,2074,2620,1528,1317,2374,2869,863
2025-05-09 20:42:35,842 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 145, 8, 3618, 1824, 2227, 2160, 1671, 1822, 3313, 2993, 2074, 2620, 1528, 1317, 2374, 2869, 863]
2025-05-09 20:42:35,842 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 145, 8, 3618, 1824, 2227, 2160, 1671, 1822], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 20:42:35,962 - INFO - DeepSeek API 异步请求 - 模型输出:
396,1103,1590,161,3258,2210,2637,1965,3723,381,1880,2318,2970,1251,3245,3413,3710,3695,876,2144
2025-05-09 20:42:35,963 - INFO - 模型输出解析 - 原始输出:
396,1103,1590,161,3258,2210,2637,1965,3723,381,1880,2318,2970,1251,3245,3413,3710,3695,876,2144
2025-05-09 20:42:35,963 - INFO - 模型输出解析 - 解析后电影ID列表: [396, 1103, 1590, 161, 3258, 2210, 2637, 1965, 3723, 381, 1880, 2318, 2970, 1251, 3245, 3413, 3710, 3695, 876, 2144]
2025-05-09 20:42:35,963 - INFO - NDCG计算 - 预测列表前10项: [396, 1103, 1590, 161, 3258, 2210, 2637, 1965, 3723, 381], 真实目标: 1965, NDCG@10: 0.31546487678572877
2025-05-09 20:42:36,000 - INFO - DeepSeek API 异步请求 - 模型输出:
21,370,122,818,1722,428,1555,1539,1563,447,691,1913,3824,3756,2609,567,3701,2367,3420,3768
2025-05-09 20:42:36,000 - INFO - 模型输出解析 - 原始输出:
21,370,122,818,1722,428,1555,1539,1563,447,691,1913,3824,3756,2609,567,3701,2367,3420,3768
2025-05-09 20:42:36,000 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 818, 1722, 428, 1555, 1539, 1563, 447, 691, 1913, 3824, 3756, 2609, 567, 3701, 2367, 3420, 3768]
2025-05-09 20:42:36,000 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 818, 1722, 428, 1555, 1539, 1563, 447], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 20:42:36,083 - INFO - DeepSeek API 异步请求 - 模型输出:
2571,3623,2867,2550,1483,3176,3219,1965,3360,249,381,2154,1611,730,803,2943,2129,3878,146,3590
2025-05-09 20:42:36,083 - INFO - 模型输出解析 - 原始输出:
2571,3623,2867,2550,1483,3176,3219,1965,3360,249,381,2154,1611,730,803,2943,2129,3878,146,3590
2025-05-09 20:42:36,083 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 3360, 249, 381, 2154, 1611, 730, 803, 2943, 2129, 3878, 146, 3590]
2025-05-09 20:42:36,083 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 3360, 249], 真实目标: 3176, NDCG@10: 0.3562071871080222
2025-05-09 20:42:36,160 - INFO - DeepSeek API 异步请求 - 模型输出:
1695,1656,1844,3221,41,3516,3497,1829,3606,2579,2813,2755,396,3858,2720,1731,2123,328,3303,2795
2025-05-09 20:42:36,160 - INFO - 模型输出解析 - 原始输出:
1695,1656,1844,3221,41,3516,3497,1829,3606,2579,2813,2755,396,3858,2720,1731,2123,328,3303,2795
2025-05-09 20:42:36,160 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 3221, 41, 3516, 3497, 1829, 3606, 2579, 2813, 2755, 396, 3858, 2720, 1731, 2123, 328, 3303, 2795]
2025-05-09 20:42:36,160 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 3221, 41, 3516, 3497, 1829, 3606, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 20:42:36,424 - INFO - DeepSeek API 异步请求 - 模型输出:
1858,3107,373,1343,1758,614,1236,2507,3933,3325,3672,1537,971,3145,2997,3864,1024,2049,2566,1053
2025-05-09 20:42:36,424 - INFO - 模型输出解析 - 原始输出:
1858,3107,373,1343,1758,614,1236,2507,3933,3325,3672,1537,971,3145,2997,3864,1024,2049,2566,1053
2025-05-09 20:42:36,424 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 3107, 373, 1343, 1758, 614, 1236, 2507, 3933, 3325, 3672, 1537, 971, 3145, 2997, 3864, 1024, 2049, 2566, 1053]
2025-05-09 20:42:36,424 - INFO - NDCG计算 - 预测列表前10项: [1858, 3107, 373, 1343, 1758, 614, 1236, 2507, 3933, 3325], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 20:42:36,593 - INFO - DeepSeek API 异步请求 - 模型输出:
3699,2011,2532,555,3557,1541,2562,515,2467,2482,2703,1357,1257,1102,1420,421,576,3739,310,1174
2025-05-09 20:42:36,593 - INFO - 模型输出解析 - 原始输出:
3699,2011,2532,555,3557,1541,2562,515,2467,2482,2703,1357,1257,1102,1420,421,576,3739,310,1174
2025-05-09 20:42:36,593 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 3557, 1541, 2562, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 576, 3739, 310, 1174]
2025-05-09 20:42:36,593 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 3557, 1541, 2562, 515, 2467, 2482], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 20:42:36,593 - INFO - 策略 expert_strict_comma 平均 NDCG@10: 0.6076

2025-05-09 20:42:36,593 - INFO - 
===== 评估策略: expert_strict_json =====
2025-05-09 20:42:36,739 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:36,739 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:36,739 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:36,740 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:36,742 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:36,751 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:36,752 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:36,752 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:36,753 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:36,764 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:42,900 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[1695,1656,1844,1829,3221,41,3516,3497,2579,2813,3303,2755,396,328,2123,1731,2720,2795,3606,3858]
```
2025-05-09 20:42:42,900 - INFO - 模型输出解析 - 原始输出:
```json
[1695,1656,1844,1829,3221,41,3516,3497,2579,2813,3303,2755,396,328,2123,1731,2720,2795,3606,3858]
```
2025-05-09 20:42:42,900 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 1829, 3221, 41, 3516, 3497, 2579, 2813, 3303, 2755, 396, 328, 2123, 1731, 2720, 2795, 3606, 3858]
2025-05-09 20:42:42,900 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 1829, 3221, 41, 3516, 3497, 2579, 2813], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 20:42:43,043 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[3948, 145, 516, 1824, 2160, 1671, 2227, 2074, 1822, 3313, 3618, 1528, 1317, 2374, 2620, 2869, 8, 863, 2993]
```
2025-05-09 20:42:43,043 - INFO - 模型输出解析 - 原始输出:
```json
[3948, 145, 516, 1824, 2160, 1671, 2227, 2074, 1822, 3313, 3618, 1528, 1317, 2374, 2620, 2869, 8, 863, 2993]
```
2025-05-09 20:42:43,043 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 145, 516, 1824, 2160, 1671, 2227, 2074, 1822, 3313, 3618, 1528, 1317, 2374, 2620, 2869, 8, 863, 2993]
2025-05-09 20:42:43,043 - INFO - NDCG计算 - 预测列表前10项: [3948, 145, 516, 1824, 2160, 1671, 2227, 2074, 1822, 3313], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 20:42:43,119 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[21, 370, 122, 428, 1722, 1563, 567, 2367, 3701, 1555, 1539, 447, 691, 818, 3420, 3768, 1913, 3824, 2609, 3756]
```
2025-05-09 20:42:43,119 - INFO - 模型输出解析 - 原始输出:
```json
[21, 370, 122, 428, 1722, 1563, 567, 2367, 3701, 1555, 1539, 447, 691, 818, 3420, 3768, 1913, 3824, 2609, 3756]
```
2025-05-09 20:42:43,119 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 428, 1722, 1563, 567, 2367, 3701, 1555, 1539, 447, 691, 818, 3420, 3768, 1913, 3824, 2609, 3756]
2025-05-09 20:42:43,119 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 428, 1722, 1563, 567, 2367, 3701, 1555], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 20:42:43,212 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 194, 3822, 29, 2858, 1365, 1263, 2311, 2022, 2705, 1797]
```
2025-05-09 20:42:43,212 - INFO - 模型输出解析 - 原始输出:
```json
[1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 194, 3822, 29, 2858, 1365, 1263, 2311, 2022, 2705, 1797]
```
2025-05-09 20:42:43,212 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 194, 3822, 29, 2858, 1365, 1263, 2311, 2022, 2705, 1797]
2025-05-09 20:42:43,212 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 194], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 20:42:43,243 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[2571,3623,2867,2550,1483,3878,3360,249,381,2154,3176,3219,146,1611,730,803,1965,2129,2943,3590]
```
2025-05-09 20:42:43,245 - INFO - 模型输出解析 - 原始输出:
```json
[2571,3623,2867,2550,1483,3878,3360,249,381,2154,3176,3219,146,1611,730,803,1965,2129,2943,3590]
```
2025-05-09 20:42:43,245 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 1483, 3878, 3360, 249, 381, 2154, 3176, 3219, 146, 1611, 730, 803, 1965, 2129, 2943, 3590]
2025-05-09 20:42:43,245 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 1483, 3878, 3360, 249, 381, 2154], 真实目标: 3176, NDCG@10: 0.0
2025-05-09 20:42:43,294 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[1103, 161, 1590, 2210, 3258, 1965, 2318, 381, 3723, 2144, 1251, 3245, 1880, 396, 3710, 2637, 3695, 3413, 2970, 876]
```
2025-05-09 20:42:43,294 - INFO - 模型输出解析 - 原始输出:
```json
[1103, 161, 1590, 2210, 3258, 1965, 2318, 381, 3723, 2144, 1251, 3245, 1880, 396, 3710, 2637, 3695, 3413, 2970, 876]
```
2025-05-09 20:42:43,294 - INFO - 模型输出解析 - 解析后电影ID列表: [1103, 161, 1590, 2210, 3258, 1965, 2318, 381, 3723, 2144, 1251, 3245, 1880, 396, 3710, 2637, 3695, 3413, 2970, 876]
2025-05-09 20:42:43,294 - INFO - NDCG计算 - 预测列表前10项: [1103, 161, 1590, 2210, 3258, 1965, 2318, 381, 3723, 2144], 真实目标: 1965, NDCG@10: 0.3562071871080222
2025-05-09 20:42:43,461 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[887, 3251, 271, 372, 1259, 185, 2249, 359, 1815, 3859, 3626, 3614, 3378, 2960, 3312, 2452, 2409, 1375, 2137]
```
2025-05-09 20:42:43,461 - INFO - 模型输出解析 - 原始输出:
```json
[887, 3251, 271, 372, 1259, 185, 2249, 359, 1815, 3859, 3626, 3614, 3378, 2960, 3312, 2452, 2409, 1375, 2137]
```
2025-05-09 20:42:43,461 - INFO - 模型输出解析 - 解析后电影ID列表: [887, 3251, 271, 372, 1259, 185, 2249, 359, 1815, 3859, 3626, 3614, 3378, 2960, 3312, 2452, 2409, 1375, 2137]
2025-05-09 20:42:43,461 - INFO - NDCG计算 - 预测列表前10项: [887, 3251, 271, 372, 1259, 185, 2249, 359, 1815, 3859], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 20:42:43,537 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[534, 3449, 280, 3183, 1187, 3801, 3497, 1458, 1232, 2644, 3247, 607, 537, 3761, 823, 2261, 1523, 2791, 370, 3790]
```
2025-05-09 20:42:43,537 - INFO - 模型输出解析 - 原始输出:
```json
[534, 3449, 280, 3183, 1187, 3801, 3497, 1458, 1232, 2644, 3247, 607, 537, 3761, 823, 2261, 1523, 2791, 370, 3790]
```
2025-05-09 20:42:43,537 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 280, 3183, 1187, 3801, 3497, 1458, 1232, 2644, 3247, 607, 537, 3761, 823, 2261, 1523, 2791, 370, 3790]
2025-05-09 20:42:43,537 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 280, 3183, 1187, 3801, 3497, 1458, 1232, 2644], 真实目标: 534, NDCG@10: 1.0
2025-05-09 20:42:43,646 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[3699, 2532, 2011, 555, 3557, 1541, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739]
```
2025-05-09 20:42:43,646 - INFO - 模型输出解析 - 原始输出:
```json
[3699, 2532, 2011, 555, 3557, 1541, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739]
```
2025-05-09 20:42:43,646 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2532, 2011, 555, 3557, 1541, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739]
2025-05-09 20:42:43,646 - INFO - NDCG计算 - 预测列表前10项: [3699, 2532, 2011, 555, 3557, 1541, 515, 2467, 2482, 2703], 真实目标: 2011, NDCG@10: 0.5
2025-05-09 20:42:45,236 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[3107, 1858, 1343, 373, 1758, 614, 2507, 1537, 2997, 3145, 1236, 3325, 3672, 1053, 3864, 3933, 1024, 2049, 2566, 971]
```
2025-05-09 20:42:45,236 - INFO - 模型输出解析 - 原始输出:
```json
[3107, 1858, 1343, 373, 1758, 614, 2507, 1537, 2997, 3145, 1236, 3325, 3672, 1053, 3864, 3933, 1024, 2049, 2566, 971]
```
2025-05-09 20:42:45,236 - INFO - 模型输出解析 - 解析后电影ID列表: [3107, 1858, 1343, 373, 1758, 614, 2507, 1537, 2997, 3145, 1236, 3325, 3672, 1053, 3864, 3933, 1024, 2049, 2566, 971]
2025-05-09 20:42:45,236 - INFO - NDCG计算 - 预测列表前10项: [3107, 1858, 1343, 373, 1758, 614, 2507, 1537, 2997, 3145], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 20:42:45,236 - INFO - 策略 expert_strict_json 平均 NDCG@10: 0.5674

2025-05-09 20:42:45,236 - INFO - 
===== 评估策略: expert_cot_hidden =====
2025-05-09 20:42:45,390 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:45,391 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:45,391 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:45,392 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:45,393 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:45,393 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:45,395 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:45,396 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:45,399 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:45,402 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:51,794 - INFO - DeepSeek API 异步请求 - 模型输出:
1194, 785, 1083, 945, 3667, 3768, 3709, 2438, 3474, 3822, 29, 1365, 194, 2705, 2858, 1263, 2311, 1797, 2022
2025-05-09 20:42:51,794 - INFO - 模型输出解析 - 原始输出:
1194, 785, 1083, 945, 3667, 3768, 3709, 2438, 3474, 3822, 29, 1365, 194, 2705, 2858, 1263, 2311, 1797, 2022
2025-05-09 20:42:51,794 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 3667, 3768, 3709, 2438, 3474, 3822, 29, 1365, 194, 2705, 2858, 1263, 2311, 1797, 2022]
2025-05-09 20:42:51,794 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 3667, 3768, 3709, 2438, 3474, 3822], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 20:42:51,832 - INFO - DeepSeek API 异步请求 - 模型输出:
534, 3449, 3183, 280, 1187, 3801, 3497, 1458, 2644, 1232, 607, 823, 537, 2261, 1523, 3761, 3247, 370, 2791, 3790
2025-05-09 20:42:51,832 - INFO - 模型输出解析 - 原始输出:
534, 3449, 3183, 280, 1187, 3801, 3497, 1458, 2644, 1232, 607, 823, 537, 2261, 1523, 3761, 3247, 370, 2791, 3790
2025-05-09 20:42:51,832 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 3801, 3497, 1458, 2644, 1232, 607, 823, 537, 2261, 1523, 3761, 3247, 370, 2791, 3790]
2025-05-09 20:42:51,832 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 3801, 3497, 1458, 2644, 1232], 真实目标: 534, NDCG@10: 1.0
2025-05-09 20:42:51,838 - INFO - DeepSeek API 异步请求 - 模型输出:
3948, 145, 8, 3618, 516, 1824, 2227, 1671, 2160, 3313, 1822, 2620, 1528, 2869, 2374, 1317, 863, 2993, 2074, 3882
2025-05-09 20:42:51,838 - INFO - 模型输出解析 - 原始输出:
3948, 145, 8, 3618, 516, 1824, 2227, 1671, 2160, 3313, 1822, 2620, 1528, 2869, 2374, 1317, 863, 2993, 2074, 3882
2025-05-09 20:42:51,838 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 145, 8, 3618, 516, 1824, 2227, 1671, 2160, 3313, 1822, 2620, 1528, 2869, 2374, 1317, 863, 2993, 2074, 3882]
2025-05-09 20:42:51,838 - INFO - NDCG计算 - 预测列表前10项: [3948, 145, 8, 3618, 516, 1824, 2227, 1671, 2160, 3313], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 20:42:51,851 - INFO - DeepSeek API 异步请求 - 模型输出:
1858, 3107, 1343, 373, 614, 1236, 1758, 2507, 3933, 3325, 1537, 3145, 2997, 971, 3864, 3672, 1024, 2566, 2049, 1053
2025-05-09 20:42:51,851 - INFO - 模型输出解析 - 原始输出:
1858, 3107, 1343, 373, 614, 1236, 1758, 2507, 3933, 3325, 1537, 3145, 2997, 971, 3864, 3672, 1024, 2566, 2049, 1053
2025-05-09 20:42:51,851 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 3107, 1343, 373, 614, 1236, 1758, 2507, 3933, 3325, 1537, 3145, 2997, 971, 3864, 3672, 1024, 2566, 2049, 1053]
2025-05-09 20:42:51,851 - INFO - NDCG计算 - 预测列表前10项: [1858, 3107, 1343, 373, 614, 1236, 1758, 2507, 3933, 3325], 真实目标: 1758, NDCG@10: 0.3333333333333333
2025-05-09 20:42:52,418 - INFO - DeepSeek API 异步请求 - 模型输出:
3699, 2011, 2532, 555, 2562, 3557, 515, 1541, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739
2025-05-09 20:42:52,418 - INFO - 模型输出解析 - 原始输出:
3699, 2011, 2532, 555, 2562, 3557, 515, 1541, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739
2025-05-09 20:42:52,418 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 2562, 3557, 515, 1541, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 20:42:52,418 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 2562, 3557, 515, 1541, 2467, 2482], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 20:42:52,545 - INFO - DeepSeek API 异步请求 - 模型输出:
1695, 1656, 1844, 3221, 41, 3516, 3497, 396, 1829, 3606, 2579, 2813, 2755, 3858, 3303, 2720, 1731, 328, 2123, 2795
2025-05-09 20:42:52,546 - INFO - 模型输出解析 - 原始输出:
1695, 1656, 1844, 3221, 41, 3516, 3497, 396, 1829, 3606, 2579, 2813, 2755, 3858, 3303, 2720, 1731, 328, 2123, 2795
2025-05-09 20:42:52,546 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 3221, 41, 3516, 3497, 396, 1829, 3606, 2579, 2813, 2755, 3858, 3303, 2720, 1731, 328, 2123, 2795]
2025-05-09 20:42:52,546 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 3221, 41, 3516, 3497, 396, 1829, 3606], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 20:42:53,545 - INFO - DeepSeek API 异步请求 - 模型输出:
3258, 2210, 1590, 161, 396, 3710, 2637, 1103, 3695, 1965, 3413, 1880, 2318, 381, 2970, 3723, 876, 2144, 1251, 3245
2025-05-09 20:42:53,545 - INFO - 模型输出解析 - 原始输出:
3258, 2210, 1590, 161, 396, 3710, 2637, 1103, 3695, 1965, 3413, 1880, 2318, 381, 2970, 3723, 876, 2144, 1251, 3245
2025-05-09 20:42:53,545 - INFO - 模型输出解析 - 解析后电影ID列表: [3258, 2210, 1590, 161, 396, 3710, 2637, 1103, 3695, 1965, 3413, 1880, 2318, 381, 2970, 3723, 876, 2144, 1251, 3245]
2025-05-09 20:42:53,545 - INFO - NDCG计算 - 预测列表前10项: [3258, 2210, 1590, 161, 396, 3710, 2637, 1103, 3695, 1965], 真实目标: 1965, NDCG@10: 0.2890648263178879
2025-05-09 20:42:53,748 - INFO - DeepSeek API 异步请求 - 模型输出:
2571, 3623, 2867, 2550, 2943, 3176, 3219, 1483, 3360, 1965, 1611, 381, 2154, 249, 730, 3878, 146, 803, 3590, 2129
2025-05-09 20:42:53,748 - INFO - 模型输出解析 - 原始输出:
2571, 3623, 2867, 2550, 2943, 3176, 3219, 1483, 3360, 1965, 1611, 381, 2154, 249, 730, 3878, 146, 803, 3590, 2129
2025-05-09 20:42:53,748 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 2943, 3176, 3219, 1483, 3360, 1965, 1611, 381, 2154, 249, 730, 3878, 146, 803, 3590, 2129]
2025-05-09 20:42:53,748 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 2943, 3176, 3219, 1483, 3360, 1965], 真实目标: 3176, NDCG@10: 0.3562071871080222
2025-05-09 20:42:55,310 - INFO - DeepSeek API 异步请求 - 模型输出:
21, 370, 122, 1563, 428, 1722, 2367, 3701, 567, 818, 1555, 1539, 447, 691, 3420, 3768, 3824, 1913, 2609, 3756
2025-05-09 20:42:55,310 - INFO - 模型输出解析 - 原始输出:
21, 370, 122, 1563, 428, 1722, 2367, 3701, 567, 818, 1555, 1539, 447, 691, 3420, 3768, 3824, 1913, 2609, 3756
2025-05-09 20:42:55,310 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 1563, 428, 1722, 2367, 3701, 567, 818, 1555, 1539, 447, 691, 3420, 3768, 3824, 1913, 2609, 3756]
2025-05-09 20:42:55,310 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 1563, 428, 1722, 2367, 3701, 567, 818], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 20:42:58,086 - INFO - DeepSeek API 异步请求 - 模型输出:
887: Talk of Angels
3251: Agnes of God
271: Losing Isaiah
372: Reality Bites
1259: Stand by Me
185: Net, The
2249: My Blue Heaven
3859: Eyes of Tammy Faye, The
359: I Like It Like That
1815: Eden
2960: Beefcake
3614: Honeymoon in Vegas
3626: 8 1/2 Women
3378: Ogre, The (Der Unhold)
3312: McCullochs, The
2452: Gate II: Trespassers, The
1375: Star Trek III: The Search for Spock
2409: Rocky II
2137: Charlotte's Web
758: Jar, The (Khomreh)
2025-05-09 20:42:58,086 - INFO - 模型输出解析 - 原始输出:
887: Talk of Angels
3251: Agnes of God
271: Losing Isaiah
372: Reality Bites
1259: Stand by Me
185: Net, The
2249: My Blue Heaven
3859: Eyes of Tammy Faye, The
359: I Like It Like That
1815: Eden
2960: Beefcake
3614: Honeymoon in Vegas
3626: 8 1/2 Women
3378: Ogre, The (Der Unhold)
3312: McCullochs, The
2452: Gate II: Trespassers, The
1375: Star Trek III: The Search for Spock
2409: Rocky II
2137: Charlotte's Web
758: Jar, The (Khomreh)
2025-05-09 20:42:58,086 - INFO - 模型输出解析 - 解析后电影ID列表: [887, 3251, 271, 372, 1259, 185, 2249, 3859, 359, 1815, 2960, 3614, 3626, 8, 1, 2, 3378, 3312, 2452, 1375, 2409, 2137, 758]
2025-05-09 20:42:58,086 - INFO - NDCG计算 - 预测列表前10项: [887, 3251, 271, 372, 1259, 185, 2249, 3859, 359, 1815], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 20:42:58,086 - INFO - 策略 expert_cot_hidden 平均 NDCG@10: 0.6040

2025-05-09 20:42:58,086 - INFO - 
===== 评估策略: expert_format_example =====
2025-05-09 20:42:58,226 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:58,233 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:58,233 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:58,236 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:58,248 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:58,249 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:58,249 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:58,258 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:58,267 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:42:58,272 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:43:04,752 - INFO - DeepSeek API 异步请求 - 模型输出:
3699, 2011, 2532, 555, 515, 2467, 1541, 576, 2482, 310, 1257, 1357, 1420, 2562, 3557, 2703, 1102, 1174, 3739, 421
2025-05-09 20:43:04,752 - INFO - 模型输出解析 - 原始输出:
3699, 2011, 2532, 555, 515, 2467, 1541, 576, 2482, 310, 1257, 1357, 1420, 2562, 3557, 2703, 1102, 1174, 3739, 421
2025-05-09 20:43:04,752 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 515, 2467, 1541, 576, 2482, 310, 1257, 1357, 1420, 2562, 3557, 2703, 1102, 1174, 3739, 421]
2025-05-09 20:43:04,752 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 515, 2467, 1541, 576, 2482, 310], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 20:43:06,163 - INFO - DeepSeek API 异步请求 - 模型输出:
2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 1611, 730, 3360, 381, 2154, 249, 2943, 146, 3590, 2129, 803, 3878
2025-05-09 20:43:06,163 - INFO - 模型输出解析 - 原始输出:
2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 1611, 730, 3360, 381, 2154, 249, 2943, 146, 3590, 2129, 803, 3878
2025-05-09 20:43:06,163 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 1611, 730, 3360, 381, 2154, 249, 2943, 146, 3590, 2129, 803, 3878]
2025-05-09 20:43:06,163 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 1611, 730], 真实目标: 3176, NDCG@10: 0.3562071871080222
2025-05-09 20:43:06,476 - INFO - DeepSeek API 异步请求 - 模型输出:
1858, 1343, 3107, 373, 971, 1758, 1236, 614, 3933, 3325, 1537, 3145, 2997, 2507, 3672, 1053, 3864, 1024, 2049, 2566
2025-05-09 20:43:06,476 - INFO - 模型输出解析 - 原始输出:
1858, 1343, 3107, 373, 971, 1758, 1236, 614, 3933, 3325, 1537, 3145, 2997, 2507, 3672, 1053, 3864, 1024, 2049, 2566
2025-05-09 20:43:06,476 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 1343, 3107, 373, 971, 1758, 1236, 614, 3933, 3325, 1537, 3145, 2997, 2507, 3672, 1053, 3864, 1024, 2049, 2566]
2025-05-09 20:43:06,476 - INFO - NDCG计算 - 预测列表前10项: [1858, 1343, 3107, 373, 971, 1758, 1236, 614, 3933, 3325], 真实目标: 1758, NDCG@10: 0.3562071871080222
2025-05-09 20:43:06,562 - INFO - DeepSeek API 异步请求 - 模型输出:
3948, 145, 8, 2227, 2160, 2993, 1824, 1822, 2074, 516, 1671, 3313, 2374, 1317, 2620, 1528, 3618, 3882, 2869, 863
2025-05-09 20:43:06,563 - INFO - 模型输出解析 - 原始输出:
3948, 145, 8, 2227, 2160, 2993, 1824, 1822, 2074, 516, 1671, 3313, 2374, 1317, 2620, 1528, 3618, 3882, 2869, 863
2025-05-09 20:43:06,563 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 145, 8, 2227, 2160, 2993, 1824, 1822, 2074, 516, 1671, 3313, 2374, 1317, 2620, 1528, 3618, 3882, 2869, 863]
2025-05-09 20:43:06,563 - INFO - NDCG计算 - 预测列表前10项: [3948, 145, 8, 2227, 2160, 2993, 1824, 1822, 2074, 516], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 20:43:11,051 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户历史观看的喜剧片单（Animal House, Monty Python's Life of Brian, Blazing Saddles等），优先推荐同类型荒诞/恶搞喜剧。排序如下：

1194, 785, 945, 1083, 3709, 3768, 3667, 1145, 2858, 29, 3822, 1365, 194, 2438, 3474, 2705, 2022, 1263, 2311, 1797

推荐理由：
1. Up in Smoke (1194) 和 Kingpin (785) - 经典无厘头喜剧
2. Top Hat (945) 和 Great Race (1083) - 复古歌舞/冒险喜剧
3. Sleepwalkers (3709) - 恐怖喜剧元素
4. 动作喜剧类：Braddock/Rent-A-Cop
5. 其他类型按用户历史相关性降序排列
2025-05-09 20:43:11,051 - INFO - 模型输出解析 - 原始输出:
根据用户历史观看的喜剧片单（Animal House, Monty Python's Life of Brian, Blazing Saddles等），优先推荐同类型荒诞/恶搞喜剧。排序如下：

1194, 785, 945, 1083, 3709, 3768, 3667, 1145, 2858, 29, 3822, 1365, 194, 2438, 3474, 2705, 2022, 1263, 2311, 1797

推荐理由：
1. Up in Smoke (1194) 和 Kingpin (785) - 经典无厘头喜剧
2. Top Hat (945) 和 Great Race (1083) - 复古歌舞/冒险喜剧
3. Sleepwalkers (3709) - 恐怖喜剧元素
4. 动作喜剧类：Braddock/Rent-A-Cop
5. 其他类型按用户历史相关性降序排列
2025-05-09 20:43:11,051 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 945, 1083, 3709, 3768, 3667, 1145, 2858, 29, 3822, 1365, 194, 2438, 3474, 2705, 2022, 1263, 2311, 1797, 1, 1194, 785, 2, 945, 1083, 3, 3709, 4, 5]
2025-05-09 20:43:11,051 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 945, 1083, 3709, 3768, 3667, 1145, 2858, 29], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 20:43:11,708 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（包含动作片、黑色幽默、心理惊悚、经典电影等元素），以下是重新排序的候选电影ID列表：

1103, 161, 1590, 1965, 3258, 2210, 3710, 2637, 3695, 1880, 381, 2144, 2318, 396, 876, 1251, 2970, 3245, 3723, 3413

排序理由：
1. 优先选择与《终结者2》《勇敢的心》相似的动作/冒险类（1103,161,1590）
2. 其次选择与《Boogie Nights》《High Fidelity》相似的另类风格电影（1965,3258）
3. 接着是心理惊悚类（2210,2637）匹配《罗斯玛丽的婴儿》
4. 黑色幽默类（3695,1880）匹配《Edward Scissorhands》
5. 最后是文艺类和其他类型
2025-05-09 20:43:11,708 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（包含动作片、黑色幽默、心理惊悚、经典电影等元素），以下是重新排序的候选电影ID列表：

1103, 161, 1590, 1965, 3258, 2210, 3710, 2637, 3695, 1880, 381, 2144, 2318, 396, 876, 1251, 2970, 3245, 3723, 3413

排序理由：
1. 优先选择与《终结者2》《勇敢的心》相似的动作/冒险类（1103,161,1590）
2. 其次选择与《Boogie Nights》《High Fidelity》相似的另类风格电影（1965,3258）
3. 接着是心理惊悚类（2210,2637）匹配《罗斯玛丽的婴儿》
4. 黑色幽默类（3695,1880）匹配《Edward Scissorhands》
5. 最后是文艺类和其他类型
2025-05-09 20:43:11,708 - INFO - 模型输出解析 - 解析后电影ID列表: [1103, 161, 1590, 1965, 3258, 2210, 3710, 2637, 3695, 1880, 381, 2144, 2318, 396, 876, 1251, 2970, 3245, 3723, 3413, 1, 2, 1103, 161, 1590, 2, 1965, 3258, 3, 2210, 2637, 4, 3695, 1880, 5]
2025-05-09 20:43:11,708 - INFO - NDCG计算 - 预测列表前10项: [1103, 161, 1590, 1965, 3258, 2210, 3710, 2637, 3695, 1880], 真实目标: 1965, NDCG@10: 0.43067655807339306
2025-05-09 20:43:12,437 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户历史观影记录分析，用户偏好偏向于剧情片、情感深刻的电影以及文学改编作品。以下是重新排序后的候选电影ID列表：

534, 3183, 3449, 280, 1187, 3801, 607, 3497, 1458, 2644, 3761, 1232, 537, 2261, 3247, 2791, 370, 823, 1523, 3790

排序理由：
1. 优先选择剧情深刻/文学改编作品(如Shadowlands, Third Miracle)
2. 其次是法庭/犯罪剧情片(Murder in the First, Anatomy of a Murder)
3. 然后是情感剧情片(Good Mother, Passion Fish)
4. 接着是较严肃的题材作品
5. 最后是喜剧/动作等与用户历史偏好关联性较低的影片
2025-05-09 20:43:12,437 - INFO - 模型输出解析 - 原始输出:
根据用户历史观影记录分析，用户偏好偏向于剧情片、情感深刻的电影以及文学改编作品。以下是重新排序后的候选电影ID列表：

534, 3183, 3449, 280, 1187, 3801, 607, 3497, 1458, 2644, 3761, 1232, 537, 2261, 3247, 2791, 370, 823, 1523, 3790

排序理由：
1. 优先选择剧情深刻/文学改编作品(如Shadowlands, Third Miracle)
2. 其次是法庭/犯罪剧情片(Murder in the First, Anatomy of a Murder)
3. 然后是情感剧情片(Good Mother, Passion Fish)
4. 接着是较严肃的题材作品
5. 最后是喜剧/动作等与用户历史偏好关联性较低的影片
2025-05-09 20:43:12,437 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3183, 3449, 280, 1187, 3801, 607, 3497, 1458, 2644, 3761, 1232, 537, 2261, 3247, 2791, 370, 823, 1523, 3790, 1, 2, 3, 4, 5]
2025-05-09 20:43:12,437 - INFO - NDCG计算 - 预测列表前10项: [534, 3183, 3449, 280, 1187, 3801, 607, 3497, 1458, 2644], 真实目标: 534, NDCG@10: 1.0
2025-05-09 20:43:12,953 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（文艺片、剧情片、有一定深度的电影），我将候选电影重新排序如下：

1695, 1844, 3221, 1656, 2813, 41, 1829, 3516, 3606, 2579, 3497, 2755, 3858, 3303, 396, 2123, 2720, 1731, 328, 2795

排序理由：
1. 优先选择艺术性强的剧情片（如Artemisia、Live Flesh、Draughtsman's Contract）
2. 其次是文学改编作品和严肃题材（Swept from the Sea、The Source、Richard III）
3. 然后是轻喜剧和浪漫题材（Bell Book and Candle、On the Town）
4. 最后是动作/冒险/低俗喜剧类（Inspector Gadget、Mr. Magoo等）
2025-05-09 20:43:12,954 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（文艺片、剧情片、有一定深度的电影），我将候选电影重新排序如下：

1695, 1844, 3221, 1656, 2813, 41, 1829, 3516, 3606, 2579, 3497, 2755, 3858, 3303, 396, 2123, 2720, 1731, 328, 2795

排序理由：
1. 优先选择艺术性强的剧情片（如Artemisia、Live Flesh、Draughtsman's Contract）
2. 其次是文学改编作品和严肃题材（Swept from the Sea、The Source、Richard III）
3. 然后是轻喜剧和浪漫题材（Bell Book and Candle、On the Town）
4. 最后是动作/冒险/低俗喜剧类（Inspector Gadget、Mr. Magoo等）
2025-05-09 20:43:12,954 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1844, 3221, 1656, 2813, 41, 1829, 3516, 3606, 2579, 3497, 2755, 3858, 3303, 396, 2123, 2720, 1731, 328, 2795, 1, 2, 3, 4]
2025-05-09 20:43:12,954 - INFO - NDCG计算 - 预测列表前10项: [1695, 1844, 3221, 1656, 2813, 41, 1829, 3516, 3606, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 20:43:14,808 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（文艺片、独立电影、女性视角、文学改编作品），我将候选电影重新排序如下：

3251, 887, 271, 372, 359, 1815, 2249, 1259, 185, 3614, 2137, 2409, 2960, 3626, 3378, 3312, 2452, 3859, 1375

排序理由：
1. Agnes of God (3251) - 宗教题材文艺片，符合用户对严肃题材的偏好
2. Talk of Angels (887) - 女性视角的历史剧情片
3. Losing Isaiah (271) - 情感深刻的家庭伦理剧
4. Reality Bites (372) - 90年代经典文艺片
5. I Like It Like That (359) - 都市少数族裔女性故事
6. Eden (1815) - 独立制作文艺片
7. My Blue Heaven (2249) - 轻喜剧但带有文艺气质
8. Stand by Me (1259) - 经典成长故事
9. Net, The (185) - 科技惊悚但女主角驱动
10-19为相对不太符合用户品味的动作/恐怖/商业片
2025-05-09 20:43:14,808 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（文艺片、独立电影、女性视角、文学改编作品），我将候选电影重新排序如下：

3251, 887, 271, 372, 359, 1815, 2249, 1259, 185, 3614, 2137, 2409, 2960, 3626, 3378, 3312, 2452, 3859, 1375

排序理由：
1. Agnes of God (3251) - 宗教题材文艺片，符合用户对严肃题材的偏好
2. Talk of Angels (887) - 女性视角的历史剧情片
3. Losing Isaiah (271) - 情感深刻的家庭伦理剧
4. Reality Bites (372) - 90年代经典文艺片
5. I Like It Like That (359) - 都市少数族裔女性故事
6. Eden (1815) - 独立制作文艺片
7. My Blue Heaven (2249) - 轻喜剧但带有文艺气质
8. Stand by Me (1259) - 经典成长故事
9. Net, The (185) - 科技惊悚但女主角驱动
10-19为相对不太符合用户品味的动作/恐怖/商业片
2025-05-09 20:43:14,808 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 359, 1815, 2249, 1259, 185, 3614, 2137, 2409, 2960, 3626, 3378, 3312, 2452, 3859, 1375, 1, 3251, 2, 887, 3, 271, 4, 372, 90, 5, 359, 6, 1815, 7, 2249, 8, 1259, 9, 185, 10, 19]
2025-05-09 20:43:14,808 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 359, 1815, 2249, 1259, 185, 3614], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 20:43:15,611 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近观看的电影列表，可以看出用户偏好多样化的类型，包括动作片（Gladiator）、惊悚片（American Psycho, Final Destination）、喜剧片（Meet the Parents, Big Momma's House）以及一些剧情片（Duets, Replacements, The）。基于这些偏好，我将候选电影按照用户最可能观看的顺序排列如下：

21: Get Shorty  
370: Naked Gun 33 1/3: The Final Insult  
122: Boomerang  
1722: Tomorrow Never Dies  
2367: King Kong  
428: Bronx Tale, A  
1563: Dream With the Fishes  
1539: Twin Town  
3701: Alien Nation  
3768: Braddock: Missing in Action III  
3420: ...And Justice for All  
818: Very Brady Sequel, A  
691: Mrs. Winterbourne  
447: Favor, The  
1555: To Have, or Not  
3824: Autumn in New York  
1913: Picnic at Hanging Rock  
2609: King of Masks, The (Bian Lian)  
3756: Golden Bowl, The  
567: Kika  

最终排序的电影ID列表为：

21,370,122,1722,2367,428,1563,1539,3701,3768,3420,818,691,447,1555,3824,1913,2609,3756,567
2025-05-09 20:43:15,611 - INFO - 模型输出解析 - 原始输出:
根据用户最近观看的电影列表，可以看出用户偏好多样化的类型，包括动作片（Gladiator）、惊悚片（American Psycho, Final Destination）、喜剧片（Meet the Parents, Big Momma's House）以及一些剧情片（Duets, Replacements, The）。基于这些偏好，我将候选电影按照用户最可能观看的顺序排列如下：

21: Get Shorty  
370: Naked Gun 33 1/3: The Final Insult  
122: Boomerang  
1722: Tomorrow Never Dies  
2367: King Kong  
428: Bronx Tale, A  
1563: Dream With the Fishes  
1539: Twin Town  
3701: Alien Nation  
3768: Braddock: Missing in Action III  
3420: ...And Justice for All  
818: Very Brady Sequel, A  
691: Mrs. Winterbourne  
447: Favor, The  
1555: To Have, or Not  
3824: Autumn in New York  
1913: Picnic at Hanging Rock  
2609: King of Masks, The (Bian Lian)  
3756: Golden Bowl, The  
567: Kika  

最终排序的电影ID列表为：

21,370,122,1722,2367,428,1563,1539,3701,3768,3420,818,691,447,1555,3824,1913,2609,3756,567
2025-05-09 20:43:15,611 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 33, 1, 3, 122, 1722, 2367, 428, 1563, 1539, 3701, 3768, 3420, 818, 691, 447, 1555, 3824, 1913, 2609, 3756, 567, 21, 370, 122, 1722, 2367, 428, 1563, 1539, 3701, 3768, 3420, 818, 691, 447, 1555, 3824, 1913, 2609, 3756, 567]
2025-05-09 20:43:15,611 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 33, 1, 3, 122, 1722, 2367, 428, 1563], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 20:43:15,611 - INFO - 策略 expert_format_example 平均 NDCG@10: 0.6205

