2025-05-09 20:41:19,903 - INFO - 
===== 评估策略: expert_strict_comma =====
2025-05-09 20:41:20,085 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:20,085 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:20,086 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:20,087 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:20,088 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:20,089 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:20,089 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:20,089 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:20,089 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:20,091 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:25,975 - INFO - DeepSeek API 异步请求 - 模型输出:
396,1103,1590,161,1880,3258,2318,381,1965,2144,3723,1251,3245,2970,2210,2637,3695,3710,876,3413
2025-05-09 20:41:25,976 - INFO - 模型输出解析 - 原始输出:
396,1103,1590,161,1880,3258,2318,381,1965,2144,3723,1251,3245,2970,2210,2637,3695,3710,876,3413
2025-05-09 20:41:25,976 - INFO - 模型输出解析 - 解析后电影ID列表: [396, 1103, 1590, 161, 1880, 3258, 2318, 381, 1965, 2144, 3723, 1251, 3245, 2970, 2210, 2637, 3695, 3710, 876, 3413]
2025-05-09 20:41:25,976 - INFO - NDCG计算 - 预测列表前10项: [396, 1103, 1590, 161, 1880, 3258, 2318, 381, 1965, 2144], 真实目标: 1965, NDCG@10: 0.3010299956639812
2025-05-09 20:41:26,297 - INFO - DeepSeek API 异步请求 - 模型输出:
3699,2011,2532,555,1541,2562,3557,515,2467,2482,2703,1357,1257,1102,1420,421,310,576,3739,1174
2025-05-09 20:41:26,297 - INFO - 模型输出解析 - 原始输出:
3699,2011,2532,555,1541,2562,3557,515,2467,2482,2703,1357,1257,1102,1420,421,310,576,3739,1174
2025-05-09 20:41:26,297 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 1541, 2562, 3557, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 310, 576, 3739, 1174]
2025-05-09 20:41:26,297 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 1541, 2562, 3557, 515, 2467, 2482], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 20:41:26,465 - INFO - DeepSeek API 异步请求 - 模型输出:
534,3449,3183,280,1187,3497,1458,2644,1232,537,1523,3247,823,2261,607,370,2791,3761,3801,3790
2025-05-09 20:41:26,465 - INFO - 模型输出解析 - 原始输出:
534,3449,3183,280,1187,3497,1458,2644,1232,537,1523,3247,823,2261,607,370,2791,3761,3801,3790
2025-05-09 20:41:26,465 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 3497, 1458, 2644, 1232, 537, 1523, 3247, 823, 2261, 607, 370, 2791, 3761, 3801, 3790]
2025-05-09 20:41:26,465 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 3497, 1458, 2644, 1232, 537], 真实目标: 534, NDCG@10: 1.0
2025-05-09 20:41:26,542 - INFO - DeepSeek API 异步请求 - 模型输出:
3948,516,145,8,3618,1824,2227,2160,1822,1671,3313,1317,2374,2620,1528,2869,863,2993,2074
2025-05-09 20:41:26,542 - INFO - 模型输出解析 - 原始输出:
3948,516,145,8,3618,1824,2227,2160,1822,1671,3313,1317,2374,2620,1528,2869,863,2993,2074
2025-05-09 20:41:26,542 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 145, 8, 3618, 1824, 2227, 2160, 1822, 1671, 3313, 1317, 2374, 2620, 1528, 2869, 863, 2993, 2074]
2025-05-09 20:41:26,542 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 145, 8, 3618, 1824, 2227, 2160, 1822, 1671], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 20:41:26,794 - INFO - DeepSeek API 异步请求 - 模型输出:
21,370,122,818,1722,428,1555,1539,1563,1913,3824,691,447,2609,3756,3768,3420,567,3701,2367
2025-05-09 20:41:26,794 - INFO - 模型输出解析 - 原始输出:
21,370,122,818,1722,428,1555,1539,1563,1913,3824,691,447,2609,3756,3768,3420,567,3701,2367
2025-05-09 20:41:26,794 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 818, 1722, 428, 1555, 1539, 1563, 1913, 3824, 691, 447, 2609, 3756, 3768, 3420, 567, 3701, 2367]
2025-05-09 20:41:26,794 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 818, 1722, 428, 1555, 1539, 1563, 1913], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 20:41:27,048 - INFO - DeepSeek API 异步请求 - 模型输出:
1194,785,1083,945,1145,3768,3667,3709,3474,2438,194,3822,29,2858,1263,2311,1797,2705,2022,1365
2025-05-09 20:41:27,048 - INFO - 模型输出解析 - 原始输出:
1194,785,1083,945,1145,3768,3667,3709,3474,2438,194,3822,29,2858,1263,2311,1797,2705,2022,1365
2025-05-09 20:41:27,048 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438, 194, 3822, 29, 2858, 1263, 2311, 1797, 2705, 2022, 1365]
2025-05-09 20:41:27,048 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 20:41:27,076 - INFO - DeepSeek API 异步请求 - 模型输出:
1695,1656,1844,3221,41,3516,3497,1829,3606,2579,2813,2755,396,3858,2720,1731,328,2123,3303,2795
2025-05-09 20:41:27,076 - INFO - 模型输出解析 - 原始输出:
1695,1656,1844,3221,41,3516,3497,1829,3606,2579,2813,2755,396,3858,2720,1731,328,2123,3303,2795
2025-05-09 20:41:27,076 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 3221, 41, 3516, 3497, 1829, 3606, 2579, 2813, 2755, 396, 3858, 2720, 1731, 328, 2123, 3303, 2795]
2025-05-09 20:41:27,076 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 3221, 41, 3516, 3497, 1829, 3606, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 20:41:27,337 - INFO - DeepSeek API 异步请求 - 模型输出:
2571,3623,2867,2550,3360,2943,1483,3176,3219,249,381,2154,1611,1965,730,803,146,3590,2129,3878
2025-05-09 20:41:27,337 - INFO - 模型输出解析 - 原始输出:
2571,3623,2867,2550,3360,2943,1483,3176,3219,249,381,2154,1611,1965,730,803,146,3590,2129,3878
2025-05-09 20:41:27,337 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 3360, 2943, 1483, 3176, 3219, 249, 381, 2154, 1611, 1965, 730, 803, 146, 3590, 2129, 3878]
2025-05-09 20:41:27,337 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 3360, 2943, 1483, 3176, 3219, 249], 真实目标: 3176, NDCG@10: 0.31546487678572877
2025-05-09 20:41:27,952 - INFO - DeepSeek API 异步请求 - 模型输出:
1858,1343,3107,373,1758,1236,614,2507,2997,3145,1537,1053,3933,3325,3672,2566,2049,1024,971,3864
2025-05-09 20:41:27,952 - INFO - 模型输出解析 - 原始输出:
1858,1343,3107,373,1758,1236,614,2507,2997,3145,1537,1053,3933,3325,3672,2566,2049,1024,971,3864
2025-05-09 20:41:27,952 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 1343, 3107, 373, 1758, 1236, 614, 2507, 2997, 3145, 1537, 1053, 3933, 3325, 3672, 2566, 2049, 1024, 971, 3864]
2025-05-09 20:41:27,952 - INFO - NDCG计算 - 预测列表前10项: [1858, 1343, 3107, 373, 1758, 1236, 614, 2507, 2997, 3145], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 20:41:29,261 - INFO - DeepSeek API 异步请求 - 模型输出:
3251,887,271,372,185,2249,1259,3378,3312,2960,359,1815,3614,2452,1375,2409,2137,3859,3626,758
2025-05-09 20:41:29,262 - INFO - 模型输出解析 - 原始输出:
3251,887,271,372,185,2249,1259,3378,3312,2960,359,1815,3614,2452,1375,2409,2137,3859,3626,758
2025-05-09 20:41:29,262 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 185, 2249, 1259, 3378, 3312, 2960, 359, 1815, 3614, 2452, 1375, 2409, 2137, 3859, 3626, 758]
2025-05-09 20:41:29,262 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 185, 2249, 1259, 3378, 3312, 2960], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 20:41:29,262 - INFO - 策略 expert_strict_comma 平均 NDCG@10: 0.6065

2025-05-09 20:41:29,263 - INFO - 
===== 评估策略: expert_strict_json =====
2025-05-09 20:41:29,419 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:29,419 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:29,420 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:29,420 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:29,429 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:29,432 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:29,434 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:29,447 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:29,447 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:29,460 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:35,448 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[21,370,122,428,1722,1563,1539,1555,567,2367,3701,3420,3768,3824,691,447,818,3756,2609,1913]
```
2025-05-09 20:41:35,448 - INFO - 模型输出解析 - 原始输出:
```json
[21,370,122,428,1722,1563,1539,1555,567,2367,3701,3420,3768,3824,691,447,818,3756,2609,1913]
```
2025-05-09 20:41:35,448 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 428, 1722, 1563, 1539, 1555, 567, 2367, 3701, 3420, 3768, 3824, 691, 447, 818, 3756, 2609, 1913]
2025-05-09 20:41:35,448 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 428, 1722, 1563, 1539, 1555, 567, 2367], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 20:41:36,073 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[2571,2867,3623,2550,1483,3176,3219,3360,381,2154,249,146,3590,1965,1611,730,803,2943,2129,3878]
```
2025-05-09 20:41:36,073 - INFO - 模型输出解析 - 原始输出:
```json
[2571,2867,3623,2550,1483,3176,3219,3360,381,2154,249,146,3590,1965,1611,730,803,2943,2129,3878]
```
2025-05-09 20:41:36,073 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 2867, 3623, 2550, 1483, 3176, 3219, 3360, 381, 2154, 249, 146, 3590, 1965, 1611, 730, 803, 2943, 2129, 3878]
2025-05-09 20:41:36,073 - INFO - NDCG计算 - 预测列表前10项: [2571, 2867, 3623, 2550, 1483, 3176, 3219, 3360, 381, 2154], 真实目标: 3176, NDCG@10: 0.3562071871080222
2025-05-09 20:41:36,073 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[1695,1656,1844,1829,3221,41,3516,3497,396,2579,2813,3303,2755,328,2123,1731,2720,2795,3606,3858]
```
2025-05-09 20:41:36,073 - INFO - 模型输出解析 - 原始输出:
```json
[1695,1656,1844,1829,3221,41,3516,3497,396,2579,2813,3303,2755,328,2123,1731,2720,2795,3606,3858]
```
2025-05-09 20:41:36,073 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 1829, 3221, 41, 3516, 3497, 396, 2579, 2813, 3303, 2755, 328, 2123, 1731, 2720, 2795, 3606, 3858]
2025-05-09 20:41:36,073 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 1829, 3221, 41, 3516, 3497, 396, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 20:41:36,172 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 3822, 29, 194, 2858, 1263, 2311, 2022, 2705, 1365, 1797]
```
2025-05-09 20:41:36,172 - INFO - 模型输出解析 - 原始输出:
```json
[1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 3822, 29, 194, 2858, 1263, 2311, 2022, 2705, 1365, 1797]
```
2025-05-09 20:41:36,172 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 3822, 29, 194, 2858, 1263, 2311, 2022, 2705, 1365, 1797]
2025-05-09 20:41:36,172 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 3822], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 20:41:36,584 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[887, 3251, 372, 1259, 271, 1815, 359, 2249, 3859, 185, 3626, 3614, 2960, 3378, 3312, 2452, 2409, 1375, 2137]
```
2025-05-09 20:41:36,584 - INFO - 模型输出解析 - 原始输出:
```json
[887, 3251, 372, 1259, 271, 1815, 359, 2249, 3859, 185, 3626, 3614, 2960, 3378, 3312, 2452, 2409, 1375, 2137]
```
2025-05-09 20:41:36,584 - INFO - 模型输出解析 - 解析后电影ID列表: [887, 3251, 372, 1259, 271, 1815, 359, 2249, 3859, 185, 3626, 3614, 2960, 3378, 3312, 2452, 2409, 1375, 2137]
2025-05-09 20:41:36,584 - INFO - NDCG计算 - 预测列表前10项: [887, 3251, 372, 1259, 271, 1815, 359, 2249, 3859, 185], 真实目标: 372, NDCG@10: 0.5
2025-05-09 20:41:36,586 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[3948, 145, 516, 1824, 8, 2374, 3313, 2227, 2160, 1822, 3618, 1671, 1317, 1528, 2869, 2620, 863, 2993, 2074]
```
2025-05-09 20:41:36,586 - INFO - 模型输出解析 - 原始输出:
```json
[3948, 145, 516, 1824, 8, 2374, 3313, 2227, 2160, 1822, 3618, 1671, 1317, 1528, 2869, 2620, 863, 2993, 2074]
```
2025-05-09 20:41:36,586 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 145, 516, 1824, 8, 2374, 3313, 2227, 2160, 1822, 3618, 1671, 1317, 1528, 2869, 2620, 863, 2993, 2074]
2025-05-09 20:41:36,586 - INFO - NDCG计算 - 预测列表前10项: [3948, 145, 516, 1824, 8, 2374, 3313, 2227, 2160, 1822], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 20:41:36,853 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[534, 3449, 280, 3183, 1187, 3801, 3497, 1458, 1232, 2644, 3247, 537, 2261, 1523, 3761, 607, 823, 370, 2791, 3790]
```
2025-05-09 20:41:36,853 - INFO - 模型输出解析 - 原始输出:
```json
[534, 3449, 280, 3183, 1187, 3801, 3497, 1458, 1232, 2644, 3247, 537, 2261, 1523, 3761, 607, 823, 370, 2791, 3790]
```
2025-05-09 20:41:36,853 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 280, 3183, 1187, 3801, 3497, 1458, 1232, 2644, 3247, 537, 2261, 1523, 3761, 607, 823, 370, 2791, 3790]
2025-05-09 20:41:36,853 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 280, 3183, 1187, 3801, 3497, 1458, 1232, 2644], 真实目标: 534, NDCG@10: 1.0
2025-05-09 20:41:36,929 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[3107, 1858, 1343, 373, 1758, 614, 2507, 1537, 2997, 3145, 1236, 1053, 3325, 3672, 3864, 3933, 1024, 2049, 2566, 971]
```
2025-05-09 20:41:36,929 - INFO - 模型输出解析 - 原始输出:
```json
[3107, 1858, 1343, 373, 1758, 614, 2507, 1537, 2997, 3145, 1236, 1053, 3325, 3672, 3864, 3933, 1024, 2049, 2566, 971]
```
2025-05-09 20:41:36,929 - INFO - 模型输出解析 - 解析后电影ID列表: [3107, 1858, 1343, 373, 1758, 614, 2507, 1537, 2997, 3145, 1236, 1053, 3325, 3672, 3864, 3933, 1024, 2049, 2566, 971]
2025-05-09 20:41:36,929 - INFO - NDCG计算 - 预测列表前10项: [3107, 1858, 1343, 373, 1758, 614, 2507, 1537, 2997, 3145], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 20:41:37,107 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[3699, 2532, 2011, 555, 3557, 1541, 2562, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
```
2025-05-09 20:41:37,107 - INFO - 模型输出解析 - 原始输出:
```json
[3699, 2532, 2011, 555, 3557, 1541, 2562, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
```
2025-05-09 20:41:37,107 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2532, 2011, 555, 3557, 1541, 2562, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 20:41:37,107 - INFO - NDCG计算 - 预测列表前10项: [3699, 2532, 2011, 555, 3557, 1541, 2562, 515, 2467, 2482], 真实目标: 2011, NDCG@10: 0.5
2025-05-09 20:41:37,275 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[1103, 161, 1590, 2210, 1965, 3258, 2318, 381, 3723, 2144, 1251, 3245, 1880, 396, 3710, 2637, 3695, 3413, 2970, 876]
```
2025-05-09 20:41:37,275 - INFO - 模型输出解析 - 原始输出:
```json
[1103, 161, 1590, 2210, 1965, 3258, 2318, 381, 3723, 2144, 1251, 3245, 1880, 396, 3710, 2637, 3695, 3413, 2970, 876]
```
2025-05-09 20:41:37,275 - INFO - 模型输出解析 - 解析后电影ID列表: [1103, 161, 1590, 2210, 1965, 3258, 2318, 381, 3723, 2144, 1251, 3245, 1880, 396, 3710, 2637, 3695, 3413, 2970, 876]
2025-05-09 20:41:37,275 - INFO - NDCG计算 - 预测列表前10项: [1103, 161, 1590, 2210, 1965, 3258, 2318, 381, 3723, 2144], 真实目标: 1965, NDCG@10: 0.38685280723454163
2025-05-09 20:41:37,275 - INFO - 策略 expert_strict_json 平均 NDCG@10: 0.6130

2025-05-09 20:41:37,275 - INFO - 
===== 评估策略: expert_cot_hidden =====
2025-05-09 20:41:37,433 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:37,434 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:37,434 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:37,434 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:37,434 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:37,434 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:37,434 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:37,435 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:37,438 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:37,439 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:43,984 - INFO - DeepSeek API 异步请求 - 模型输出:
887, 3251, 271, 372, 1259, 2249, 359, 1815, 3859, 3626, 185, 3614, 2960, 2137, 2409, 3378, 3312, 2452, 1375
2025-05-09 20:41:43,984 - INFO - 模型输出解析 - 原始输出:
887, 3251, 271, 372, 1259, 2249, 359, 1815, 3859, 3626, 185, 3614, 2960, 2137, 2409, 3378, 3312, 2452, 1375
2025-05-09 20:41:43,984 - INFO - 模型输出解析 - 解析后电影ID列表: [887, 3251, 271, 372, 1259, 2249, 359, 1815, 3859, 3626, 185, 3614, 2960, 2137, 2409, 3378, 3312, 2452, 1375]
2025-05-09 20:41:43,984 - INFO - NDCG计算 - 预测列表前10项: [887, 3251, 271, 372, 1259, 2249, 359, 1815, 3859, 3626], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 20:41:44,051 - INFO - DeepSeek API 异步请求 - 模型输出:
1858, 3107, 1343, 373, 614, 2507, 1236, 1758, 3325, 3145, 1537, 2997, 3933, 3864, 3672, 1024, 2049, 2566, 971, 1053
2025-05-09 20:41:44,051 - INFO - 模型输出解析 - 原始输出:
1858, 3107, 1343, 373, 614, 2507, 1236, 1758, 3325, 3145, 1537, 2997, 3933, 3864, 3672, 1024, 2049, 2566, 971, 1053
2025-05-09 20:41:44,051 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 3107, 1343, 373, 614, 2507, 1236, 1758, 3325, 3145, 1537, 2997, 3933, 3864, 3672, 1024, 2049, 2566, 971, 1053]
2025-05-09 20:41:44,051 - INFO - NDCG计算 - 预测列表前10项: [1858, 3107, 1343, 373, 614, 2507, 1236, 1758, 3325, 3145], 真实目标: 1758, NDCG@10: 0.31546487678572877
2025-05-09 20:41:44,219 - INFO - DeepSeek API 异步请求 - 模型输出:
21, 370, 122, 1563, 428, 1722, 2367, 3701, 567, 818, 1555, 1539, 447, 691, 3420, 3768, 3824, 1913, 2609, 3756
2025-05-09 20:41:44,219 - INFO - 模型输出解析 - 原始输出:
21, 370, 122, 1563, 428, 1722, 2367, 3701, 567, 818, 1555, 1539, 447, 691, 3420, 3768, 3824, 1913, 2609, 3756
2025-05-09 20:41:44,219 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 1563, 428, 1722, 2367, 3701, 567, 818, 1555, 1539, 447, 691, 3420, 3768, 3824, 1913, 2609, 3756]
2025-05-09 20:41:44,219 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 1563, 428, 1722, 2367, 3701, 567, 818], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 20:41:44,227 - INFO - DeepSeek API 异步请求 - 模型输出:
3258, 1103, 1590, 161, 2210, 3710, 396, 2637, 1965, 1880, 2318, 381, 3413, 2970, 3723, 876, 2144, 1251, 3245, 3695
2025-05-09 20:41:44,227 - INFO - 模型输出解析 - 原始输出:
3258, 1103, 1590, 161, 2210, 3710, 396, 2637, 1965, 1880, 2318, 381, 3413, 2970, 3723, 876, 2144, 1251, 3245, 3695
2025-05-09 20:41:44,227 - INFO - 模型输出解析 - 解析后电影ID列表: [3258, 1103, 1590, 161, 2210, 3710, 396, 2637, 1965, 1880, 2318, 381, 3413, 2970, 3723, 876, 2144, 1251, 3245, 3695]
2025-05-09 20:41:44,227 - INFO - NDCG计算 - 预测列表前10项: [3258, 1103, 1590, 161, 2210, 3710, 396, 2637, 1965, 1880], 真实目标: 1965, NDCG@10: 0.3010299956639812
2025-05-09 20:41:44,466 - INFO - DeepSeek API 异步请求 - 模型输出:
1194, 785, 1083, 945, 3667, 3768, 3709, 3474, 2438, 3822, 29, 2858, 194, 2705, 2022, 1263, 2311, 1797, 1365
2025-05-09 20:41:44,466 - INFO - 模型输出解析 - 原始输出:
1194, 785, 1083, 945, 3667, 3768, 3709, 3474, 2438, 3822, 29, 2858, 194, 2705, 2022, 1263, 2311, 1797, 1365
2025-05-09 20:41:44,466 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 3667, 3768, 3709, 3474, 2438, 3822, 29, 2858, 194, 2705, 2022, 1263, 2311, 1797, 1365]
2025-05-09 20:41:44,466 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 3667, 3768, 3709, 3474, 2438, 3822], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 20:41:44,475 - INFO - DeepSeek API 异步请求 - 模型输出:
534, 3449, 3183, 280, 1187, 3801, 3497, 1458, 2644, 1232, 607, 823, 1523, 3761, 370, 2791, 2261, 3247, 537, 3790
2025-05-09 20:41:44,475 - INFO - 模型输出解析 - 原始输出:
534, 3449, 3183, 280, 1187, 3801, 3497, 1458, 2644, 1232, 607, 823, 1523, 3761, 370, 2791, 2261, 3247, 537, 3790
2025-05-09 20:41:44,475 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 3801, 3497, 1458, 2644, 1232, 607, 823, 1523, 3761, 370, 2791, 2261, 3247, 537, 3790]
2025-05-09 20:41:44,475 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 3801, 3497, 1458, 2644, 1232], 真实目标: 534, NDCG@10: 1.0
2025-05-09 20:41:44,893 - INFO - DeepSeek API 异步请求 - 模型输出:
2571, 3623, 2867, 2550, 2943, 3176, 3219, 1483, 3360, 3878, 1965, 2154, 381, 249, 1611, 730, 803, 146, 3590, 2129
2025-05-09 20:41:44,893 - INFO - 模型输出解析 - 原始输出:
2571, 3623, 2867, 2550, 2943, 3176, 3219, 1483, 3360, 3878, 1965, 2154, 381, 249, 1611, 730, 803, 146, 3590, 2129
2025-05-09 20:41:44,893 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 2943, 3176, 3219, 1483, 3360, 3878, 1965, 2154, 381, 249, 1611, 730, 803, 146, 3590, 2129]
2025-05-09 20:41:44,893 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 2943, 3176, 3219, 1483, 3360, 3878], 真实目标: 3176, NDCG@10: 0.3562071871080222
2025-05-09 20:41:44,982 - INFO - DeepSeek API 异步请求 - 模型输出:
1695, 1656, 1844, 3221, 41, 3516, 3497, 1829, 3606, 2579, 2755, 2813, 3858, 2720, 1731, 2123, 328, 3303, 396, 2795
2025-05-09 20:41:44,982 - INFO - 模型输出解析 - 原始输出:
1695, 1656, 1844, 3221, 41, 3516, 3497, 1829, 3606, 2579, 2755, 2813, 3858, 2720, 1731, 2123, 328, 3303, 396, 2795
2025-05-09 20:41:44,982 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 3221, 41, 3516, 3497, 1829, 3606, 2579, 2755, 2813, 3858, 2720, 1731, 2123, 328, 3303, 396, 2795]
2025-05-09 20:41:44,982 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 3221, 41, 3516, 3497, 1829, 3606, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 20:41:47,061 - INFO - DeepSeek API 异步请求 - 模型输出:
3948, 145, 8, 2227, 1822, 3618, 516, 2374, 2160, 1824, 1671, 3313, 2869, 3882, 2620, 1317, 863, 2993, 2074, 1528
2025-05-09 20:41:47,061 - INFO - 模型输出解析 - 原始输出:
3948, 145, 8, 2227, 1822, 3618, 516, 2374, 2160, 1824, 1671, 3313, 2869, 3882, 2620, 1317, 863, 2993, 2074, 1528
2025-05-09 20:41:47,061 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 145, 8, 2227, 1822, 3618, 516, 2374, 2160, 1824, 1671, 3313, 2869, 3882, 2620, 1317, 863, 2993, 2074, 1528]
2025-05-09 20:41:47,061 - INFO - NDCG计算 - 预测列表前10项: [3948, 145, 8, 2227, 1822, 3618, 516, 2374, 2160, 1824], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 20:41:48,668 - INFO - DeepSeek API 异步请求 - 模型输出:
3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
3557: Jennifer 8
2562: Bandits
1541: Addicted to Love
1257: Better Off Dead...
515: Remains of the Day, The
2467: Name of the Rose, The
2482: Still Crazy
2703: Broken Vessels
1357: Shine
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 20:41:48,668 - INFO - 模型输出解析 - 原始输出:
3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
3557: Jennifer 8
2562: Bandits
1541: Addicted to Love
1257: Better Off Dead...
515: Remains of the Day, The
2467: Name of the Rose, The
2482: Still Crazy
2703: Broken Vessels
1357: Shine
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 20:41:48,668 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 3557, 8, 2562, 1541, 1257, 515, 2467, 2482, 2703, 1357, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 20:41:48,668 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 3557, 8, 2562, 1541, 1257, 515], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 20:41:48,668 - INFO - 策略 expert_cot_hidden 平均 NDCG@10: 0.6034

2025-05-09 20:41:48,668 - INFO - 
===== 评估策略: expert_format_example =====
2025-05-09 20:41:48,810 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:48,813 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:48,819 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:48,819 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:48,819 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:48,820 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:48,826 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:48,827 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:48,827 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:48,838 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:41:54,858 - INFO - DeepSeek API 异步请求 - 模型输出:
1194,785,1083,945,1145,3768,3709,3667,3474,2438,2858,3822,29,194,2705,2022,1263,1797,2311,1365
2025-05-09 20:41:54,858 - INFO - 模型输出解析 - 原始输出:
1194,785,1083,945,1145,3768,3709,3667,3474,2438,2858,3822,29,194,2705,2022,1263,1797,2311,1365
2025-05-09 20:41:54,858 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 1145, 3768, 3709, 3667, 3474, 2438, 2858, 3822, 29, 194, 2705, 2022, 1263, 1797, 2311, 1365]
2025-05-09 20:41:54,858 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 1145, 3768, 3709, 3667, 3474, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 20:41:55,782 - INFO - DeepSeek API 异步请求 - 模型输出:
3699, 2011, 2532, 555, 515, 2467, 1541, 2562, 2482, 1357, 1257, 310, 576, 1102, 2703, 1420, 421, 3557, 1174, 3739
2025-05-09 20:41:55,782 - INFO - 模型输出解析 - 原始输出:
3699, 2011, 2532, 555, 515, 2467, 1541, 2562, 2482, 1357, 1257, 310, 576, 1102, 2703, 1420, 421, 3557, 1174, 3739
2025-05-09 20:41:55,782 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 515, 2467, 1541, 2562, 2482, 1357, 1257, 310, 576, 1102, 2703, 1420, 421, 3557, 1174, 3739]
2025-05-09 20:41:55,782 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 515, 2467, 1541, 2562, 2482, 1357], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 20:41:56,047 - INFO - DeepSeek API 异步请求 - 模型输出:
3948, 145, 8, 3618, 2227, 2160, 1824, 1671, 516, 1528, 2620, 3313, 2869, 3882, 1317, 2374, 2993, 2074, 863, 1822
2025-05-09 20:41:56,047 - INFO - 模型输出解析 - 原始输出:
3948, 145, 8, 3618, 2227, 2160, 1824, 1671, 516, 1528, 2620, 3313, 2869, 3882, 1317, 2374, 2993, 2074, 863, 1822
2025-05-09 20:41:56,047 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 145, 8, 3618, 2227, 2160, 1824, 1671, 516, 1528, 2620, 3313, 2869, 3882, 1317, 2374, 2993, 2074, 863, 1822]
2025-05-09 20:41:56,047 - INFO - NDCG计算 - 预测列表前10项: [3948, 145, 8, 3618, 2227, 2160, 1824, 1671, 516, 1528], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 20:41:57,018 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近观看的电影列表，可以看出用户偏好动作片、犯罪惊悚片和剧情片。以下是重新排序后的候选电影ID列表，最可能观看的放最前：

1343, 3107, 1858, 373, 1758, 614, 971, 1236, 2997, 3145, 1537, 2507, 3864, 3933, 3325, 1024, 2049, 2566, 3672, 1053
2025-05-09 20:41:57,018 - INFO - 模型输出解析 - 原始输出:
根据用户最近观看的电影列表，可以看出用户偏好动作片、犯罪惊悚片和剧情片。以下是重新排序后的候选电影ID列表，最可能观看的放最前：

1343, 3107, 1858, 373, 1758, 614, 971, 1236, 2997, 3145, 1537, 2507, 3864, 3933, 3325, 1024, 2049, 2566, 3672, 1053
2025-05-09 20:41:57,018 - INFO - 模型输出解析 - 解析后电影ID列表: [1343, 3107, 1858, 373, 1758, 614, 971, 1236, 2997, 3145, 1537, 2507, 3864, 3933, 3325, 1024, 2049, 2566, 3672, 1053]
2025-05-09 20:41:57,018 - INFO - NDCG计算 - 预测列表前10项: [1343, 3107, 1858, 373, 1758, 614, 971, 1236, 2997, 3145], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 20:42:00,574 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户历史观影记录分析，该用户偏好剧情片、情感深刻的电影以及文学改编作品。以下是重新排序后的候选电影ID列表：

3183, 534, 3449, 280, 1187, 3801, 1458, 2644, 3497, 3761, 607, 537, 2261, 1232, 3247, 2791, 370, 1523, 823, 3790

排序理由：
1. 优先选择剧情/情感类电影(The Third Miracle, Shadowlands等)
2. 其次考虑犯罪/法律题材(Murder in the First, Anatomy of a Murder)
3. 文学改编作品紧随其后
4. 喜剧/动作类电影排在较后位置
5. 实验性/艺术性较强的电影排在最后
2025-05-09 20:42:00,575 - INFO - 模型输出解析 - 原始输出:
根据用户历史观影记录分析，该用户偏好剧情片、情感深刻的电影以及文学改编作品。以下是重新排序后的候选电影ID列表：

3183, 534, 3449, 280, 1187, 3801, 1458, 2644, 3497, 3761, 607, 537, 2261, 1232, 3247, 2791, 370, 1523, 823, 3790

排序理由：
1. 优先选择剧情/情感类电影(The Third Miracle, Shadowlands等)
2. 其次考虑犯罪/法律题材(Murder in the First, Anatomy of a Murder)
3. 文学改编作品紧随其后
4. 喜剧/动作类电影排在较后位置
5. 实验性/艺术性较强的电影排在最后
2025-05-09 20:42:00,575 - INFO - 模型输出解析 - 解析后电影ID列表: [3183, 534, 3449, 280, 1187, 3801, 1458, 2644, 3497, 3761, 607, 537, 2261, 1232, 3247, 2791, 370, 1523, 823, 3790, 1, 2, 3, 4, 5]
2025-05-09 20:42:00,575 - INFO - NDCG计算 - 预测列表前10项: [3183, 534, 3449, 280, 1187, 3801, 1458, 2644, 3497, 3761], 真实目标: 534, NDCG@10: 0.6309297535714575
2025-05-09 20:42:00,703 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（文艺片、剧情片、有一定深度的电影），我为您重新排序候选电影如下：

1695, 1844, 3221, 2813, 1656, 41, 3516, 1829, 3606, 2579, 3858, 2755, 3497, 396, 2123, 2720, 1731, 328, 2795, 3303

排序理由：
1. 优先选择艺术性强的欧洲电影(如1695,1844,3221)
2. 其次是文学改编作品(如1656,41)
3. 然后是经典好莱坞作品(3516,3606)
4. 最后是商业片和类型片
5. 完全排除与用户品味明显不符的影片(如3303毒品纪录片)
2025-05-09 20:42:00,703 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（文艺片、剧情片、有一定深度的电影），我为您重新排序候选电影如下：

1695, 1844, 3221, 2813, 1656, 41, 3516, 1829, 3606, 2579, 3858, 2755, 3497, 396, 2123, 2720, 1731, 328, 2795, 3303

排序理由：
1. 优先选择艺术性强的欧洲电影(如1695,1844,3221)
2. 其次是文学改编作品(如1656,41)
3. 然后是经典好莱坞作品(3516,3606)
4. 最后是商业片和类型片
5. 完全排除与用户品味明显不符的影片(如3303毒品纪录片)
2025-05-09 20:42:00,703 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1844, 3221, 2813, 1656, 41, 3516, 1829, 3606, 2579, 3858, 2755, 3497, 396, 2123, 2720, 1731, 328, 2795, 3303, 1, 1695, 1844, 3221, 2, 1656, 41, 3, 3516, 3606, 4, 5, 3303]
2025-05-09 20:42:00,703 - INFO - NDCG计算 - 预测列表前10项: [1695, 1844, 3221, 2813, 1656, 41, 3516, 1829, 3606, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 20:42:02,527 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中的电影类型和风格偏好（包含动作、科幻、黑色幽默、心理惊悚、经典剧情等元素），以下是重新排序的候选电影ID列表：

1103, 161, 1590, 1965, 3258, 2210, 3710, 396, 2637, 1880, 3695, 2144, 381, 2318, 3723, 1251, 2970, 876, 3245, 3413

排序理由：
1. 优先选择与《终结者2》《赤色风暴》类似的硬核动作/科幻片（1103,161,1590）
2. 其次选择带有黑色幽默或cult元素的电影（1965,3258,2210）
3. 包含心理惊悚元素的影片（3710,396）紧随其后
4. 经典剧情片和黑色电影（2637,1880）根据历史中的《爱德华剪刀手》等选择
5. 其他类型根据相关性降序排列
2025-05-09 20:42:02,527 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中的电影类型和风格偏好（包含动作、科幻、黑色幽默、心理惊悚、经典剧情等元素），以下是重新排序的候选电影ID列表：

1103, 161, 1590, 1965, 3258, 2210, 3710, 396, 2637, 1880, 3695, 2144, 381, 2318, 3723, 1251, 2970, 876, 3245, 3413

排序理由：
1. 优先选择与《终结者2》《赤色风暴》类似的硬核动作/科幻片（1103,161,1590）
2. 其次选择带有黑色幽默或cult元素的电影（1965,3258,2210）
3. 包含心理惊悚元素的影片（3710,396）紧随其后
4. 经典剧情片和黑色电影（2637,1880）根据历史中的《爱德华剪刀手》等选择
5. 其他类型根据相关性降序排列
2025-05-09 20:42:02,527 - INFO - 模型输出解析 - 解析后电影ID列表: [1103, 161, 1590, 1965, 3258, 2210, 3710, 396, 2637, 1880, 3695, 2144, 381, 2318, 3723, 1251, 2970, 876, 3245, 3413, 1, 2, 1103, 161, 1590, 2, 1965, 3258, 2210, 3, 3710, 396, 4, 2637, 1880, 5]
2025-05-09 20:42:02,527 - INFO - NDCG计算 - 预测列表前10项: [1103, 161, 1590, 1965, 3258, 2210, 3710, 396, 2637, 1880], 真实目标: 1965, NDCG@10: 0.43067655807339306
2025-05-09 20:42:04,892 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户历史观看记录分析，用户偏好动作冒险类（如《Golden Voyage of Sinbad》《Eraser》《Air Force One》）、惊悚悬疑类（如《The Crow》《JFK》）以及经典IP续作（如《The Mummy》《Godfather: Part III》）。以下是重排序结果：

2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 1611, 3360, 381, 2154, 249, 2943, 730, 803, 146, 3590, 2129, 3878

排序理由：
1. 《The Matrix》（2571）和《Mission: Impossible 2》（3623）作为高概念动作片优先
2. 惊悚类《Fright Night》（2867）《The Haunting》（2550）《Crash》（1483）紧随其后
3. 心理悬疑片《Talented Mr. Ripley》（3176）《Pacific Heights》（3219）符合JFK的偏好
4. cult经典《Repo Man》（1965）和独立电影《My Own Private Idaho》（1611）参考了《The Crow》的暗黑风格
5. 其余按类型相关度降序排列
2025-05-09 20:42:04,892 - INFO - 模型输出解析 - 原始输出:
根据用户历史观看记录分析，用户偏好动作冒险类（如《Golden Voyage of Sinbad》《Eraser》《Air Force One》）、惊悚悬疑类（如《The Crow》《JFK》）以及经典IP续作（如《The Mummy》《Godfather: Part III》）。以下是重排序结果：

2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 1611, 3360, 381, 2154, 249, 2943, 730, 803, 146, 3590, 2129, 3878

排序理由：
1. 《The Matrix》（2571）和《Mission: Impossible 2》（3623）作为高概念动作片优先
2. 惊悚类《Fright Night》（2867）《The Haunting》（2550）《Crash》（1483）紧随其后
3. 心理悬疑片《Talented Mr. Ripley》（3176）《Pacific Heights》（3219）符合JFK的偏好
4. cult经典《Repo Man》（1965）和独立电影《My Own Private Idaho》（1611）参考了《The Crow》的暗黑风格
5. 其余按类型相关度降序排列
2025-05-09 20:42:04,892 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 1611, 3360, 381, 2154, 249, 2943, 730, 803, 146, 3590, 2129, 3878, 1, 2571, 2, 3623, 2, 2867, 2550, 1483, 3, 3176, 3219, 4, 1965, 1611, 5]
2025-05-09 20:42:04,892 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 1611, 3360], 真实目标: 3176, NDCG@10: 0.3562071871080222
2025-05-09 20:42:06,488 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近观看的电影列表，可以看出用户偏好混合了动作片（Gladiator）、黑色幽默/犯罪片（American Psycho）、惊悚片（Final Destination）、喜剧片（Meet the Parents, Big Momma's House）以及一些带有戏剧性的作品（Showgirls, Duets）。基于这些偏好，我将候选电影按最可能观看的顺序排列如下：

21, 370, 818, 122, 1722, 428, 1555, 1539, 447, 2367, 1563, 3701, 3420, 1913, 691, 3824, 2609, 3756, 3768, 567

排序理由：
1. Get Shorty (21) - 犯罪喜剧，符合American Psycho和Meet the Parents的混合风格
2. Naked Gun 33 1/3 (370) - 无厘头喜剧，类似Big Momma's House的幽默
3. Very Brady Sequel (818) - 家庭喜剧，接近Meet the Parents
4. Boomerang (122) - 浪漫喜剧，类似Duets的风格
5. Tomorrow Never Dies (1722) - 动作片，延续Gladiator的兴趣
6. Bronx Tale (428) - 犯罪剧情片，类似American Psycho的黑暗面
7-20: 其余电影根据类型相似度降序排列，将文艺片和艺术性较强的作品放在后面
2025-05-09 20:42:06,488 - INFO - 模型输出解析 - 原始输出:
根据用户最近观看的电影列表，可以看出用户偏好混合了动作片（Gladiator）、黑色幽默/犯罪片（American Psycho）、惊悚片（Final Destination）、喜剧片（Meet the Parents, Big Momma's House）以及一些带有戏剧性的作品（Showgirls, Duets）。基于这些偏好，我将候选电影按最可能观看的顺序排列如下：

21, 370, 818, 122, 1722, 428, 1555, 1539, 447, 2367, 1563, 3701, 3420, 1913, 691, 3824, 2609, 3756, 3768, 567

排序理由：
1. Get Shorty (21) - 犯罪喜剧，符合American Psycho和Meet the Parents的混合风格
2. Naked Gun 33 1/3 (370) - 无厘头喜剧，类似Big Momma's House的幽默
3. Very Brady Sequel (818) - 家庭喜剧，接近Meet the Parents
4. Boomerang (122) - 浪漫喜剧，类似Duets的风格
5. Tomorrow Never Dies (1722) - 动作片，延续Gladiator的兴趣
6. Bronx Tale (428) - 犯罪剧情片，类似American Psycho的黑暗面
7-20: 其余电影根据类型相似度降序排列，将文艺片和艺术性较强的作品放在后面
2025-05-09 20:42:06,488 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 818, 122, 1722, 428, 1555, 1539, 447, 2367, 1563, 3701, 3420, 1913, 691, 3824, 2609, 3756, 3768, 567, 1, 21, 2, 33, 1, 3, 370, 3, 818, 4, 122, 5, 1722, 6, 428, 7, 20]
2025-05-09 20:42:06,488 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 818, 122, 1722, 428, 1555, 1539, 447, 2367], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 20:42:07,980 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户历史观影记录分析，该用户偏好文艺片、独立电影、女性视角作品以及带有深刻社会议题的影片。以下是重排后的候选电影ID列表：

372, 1259, 359, 887, 1815, 271, 3251, 2249, 3859, 3626, 2960, 185, 3614, 2409, 2452, 2137, 3378, 3312, 1375

排序理由：
1. Reality Bites (372) - 90年代文艺青年题材，与SLC Punk!风格相似
2. Stand by Me (1259) - 成长主题，类似Secret Garden的怀旧感
3. I Like It Like That (359) - 都市少数族裔故事，与Cop Land的社会视角呼应
4. Talk of Angels (887) - 女性成长故事，接近Little Women
5. Eden (1815) - 艺术题材，呼应High Art
6. Losing Isaiah (271) - 社会伦理剧，类似Angels and Insects
7. Agnes of God (3251) - 宗教心理剧，符合用户看The Spitfire Grill的严肃偏好
8. My Blue Heaven (2249) - 轻喜剧调剂，类似Last Days of Disco
9. The Eyes of Tammy Faye (3859) - 传记片，接近Love and Death on Long Island
10-19位为较不符合用户主要偏好的类型片或续集电影
2025-05-09 20:42:07,980 - INFO - 模型输出解析 - 原始输出:
根据用户历史观影记录分析，该用户偏好文艺片、独立电影、女性视角作品以及带有深刻社会议题的影片。以下是重排后的候选电影ID列表：

372, 1259, 359, 887, 1815, 271, 3251, 2249, 3859, 3626, 2960, 185, 3614, 2409, 2452, 2137, 3378, 3312, 1375

排序理由：
1. Reality Bites (372) - 90年代文艺青年题材，与SLC Punk!风格相似
2. Stand by Me (1259) - 成长主题，类似Secret Garden的怀旧感
3. I Like It Like That (359) - 都市少数族裔故事，与Cop Land的社会视角呼应
4. Talk of Angels (887) - 女性成长故事，接近Little Women
5. Eden (1815) - 艺术题材，呼应High Art
6. Losing Isaiah (271) - 社会伦理剧，类似Angels and Insects
7. Agnes of God (3251) - 宗教心理剧，符合用户看The Spitfire Grill的严肃偏好
8. My Blue Heaven (2249) - 轻喜剧调剂，类似Last Days of Disco
9. The Eyes of Tammy Faye (3859) - 传记片，接近Love and Death on Long Island
10-19位为较不符合用户主要偏好的类型片或续集电影
2025-05-09 20:42:07,980 - INFO - 模型输出解析 - 解析后电影ID列表: [372, 1259, 359, 887, 1815, 271, 3251, 2249, 3859, 3626, 2960, 185, 3614, 2409, 2452, 2137, 3378, 3312, 1375, 1, 372, 90, 2, 1259, 3, 359, 4, 887, 5, 1815, 6, 271, 7, 3251, 8, 2249, 9, 3859, 10, 19]
2025-05-09 20:42:07,980 - INFO - NDCG计算 - 预测列表前10项: [372, 1259, 359, 887, 1815, 271, 3251, 2249, 3859, 3626], 真实目标: 372, NDCG@10: 1.0
2025-05-09 20:42:07,981 - INFO - 策略 expert_format_example 平均 NDCG@10: 0.6436

