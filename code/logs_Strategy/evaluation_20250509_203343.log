2025-05-09 20:33:43,404 - INFO - 
===== 评估策略: expert_strict_comma =====
2025-05-09 20:33:43,594 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:43,599 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:43,600 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:43,600 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:43,600 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:43,602 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:43,602 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:43,608 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:43,610 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:43,619 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:49,476 - INFO - DeepSeek API 异步请求 - 模型输出:
534,3449,3183,280,1187,1458,3497,3801,537,2644,1232,3761,1523,607,823,2261,3247,370,2791,3790
2025-05-09 20:33:49,476 - INFO - 模型输出解析 - 原始输出:
534,3449,3183,280,1187,1458,3497,3801,537,2644,1232,3761,1523,607,823,2261,3247,370,2791,3790
2025-05-09 20:33:49,476 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 1458, 3497, 3801, 537, 2644, 1232, 3761, 1523, 607, 823, 2261, 3247, 370, 2791, 3790]
2025-05-09 20:33:49,476 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 1458, 3497, 3801, 537, 2644], 真实目标: 534, NDCG@10: 1.0
2025-05-09 20:33:49,606 - INFO - DeepSeek API 异步请求 - 模型输出:
3699,2011,2532,555,1541,3557,2562,515,2467,2482,2703,1357,1257,1102,1420,421,1174,310,576,3739
2025-05-09 20:33:49,606 - INFO - 模型输出解析 - 原始输出:
3699,2011,2532,555,1541,3557,2562,515,2467,2482,2703,1357,1257,1102,1420,421,1174,310,576,3739
2025-05-09 20:33:49,607 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 1541, 3557, 2562, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 20:33:49,607 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 1541, 3557, 2562, 515, 2467, 2482], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 20:33:49,647 - INFO - DeepSeek API 异步请求 - 模型输出:
396,3258,1103,161,1590,2210,2318,1880,381,1965,2144,3723,2970,1251,3245,876,3710,2637,3695,3413
2025-05-09 20:33:49,648 - INFO - 模型输出解析 - 原始输出:
396,3258,1103,161,1590,2210,2318,1880,381,1965,2144,3723,2970,1251,3245,876,3710,2637,3695,3413
2025-05-09 20:33:49,648 - INFO - 模型输出解析 - 解析后电影ID列表: [396, 3258, 1103, 161, 1590, 2210, 2318, 1880, 381, 1965, 2144, 3723, 2970, 1251, 3245, 876, 3710, 2637, 3695, 3413]
2025-05-09 20:33:49,648 - INFO - NDCG计算 - 预测列表前10项: [396, 3258, 1103, 161, 1590, 2210, 2318, 1880, 381, 1965], 真实目标: 1965, NDCG@10: 0.2890648263178879
2025-05-09 20:33:49,663 - INFO - DeepSeek API 异步请求 - 模型输出:
21,370,122,428,1722,1563,818,1913,1555,1539,447,691,567,3420,3824,3756,3768,2609,3701,2367
2025-05-09 20:33:49,663 - INFO - 模型输出解析 - 原始输出:
21,370,122,428,1722,1563,818,1913,1555,1539,447,691,567,3420,3824,3756,3768,2609,3701,2367
2025-05-09 20:33:49,663 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 428, 1722, 1563, 818, 1913, 1555, 1539, 447, 691, 567, 3420, 3824, 3756, 3768, 2609, 3701, 2367]
2025-05-09 20:33:49,663 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 428, 1722, 1563, 818, 1913, 1555, 1539], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 20:33:49,737 - INFO - DeepSeek API 异步请求 - 模型输出:
3948,516,1824,145,3618,1822,8,2227,2160,1671,2869,2620,1317,1528,3313,2374,863,2993,2074
2025-05-09 20:33:49,737 - INFO - 模型输出解析 - 原始输出:
3948,516,1824,145,3618,1822,8,2227,2160,1671,2869,2620,1317,1528,3313,2374,863,2993,2074
2025-05-09 20:33:49,737 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 1824, 145, 3618, 1822, 8, 2227, 2160, 1671, 2869, 2620, 1317, 1528, 3313, 2374, 863, 2993, 2074]
2025-05-09 20:33:49,738 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 1824, 145, 3618, 1822, 8, 2227, 2160, 1671], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 20:33:49,901 - INFO - DeepSeek API 异步请求 - 模型输出:
1695,1844,1656,3221,41,1829,3516,3497,396,2579,2813,3303,2755,3606,3858,2720,1731,328,2123,2795
2025-05-09 20:33:49,901 - INFO - 模型输出解析 - 原始输出:
1695,1844,1656,3221,41,1829,3516,3497,396,2579,2813,3303,2755,3606,3858,2720,1731,328,2123,2795
2025-05-09 20:33:49,901 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1844, 1656, 3221, 41, 1829, 3516, 3497, 396, 2579, 2813, 3303, 2755, 3606, 3858, 2720, 1731, 328, 2123, 2795]
2025-05-09 20:33:49,901 - INFO - NDCG计算 - 预测列表前10项: [1695, 1844, 1656, 3221, 41, 1829, 3516, 3497, 396, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 20:33:49,905 - INFO - DeepSeek API 异步请求 - 模型输出:
1858,3107,1343,373,1758,614,1236,2507,2997,3145,3325,1537,971,3933,3672,1053,3864,1024,2049,2566
2025-05-09 20:33:49,905 - INFO - 模型输出解析 - 原始输出:
1858,3107,1343,373,1758,614,1236,2507,2997,3145,3325,1537,971,3933,3672,1053,3864,1024,2049,2566
2025-05-09 20:33:49,905 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 3107, 1343, 373, 1758, 614, 1236, 2507, 2997, 3145, 3325, 1537, 971, 3933, 3672, 1053, 3864, 1024, 2049, 2566]
2025-05-09 20:33:49,905 - INFO - NDCG计算 - 预测列表前10项: [1858, 3107, 1343, 373, 1758, 614, 1236, 2507, 2997, 3145], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 20:33:49,976 - INFO - DeepSeek API 异步请求 - 模型输出:
2571,3623,2867,2550,1483,3176,3219,1965,3360,249,381,2154,1611,146,3590,3878,2943,2129,730,803
2025-05-09 20:33:49,976 - INFO - 模型输出解析 - 原始输出:
2571,3623,2867,2550,1483,3176,3219,1965,3360,249,381,2154,1611,146,3590,3878,2943,2129,730,803
2025-05-09 20:33:49,976 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 3360, 249, 381, 2154, 1611, 146, 3590, 3878, 2943, 2129, 730, 803]
2025-05-09 20:33:49,976 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 3360, 249], 真实目标: 3176, NDCG@10: 0.3562071871080222
2025-05-09 20:33:50,411 - INFO - DeepSeek API 异步请求 - 模型输出:
3251,887,2249,372,359,1815,271,185,1259,3378,3312,2960,3614,2452,1375,2409,2137,3859,3626
2025-05-09 20:33:50,411 - INFO - 模型输出解析 - 原始输出:
3251,887,2249,372,359,1815,271,185,1259,3378,3312,2960,3614,2452,1375,2409,2137,3859,3626
2025-05-09 20:33:50,411 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 2249, 372, 359, 1815, 271, 185, 1259, 3378, 3312, 2960, 3614, 2452, 1375, 2409, 2137, 3859, 3626]
2025-05-09 20:33:50,411 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 2249, 372, 359, 1815, 271, 185, 1259, 3378], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 20:33:51,911 - INFO - DeepSeek API 异步请求 - 模型输出:
1194,785,1083,945,1145,3768,3709,3667,3474,2438,194,3822,29,2858,1263,2311,2022,2705,1797,1365
2025-05-09 20:33:51,911 - INFO - 模型输出解析 - 原始输出:
1194,785,1083,945,1145,3768,3709,3667,3474,2438,194,3822,29,2858,1263,2311,2022,2705,1797,1365
2025-05-09 20:33:51,911 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 1145, 3768, 3709, 3667, 3474, 2438, 194, 3822, 29, 2858, 1263, 2311, 2022, 2705, 1797, 1365]
2025-05-09 20:33:51,911 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 1145, 3768, 3709, 3667, 3474, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 20:33:51,911 - INFO - 策略 expert_strict_comma 平均 NDCG@10: 0.6094

2025-05-09 20:33:51,911 - INFO - 
===== 评估策略: expert_strict_json =====
2025-05-09 20:33:52,076 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:52,076 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:52,077 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:52,077 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:52,077 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:52,077 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:52,077 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:52,080 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:52,080 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:52,179 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:33:58,844 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[1695,1656,1844,1829,3221,41,3516,3497,396,2579,2813,3303,2755,328,2123,1731,2720,2795,3606,3858]
```
2025-05-09 20:33:58,844 - INFO - 模型输出解析 - 原始输出:
```json
[1695,1656,1844,1829,3221,41,3516,3497,396,2579,2813,3303,2755,328,2123,1731,2720,2795,3606,3858]
```
2025-05-09 20:33:58,844 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 1829, 3221, 41, 3516, 3497, 396, 2579, 2813, 3303, 2755, 328, 2123, 1731, 2720, 2795, 3606, 3858]
2025-05-09 20:33:58,844 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 1829, 3221, 41, 3516, 3497, 396, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 20:33:59,462 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[1103, 161, 1590, 2210, 3258, 1965, 2318, 381, 3723, 2144, 1251, 1880, 396, 3710, 2637, 3695, 3413, 2970, 876, 3245]
```
2025-05-09 20:33:59,463 - INFO - 模型输出解析 - 原始输出:
```json
[1103, 161, 1590, 2210, 3258, 1965, 2318, 381, 3723, 2144, 1251, 1880, 396, 3710, 2637, 3695, 3413, 2970, 876, 3245]
```
2025-05-09 20:33:59,463 - INFO - 模型输出解析 - 解析后电影ID列表: [1103, 161, 1590, 2210, 3258, 1965, 2318, 381, 3723, 2144, 1251, 1880, 396, 3710, 2637, 3695, 3413, 2970, 876, 3245]
2025-05-09 20:33:59,463 - INFO - NDCG计算 - 预测列表前10项: [1103, 161, 1590, 2210, 3258, 1965, 2318, 381, 3723, 2144], 真实目标: 1965, NDCG@10: 0.3562071871080222
2025-05-09 20:33:59,467 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 194, 3822, 29, 2858, 1263, 2311, 2022, 2705, 1365, 1797]
```
2025-05-09 20:33:59,467 - INFO - 模型输出解析 - 原始输出:
```json
[1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 194, 3822, 29, 2858, 1263, 2311, 2022, 2705, 1365, 1797]
```
2025-05-09 20:33:59,467 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 194, 3822, 29, 2858, 1263, 2311, 2022, 2705, 1365, 1797]
2025-05-09 20:33:59,467 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 194], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 20:33:59,623 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[1858, 1343, 3107, 373, 1758, 614, 2507, 1537, 1053, 2997, 3145, 1236, 3325, 3672, 3864, 3933, 1024, 2049, 2566, 971]
```
2025-05-09 20:33:59,623 - INFO - 模型输出解析 - 原始输出:
```json
[1858, 1343, 3107, 373, 1758, 614, 2507, 1537, 1053, 2997, 3145, 1236, 3325, 3672, 3864, 3933, 1024, 2049, 2566, 971]
```
2025-05-09 20:33:59,623 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 1343, 3107, 373, 1758, 614, 2507, 1537, 1053, 2997, 3145, 1236, 3325, 3672, 3864, 3933, 1024, 2049, 2566, 971]
2025-05-09 20:33:59,623 - INFO - NDCG计算 - 预测列表前10项: [1858, 1343, 3107, 373, 1758, 614, 2507, 1537, 1053, 2997], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 20:33:59,698 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[3699, 2532, 2011, 555, 3557, 1541, 2562, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
```
2025-05-09 20:33:59,698 - INFO - 模型输出解析 - 原始输出:
```json
[3699, 2532, 2011, 555, 3557, 1541, 2562, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
```
2025-05-09 20:33:59,698 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2532, 2011, 555, 3557, 1541, 2562, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 20:33:59,698 - INFO - NDCG计算 - 预测列表前10项: [3699, 2532, 2011, 555, 3557, 1541, 2562, 515, 2467, 2482], 真实目标: 2011, NDCG@10: 0.5
2025-05-09 20:33:59,714 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[3948, 145, 516, 1824, 2160, 1671, 2227, 2074, 8, 3313, 1822, 3618, 1528, 2869, 2620, 1317, 2374, 863, 2993]
```
2025-05-09 20:33:59,714 - INFO - 模型输出解析 - 原始输出:
```json
[3948, 145, 516, 1824, 2160, 1671, 2227, 2074, 8, 3313, 1822, 3618, 1528, 2869, 2620, 1317, 2374, 863, 2993]
```
2025-05-09 20:33:59,714 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 145, 516, 1824, 2160, 1671, 2227, 2074, 8, 3313, 1822, 3618, 1528, 2869, 2620, 1317, 2374, 863, 2993]
2025-05-09 20:33:59,714 - INFO - NDCG计算 - 预测列表前10项: [3948, 145, 516, 1824, 2160, 1671, 2227, 2074, 8, 3313], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 20:34:00,329 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[534, 3449, 280, 3183, 1187, 3801, 3497, 1458, 1232, 2644, 3247, 607, 537, 823, 2261, 2791, 370, 1523, 3761, 3790]
```
2025-05-09 20:34:00,329 - INFO - 模型输出解析 - 原始输出:
```json
[534, 3449, 280, 3183, 1187, 3801, 3497, 1458, 1232, 2644, 3247, 607, 537, 823, 2261, 2791, 370, 1523, 3761, 3790]
```
2025-05-09 20:34:00,329 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 280, 3183, 1187, 3801, 3497, 1458, 1232, 2644, 3247, 607, 537, 823, 2261, 2791, 370, 1523, 3761, 3790]
2025-05-09 20:34:00,329 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 280, 3183, 1187, 3801, 3497, 1458, 1232, 2644], 真实目标: 534, NDCG@10: 1.0
2025-05-09 20:34:00,630 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[887, 3251, 372, 271, 1259, 185, 2249, 359, 1815, 3859, 2137, 2409, 2452, 1375, 3614, 2960, 3312, 3378, 3626]
```
2025-05-09 20:34:00,630 - INFO - 模型输出解析 - 原始输出:
```json
[887, 3251, 372, 271, 1259, 185, 2249, 359, 1815, 3859, 2137, 2409, 2452, 1375, 3614, 2960, 3312, 3378, 3626]
```
2025-05-09 20:34:00,630 - INFO - 模型输出解析 - 解析后电影ID列表: [887, 3251, 372, 271, 1259, 185, 2249, 359, 1815, 3859, 2137, 2409, 2452, 1375, 3614, 2960, 3312, 3378, 3626]
2025-05-09 20:34:00,630 - INFO - NDCG计算 - 预测列表前10项: [887, 3251, 372, 271, 1259, 185, 2249, 359, 1815, 3859], 真实目标: 372, NDCG@10: 0.5
2025-05-09 20:34:00,881 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[2571, 3623, 2867, 2550, 1483, 3360, 3176, 3219, 381, 2154, 249, 146, 3878, 1965, 1611, 730, 803, 2129, 2943, 3590]
```
2025-05-09 20:34:00,881 - INFO - 模型输出解析 - 原始输出:
```json
[2571, 3623, 2867, 2550, 1483, 3360, 3176, 3219, 381, 2154, 249, 146, 3878, 1965, 1611, 730, 803, 2129, 2943, 3590]
```
2025-05-09 20:34:00,881 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 1483, 3360, 3176, 3219, 381, 2154, 249, 146, 3878, 1965, 1611, 730, 803, 2129, 2943, 3590]
2025-05-09 20:34:00,881 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 1483, 3360, 3176, 3219, 381, 2154], 真实目标: 3176, NDCG@10: 0.3333333333333333
2025-05-09 20:34:01,458 - INFO - DeepSeek API 异步请求 - 模型输出:
```json
[21, 370, 122, 428, 1722, 1563, 2367, 567, 3701, 818, 691, 447, 1555, 1539, 1913, 3824, 2609, 3756, 3768, 3420]
```
2025-05-09 20:34:01,458 - INFO - 模型输出解析 - 原始输出:
```json
[21, 370, 122, 428, 1722, 1563, 2367, 567, 3701, 818, 691, 447, 1555, 1539, 1913, 3824, 2609, 3756, 3768, 3420]
```
2025-05-09 20:34:01,458 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 428, 1722, 1563, 2367, 567, 3701, 818, 691, 447, 1555, 1539, 1913, 3824, 2609, 3756, 3768, 3420]
2025-05-09 20:34:01,458 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 428, 1722, 1563, 2367, 567, 3701, 818], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 20:34:01,459 - INFO - 策略 expert_strict_json 平均 NDCG@10: 0.6076

2025-05-09 20:34:01,459 - INFO - 
===== 评估策略: expert_cot_hidden =====
2025-05-09 20:34:01,602 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:01,608 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:01,616 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:01,620 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:01,620 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:01,623 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:01,624 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:01,626 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:01,627 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:01,635 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:08,897 - INFO - DeepSeek API 异步请求 - 模型输出:
1695, 1656, 1844, 41, 1829, 3516, 3497, 396, 3221, 2579, 2813, 2755, 3606, 3858, 2720, 1731, 2123, 3303, 328, 2795
2025-05-09 20:34:08,897 - INFO - 模型输出解析 - 原始输出:
1695, 1656, 1844, 41, 1829, 3516, 3497, 396, 3221, 2579, 2813, 2755, 3606, 3858, 2720, 1731, 2123, 3303, 328, 2795
2025-05-09 20:34:08,897 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 41, 1829, 3516, 3497, 396, 3221, 2579, 2813, 2755, 3606, 3858, 2720, 1731, 2123, 3303, 328, 2795]
2025-05-09 20:34:08,897 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 41, 1829, 3516, 3497, 396, 3221, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 20:34:09,673 - INFO - DeepSeek API 异步请求 - 模型输出:
887, 3251, 271, 372, 1259, 185, 2249, 359, 1815, 2137, 3859, 3614, 2960, 3626, 3312, 3378, 2409, 2452, 1375
2025-05-09 20:34:09,674 - INFO - 模型输出解析 - 原始输出:
887, 3251, 271, 372, 1259, 185, 2249, 359, 1815, 2137, 3859, 3614, 2960, 3626, 3312, 3378, 2409, 2452, 1375
2025-05-09 20:34:09,674 - INFO - 模型输出解析 - 解析后电影ID列表: [887, 3251, 271, 372, 1259, 185, 2249, 359, 1815, 2137, 3859, 3614, 2960, 3626, 3312, 3378, 2409, 2452, 1375]
2025-05-09 20:34:09,674 - INFO - NDCG计算 - 预测列表前10项: [887, 3251, 271, 372, 1259, 185, 2249, 359, 1815, 2137], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 20:34:09,742 - INFO - DeepSeek API 异步请求 - 模型输出:
21, 370, 122, 1563, 1722, 428, 447, 1555, 1539, 818, 691, 3824, 1913, 2609, 3756, 567, 3420, 3768, 3701, 2367
2025-05-09 20:34:09,742 - INFO - 模型输出解析 - 原始输出:
21, 370, 122, 1563, 1722, 428, 447, 1555, 1539, 818, 691, 3824, 1913, 2609, 3756, 567, 3420, 3768, 3701, 2367
2025-05-09 20:34:09,742 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 1563, 1722, 428, 447, 1555, 1539, 818, 691, 3824, 1913, 2609, 3756, 567, 3420, 3768, 3701, 2367]
2025-05-09 20:34:09,742 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 1563, 1722, 428, 447, 1555, 1539, 818], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 20:34:09,825 - INFO - DeepSeek API 异步请求 - 模型输出:
534, 3449, 3183, 280, 1187, 3801, 3497, 1458, 2644, 1232, 607, 823, 537, 2261, 1523, 3761, 3247, 370, 2791, 3790
2025-05-09 20:34:09,825 - INFO - 模型输出解析 - 原始输出:
534, 3449, 3183, 280, 1187, 3801, 3497, 1458, 2644, 1232, 607, 823, 537, 2261, 1523, 3761, 3247, 370, 2791, 3790
2025-05-09 20:34:09,825 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 3801, 3497, 1458, 2644, 1232, 607, 823, 537, 2261, 1523, 3761, 3247, 370, 2791, 3790]
2025-05-09 20:34:09,825 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 3801, 3497, 1458, 2644, 1232], 真实目标: 534, NDCG@10: 1.0
2025-05-09 20:34:10,034 - INFO - DeepSeek API 异步请求 - 模型输出:
2571, 3623, 2867, 2550, 3878, 1483, 3176, 3219, 1965, 730, 1611, 3360, 2154, 381, 249, 2943, 2129, 803, 146, 3590
2025-05-09 20:34:10,034 - INFO - 模型输出解析 - 原始输出:
2571, 3623, 2867, 2550, 3878, 1483, 3176, 3219, 1965, 730, 1611, 3360, 2154, 381, 249, 2943, 2129, 803, 146, 3590
2025-05-09 20:34:10,034 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 3878, 1483, 3176, 3219, 1965, 730, 1611, 3360, 2154, 381, 249, 2943, 2129, 803, 146, 3590]
2025-05-09 20:34:10,034 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 3878, 1483, 3176, 3219, 1965, 730], 真实目标: 3176, NDCG@10: 0.3333333333333333
2025-05-09 20:34:10,035 - INFO - DeepSeek API 异步请求 - 模型输出:
3699, 2011, 2532, 555, 2562, 1541, 515, 3557, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739
2025-05-09 20:34:10,035 - INFO - 模型输出解析 - 原始输出:
3699, 2011, 2532, 555, 2562, 1541, 515, 3557, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739
2025-05-09 20:34:10,035 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 2562, 1541, 515, 3557, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 20:34:10,035 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 2562, 1541, 515, 3557, 2467, 2482], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 20:34:10,082 - INFO - DeepSeek API 异步请求 - 模型输出:
1194, 785, 1083, 945, 3667, 3768, 3709, 3474, 2438, 3822, 29, 2858, 194, 1365, 2705, 2022, 1263, 2311, 1797
2025-05-09 20:34:10,082 - INFO - 模型输出解析 - 原始输出:
1194, 785, 1083, 945, 3667, 3768, 3709, 3474, 2438, 3822, 29, 2858, 194, 1365, 2705, 2022, 1263, 2311, 1797
2025-05-09 20:34:10,082 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 3667, 3768, 3709, 3474, 2438, 3822, 29, 2858, 194, 1365, 2705, 2022, 1263, 2311, 1797]
2025-05-09 20:34:10,082 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 3667, 3768, 3709, 3474, 2438, 3822], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 20:34:10,341 - INFO - DeepSeek API 异步请求 - 模型输出:
1858, 3107, 1343, 373, 614, 1236, 1758, 2507, 3933, 3325, 1537, 2997, 3145, 3864, 971, 3672, 1024, 2566, 2049, 1053
2025-05-09 20:34:10,341 - INFO - 模型输出解析 - 原始输出:
1858, 3107, 1343, 373, 614, 1236, 1758, 2507, 3933, 3325, 1537, 2997, 3145, 3864, 971, 3672, 1024, 2566, 2049, 1053
2025-05-09 20:34:10,341 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 3107, 1343, 373, 614, 1236, 1758, 2507, 3933, 3325, 1537, 2997, 3145, 3864, 971, 3672, 1024, 2566, 2049, 1053]
2025-05-09 20:34:10,341 - INFO - NDCG计算 - 预测列表前10项: [1858, 3107, 1343, 373, 614, 1236, 1758, 2507, 3933, 3325], 真实目标: 1758, NDCG@10: 0.3333333333333333
2025-05-09 20:34:11,596 - INFO - DeepSeek API 异步请求 - 模型输出:
3948, 145, 8, 516, 1824, 3618, 2227, 2374, 1671, 2160, 1822, 3313, 2620, 1528, 2869, 1317, 863, 2074, 2993, 3882
2025-05-09 20:34:11,596 - INFO - 模型输出解析 - 原始输出:
3948, 145, 8, 516, 1824, 3618, 2227, 2374, 1671, 2160, 1822, 3313, 2620, 1528, 2869, 1317, 863, 2074, 2993, 3882
2025-05-09 20:34:11,596 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 145, 8, 516, 1824, 3618, 2227, 2374, 1671, 2160, 1822, 3313, 2620, 1528, 2869, 1317, 863, 2074, 2993, 3882]
2025-05-09 20:34:11,596 - INFO - NDCG计算 - 预测列表前10项: [3948, 145, 8, 516, 1824, 3618, 2227, 2374, 1671, 2160], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 20:34:14,079 - INFO - DeepSeek API 异步请求 - 模型输出:
3258: Death Becomes Her
1103: Rebel Without a Cause
2318: Happiness
1965: Repo Man
161: Crimson Tide
1590: Event Horizon
2210: Sabotage
2637: Mummy's Hand, The
3710: Action Jackson
396: Fall Time
1880: Lawn Dogs
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The
381: When a Man Loves a Woman
3413: Impact
2970: Fitzcarraldo
3723: Hamlet
876: Police Story 4: Project S (Chao ji ji hua)
2144: Sixteen Candles
1251: 8 1/2
3245: I Am Cuba (Soy Cuba/Ya Kuba)
2025-05-09 20:34:14,079 - INFO - 模型输出解析 - 原始输出:
3258: Death Becomes Her
1103: Rebel Without a Cause
2318: Happiness
1965: Repo Man
161: Crimson Tide
1590: Event Horizon
2210: Sabotage
2637: Mummy's Hand, The
3710: Action Jackson
396: Fall Time
1880: Lawn Dogs
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The
381: When a Man Loves a Woman
3413: Impact
2970: Fitzcarraldo
3723: Hamlet
876: Police Story 4: Project S (Chao ji ji hua)
2144: Sixteen Candles
1251: 8 1/2
3245: I Am Cuba (Soy Cuba/Ya Kuba)
2025-05-09 20:34:14,079 - INFO - 模型输出解析 - 解析后电影ID列表: [3258, 1103, 2318, 1965, 161, 1590, 2210, 2637, 3710, 396, 1880, 3695, 381, 3413, 2970, 3723, 876, 4, 2144, 1251, 8, 1, 2, 3245]
2025-05-09 20:34:14,079 - INFO - NDCG计算 - 预测列表前10项: [3258, 1103, 2318, 1965, 161, 1590, 2210, 2637, 3710, 396], 真实目标: 1965, NDCG@10: 0.43067655807339306
2025-05-09 20:34:14,080 - INFO - 策略 expert_cot_hidden 平均 NDCG@10: 0.6159

2025-05-09 20:34:14,080 - INFO - 
===== 评估策略: expert_format_example =====
2025-05-09 20:34:14,221 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:14,224 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:14,226 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:14,228 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:14,232 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:14,232 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:14,232 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:14,234 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:14,234 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:19,119 - INFO - Retrying request to /chat/completions in 0.388685 seconds
2025-05-09 20:34:19,659 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 20:34:20,561 - INFO - DeepSeek API 异步请求 - 模型输出:
2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 1611, 2154, 381, 249, 3360, 3590, 146, 2129, 2943, 3878, 803, 730
2025-05-09 20:34:20,561 - INFO - 模型输出解析 - 原始输出:
2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 1611, 2154, 381, 249, 3360, 3590, 146, 2129, 2943, 3878, 803, 730
2025-05-09 20:34:20,561 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 1611, 2154, 381, 249, 3360, 3590, 146, 2129, 2943, 3878, 803, 730]
2025-05-09 20:34:20,561 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 1611, 2154], 真实目标: 3176, NDCG@10: 0.3562071871080222
2025-05-09 20:34:20,902 - INFO - DeepSeek API 异步请求 - 模型输出:
3699, 2011, 2532, 555, 515, 2467, 1541, 576, 310, 1420, 1257, 1357, 2482, 2703, 1102, 3557, 1174, 2562, 421, 3739
2025-05-09 20:34:20,902 - INFO - 模型输出解析 - 原始输出:
3699, 2011, 2532, 555, 515, 2467, 1541, 576, 310, 1420, 1257, 1357, 2482, 2703, 1102, 3557, 1174, 2562, 421, 3739
2025-05-09 20:34:20,902 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 515, 2467, 1541, 576, 310, 1420, 1257, 1357, 2482, 2703, 1102, 3557, 1174, 2562, 421, 3739]
2025-05-09 20:34:20,902 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 515, 2467, 1541, 576, 310, 1420], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 20:34:21,070 - INFO - DeepSeek API 异步请求 - 模型输出:
3948, 145, 8, 3618, 2227, 2160, 2993, 1824, 2074, 2620, 516, 1528, 1671, 1822, 3313, 2374, 1317, 863, 2869, 3882
2025-05-09 20:34:21,071 - INFO - 模型输出解析 - 原始输出:
3948, 145, 8, 3618, 2227, 2160, 2993, 1824, 2074, 2620, 516, 1528, 1671, 1822, 3313, 2374, 1317, 863, 2869, 3882
2025-05-09 20:34:21,071 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 145, 8, 3618, 2227, 2160, 2993, 1824, 2074, 2620, 516, 1528, 1671, 1822, 3313, 2374, 1317, 863, 2869, 3882]
2025-05-09 20:34:21,071 - INFO - NDCG计算 - 预测列表前10项: [3948, 145, 8, 3618, 2227, 2160, 2993, 1824, 2074, 2620], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 20:34:21,073 - INFO - DeepSeek API 异步请求 - 模型输出:
1858, 1343, 3107, 373, 1758, 1236, 614, 2507, 2997, 1537, 971, 3145, 3933, 3325, 3672, 3864, 1024, 2049, 2566, 1053
2025-05-09 20:34:21,074 - INFO - 模型输出解析 - 原始输出:
1858, 1343, 3107, 373, 1758, 1236, 614, 2507, 2997, 1537, 971, 3145, 3933, 3325, 3672, 3864, 1024, 2049, 2566, 1053
2025-05-09 20:34:21,074 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 1343, 3107, 373, 1758, 1236, 614, 2507, 2997, 1537, 971, 3145, 3933, 3325, 3672, 3864, 1024, 2049, 2566, 1053]
2025-05-09 20:34:21,074 - INFO - NDCG计算 - 预测列表前10项: [1858, 1343, 3107, 373, 1758, 1236, 614, 2507, 2997, 1537], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 20:34:24,108 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（包含动作片、黑色幽默、心理惊悚、经典电影等元素），以下是重新排序的候选电影ID列表：

1103, 161, 1590, 1965, 2210, 3258, 3710, 2637, 3695, 1880, 381, 2144, 396, 2318, 3723, 1251, 2970, 876, 3245, 3413
2025-05-09 20:34:24,108 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（包含动作片、黑色幽默、心理惊悚、经典电影等元素），以下是重新排序的候选电影ID列表：

1103, 161, 1590, 1965, 2210, 3258, 3710, 2637, 3695, 1880, 381, 2144, 396, 2318, 3723, 1251, 2970, 876, 3245, 3413
2025-05-09 20:34:24,108 - INFO - 模型输出解析 - 解析后电影ID列表: [1103, 161, 1590, 1965, 2210, 3258, 3710, 2637, 3695, 1880, 381, 2144, 396, 2318, 3723, 1251, 2970, 876, 3245, 3413]
2025-05-09 20:34:24,108 - INFO - NDCG计算 - 预测列表前10项: [1103, 161, 1590, 1965, 2210, 3258, 3710, 2637, 3695, 1880], 真实目标: 1965, NDCG@10: 0.43067655807339306
2025-05-09 20:34:26,079 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（剧情片、情感深刻的电影、文学改编作品），我将候选电影重新排序如下：

3183, 534, 3449, 280, 3801, 1187, 1458, 3497, 2644, 607, 3761, 1232, 537, 3247, 2261, 2791, 370, 1523, 823, 3790

排序理由：
1. 优先选择严肃剧情片和文学改编作品（如The Third Miracle, Shadowlands）
2. 其次是法庭/犯罪剧情片（Murder in the First, Anatomy of a Murder）
3. 然后是情感类剧情片（Good Mother, Passion Fish）
4. 最后才是喜剧/动作类电影（Airplane!, Naked Gun等）
2025-05-09 20:34:26,079 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（剧情片、情感深刻的电影、文学改编作品），我将候选电影重新排序如下：

3183, 534, 3449, 280, 3801, 1187, 1458, 3497, 2644, 607, 3761, 1232, 537, 3247, 2261, 2791, 370, 1523, 823, 3790

排序理由：
1. 优先选择严肃剧情片和文学改编作品（如The Third Miracle, Shadowlands）
2. 其次是法庭/犯罪剧情片（Murder in the First, Anatomy of a Murder）
3. 然后是情感类剧情片（Good Mother, Passion Fish）
4. 最后才是喜剧/动作类电影（Airplane!, Naked Gun等）
2025-05-09 20:34:26,079 - INFO - 模型输出解析 - 解析后电影ID列表: [3183, 534, 3449, 280, 3801, 1187, 1458, 3497, 2644, 607, 3761, 1232, 537, 3247, 2261, 2791, 370, 1523, 823, 3790, 1, 2, 3, 4]
2025-05-09 20:34:26,079 - INFO - NDCG计算 - 预测列表前10项: [3183, 534, 3449, 280, 3801, 1187, 1458, 3497, 2644, 607], 真实目标: 534, NDCG@10: 0.6309297535714575
2025-05-09 20:34:29,104 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中的电影类型和风格偏好（包含文艺片、剧情片、经典电影和带有艺术气质的作品），以下是重排后的候选电影ID列表，最可能观看的放最前：

1695, 3221, 1844, 2813, 1656, 41, 3516, 1829, 3606, 2579, 3858, 2755, 3497, 2123, 3303, 396, 2720, 1731, 328, 2795
2025-05-09 20:34:29,104 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中的电影类型和风格偏好（包含文艺片、剧情片、经典电影和带有艺术气质的作品），以下是重排后的候选电影ID列表，最可能观看的放最前：

1695, 3221, 1844, 2813, 1656, 41, 3516, 1829, 3606, 2579, 3858, 2755, 3497, 2123, 3303, 396, 2720, 1731, 328, 2795
2025-05-09 20:34:29,104 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 3221, 1844, 2813, 1656, 41, 3516, 1829, 3606, 2579, 3858, 2755, 3497, 2123, 3303, 396, 2720, 1731, 328, 2795]
2025-05-09 20:34:29,104 - INFO - NDCG计算 - 预测列表前10项: [1695, 3221, 1844, 2813, 1656, 41, 3516, 1829, 3606, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 20:34:33,353 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近观看的电影列表，可以看出用户偏好喜剧、讽刺幽默、经典喜剧以及带有荒诞元素的电影（如《Animal House》《Monty Python's Life of Brian》《Blazing Saddles》《Jerk, The》《Meatballs》等）。因此，我会优先推荐风格类似的喜剧或荒诞幽默电影，其次是其他类型的候选电影。

排序后的电影ID列表如下：

1194, 785, 945, 1083, 3709, 3768, 3667, 1145, 2858, 29, 3822, 1365, 3474, 2438, 194, 2705, 2022, 1263, 2311, 1797

解释：
- **《Up in Smoke》 (1194)** 和 **《Kingpin》 (785)**：荒诞喜剧，与用户喜欢的《Blazing Saddles》《Jerk, The》风格接近。
- **《Top Hat》 (945)** 和 **《Great Race, The》 (1083)**：经典喜剧/音乐剧，类似《Grease》的怀旧风格。
- **《Sleepwalkers》 (3709)** 和 **《Braddock: Missing in Action III》 (3768)**：动作/荒诞元素，接近《Kelly's Heroes》的混合风格。
- **《Rent-A-Cop》 (3667)** 和 **《Snowriders》 (1145)**：轻松幽默的动作或运动题材。
- 其余电影（如《American Beauty》《City of Lost Children》等）虽然质量高，但不符合用户明显的喜剧偏好，故排在后面。
2025-05-09 20:34:33,353 - INFO - 模型输出解析 - 原始输出:
根据用户最近观看的电影列表，可以看出用户偏好喜剧、讽刺幽默、经典喜剧以及带有荒诞元素的电影（如《Animal House》《Monty Python's Life of Brian》《Blazing Saddles》《Jerk, The》《Meatballs》等）。因此，我会优先推荐风格类似的喜剧或荒诞幽默电影，其次是其他类型的候选电影。

排序后的电影ID列表如下：

1194, 785, 945, 1083, 3709, 3768, 3667, 1145, 2858, 29, 3822, 1365, 3474, 2438, 194, 2705, 2022, 1263, 2311, 1797

解释：
- **《Up in Smoke》 (1194)** 和 **《Kingpin》 (785)**：荒诞喜剧，与用户喜欢的《Blazing Saddles》《Jerk, The》风格接近。
- **《Top Hat》 (945)** 和 **《Great Race, The》 (1083)**：经典喜剧/音乐剧，类似《Grease》的怀旧风格。
- **《Sleepwalkers》 (3709)** 和 **《Braddock: Missing in Action III》 (3768)**：动作/荒诞元素，接近《Kelly's Heroes》的混合风格。
- **《Rent-A-Cop》 (3667)** 和 **《Snowriders》 (1145)**：轻松幽默的动作或运动题材。
- 其余电影（如《American Beauty》《City of Lost Children》等）虽然质量高，但不符合用户明显的喜剧偏好，故排在后面。
2025-05-09 20:34:33,353 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 945, 1083, 3709, 3768, 3667, 1145, 2858, 29, 3822, 1365, 3474, 2438, 194, 2705, 2022, 1263, 2311, 1797, 1194, 785, 945, 1083, 3709, 3768, 3667, 1145]
2025-05-09 20:34:33,353 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 945, 1083, 3709, 3768, 3667, 1145, 2858, 29], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 20:34:33,750 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（包含动作片《角斗士》、惊悚片《美国精神病人》、喜剧片《大妈妈的家》等多元化但偏商业化的选择），以下是重新排序的候选电影ID列表，最可能观看的排在前面：

21, 370, 1722, 122, 428, 2367, 1563, 1555, 1539, 447, 691, 818, 3420, 3701, 3768, 567, 1913, 3824, 3756, 2609

排序理由：
1. **商业片/强类型优先**：如《Get Shorty》(21黑色喜剧)、《Naked Gun》(370恶搞喜剧)、《Tomorrow Never Dies》(1722动作)符合用户对喜剧和动作的偏好。
2. **都市/犯罪元素**：《Bronx Tale》(428)、《Boomerang》(122)贴近《American Psycho》的都市暗黑风格。
3. **冒险/奇幻**：《King Kong》(2367)呼应《Gladiator》的大场面。
4. **小众/文艺片靠后**：如《Picnic at Hanging Rock》(1913)、《Golden Bowl》(3756)与用户历史关联较弱。
5. **年代感匹配**：优先90s-2000s作品（用户历史多为此时期），较老或艺术性强的影片排后。
2025-05-09 20:34:33,750 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（包含动作片《角斗士》、惊悚片《美国精神病人》、喜剧片《大妈妈的家》等多元化但偏商业化的选择），以下是重新排序的候选电影ID列表，最可能观看的排在前面：

21, 370, 1722, 122, 428, 2367, 1563, 1555, 1539, 447, 691, 818, 3420, 3701, 3768, 567, 1913, 3824, 3756, 2609

排序理由：
1. **商业片/强类型优先**：如《Get Shorty》(21黑色喜剧)、《Naked Gun》(370恶搞喜剧)、《Tomorrow Never Dies》(1722动作)符合用户对喜剧和动作的偏好。
2. **都市/犯罪元素**：《Bronx Tale》(428)、《Boomerang》(122)贴近《American Psycho》的都市暗黑风格。
3. **冒险/奇幻**：《King Kong》(2367)呼应《Gladiator》的大场面。
4. **小众/文艺片靠后**：如《Picnic at Hanging Rock》(1913)、《Golden Bowl》(3756)与用户历史关联较弱。
5. **年代感匹配**：优先90s-2000s作品（用户历史多为此时期），较老或艺术性强的影片排后。
2025-05-09 20:34:33,750 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 1722, 122, 428, 2367, 1563, 1555, 1539, 447, 691, 818, 3420, 3701, 3768, 567, 1913, 3824, 3756, 2609, 1, 21, 370, 1722, 2, 428, 122, 3, 2367, 4, 1913, 3756, 5, 90, 2000]
2025-05-09 20:34:33,750 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 1722, 122, 428, 2367, 1563, 1555, 1539, 447], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 20:34:34,918 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好(文艺片、独立电影、女性视角、文学改编作品)，我将候选电影重新排序如下：

3251, 887, 271, 372, 185, 2249, 1259, 359, 1815, 3626, 2960, 2137, 3859, 3614, 2409, 2452, 3378, 3312, 1375

排序理由：
1. Agnes of God (3251) - 宗教题材文艺片，符合用户对严肃题材的偏好
2. Talk of Angels (887) - 女性视角的文艺片
3. Losing Isaiah (271) - 情感深刻的剧情片
4. Reality Bites (372) - 90年代独立电影代表作
5. Net, The (185) - 女性主角的惊悚片
6. My Blue Heaven (2249) - 文艺喜剧
7. Stand by Me (1259) - 经典成长故事
8. I Like It Like That (359) - 都市女性故事
9. Eden (1815) - 文艺剧情片
10. 8 1/2 Women (3626) - 艺术电影
11. Beefcake (2960) - 另类题材
12. Charlotte's Web (2137) - 经典文学改编
13. Eyes of Tammy Faye (3859) - 传记题材
14. Honeymoon in Vegas (3614) - 浪漫喜剧
15. Rocky II (2409) - 动作续集
16. Gate II (2452) - 恐怖续集
17. Ogre, The (3378) - 黑暗题材
18. McCullochs (3312) - 家庭剧情
19. Star Trek III (1375) - 科幻续集
2025-05-09 20:34:34,918 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好(文艺片、独立电影、女性视角、文学改编作品)，我将候选电影重新排序如下：

3251, 887, 271, 372, 185, 2249, 1259, 359, 1815, 3626, 2960, 2137, 3859, 3614, 2409, 2452, 3378, 3312, 1375

排序理由：
1. Agnes of God (3251) - 宗教题材文艺片，符合用户对严肃题材的偏好
2. Talk of Angels (887) - 女性视角的文艺片
3. Losing Isaiah (271) - 情感深刻的剧情片
4. Reality Bites (372) - 90年代独立电影代表作
5. Net, The (185) - 女性主角的惊悚片
6. My Blue Heaven (2249) - 文艺喜剧
7. Stand by Me (1259) - 经典成长故事
8. I Like It Like That (359) - 都市女性故事
9. Eden (1815) - 文艺剧情片
10. 8 1/2 Women (3626) - 艺术电影
11. Beefcake (2960) - 另类题材
12. Charlotte's Web (2137) - 经典文学改编
13. Eyes of Tammy Faye (3859) - 传记题材
14. Honeymoon in Vegas (3614) - 浪漫喜剧
15. Rocky II (2409) - 动作续集
16. Gate II (2452) - 恐怖续集
17. Ogre, The (3378) - 黑暗题材
18. McCullochs (3312) - 家庭剧情
19. Star Trek III (1375) - 科幻续集
2025-05-09 20:34:34,918 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 185, 2249, 1259, 359, 1815, 3626, 2960, 2137, 3859, 3614, 2409, 2452, 3378, 3312, 1375, 1, 3251, 2, 887, 3, 271, 4, 372, 90, 5, 185, 6, 2249, 7, 1259, 8, 359, 9, 1815, 10, 8, 1, 2, 3626, 11, 2960, 12, 2137, 13, 3859, 14, 3614, 15, 2409, 16, 2452, 17, 3378, 18, 3312, 19, 1375]
2025-05-09 20:34:34,918 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 185, 2249, 1259, 359, 1815, 3626], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 20:34:34,918 - INFO - 策略 expert_format_example 平均 NDCG@10: 0.5866

