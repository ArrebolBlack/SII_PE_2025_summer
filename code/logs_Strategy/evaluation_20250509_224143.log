2025-05-09 22:41:43,772 - INFO - 日志系统初始化完成
2025-05-09 22:41:43,773 - INFO - 验证数据加载成功 - 样本数: 10
2025-05-09 22:41:43,773 - INFO - 
===== 评估策略: expert_instruction_id_first_plain ======
2025-05-09 22:41:43,773 - INFO - 
===== 开始评估策略: expert_instruction_id_first_plain ======
2025-05-09 22:41:43,800 - INFO - 开始第 1/10 次评估
2025-05-09 22:41:43,947 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:41:43,952 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:41:43,953 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:41:43,953 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:41:43,967 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:41:43,968 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:41:43,968 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:41:43,968 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:41:43,969 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:41:44,002 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:41:54,735 - INFO - DeepSeek API 异步请求 - 模型输出:
3948: Meet the Parents
516: Renaissance Man
3618: Small Time Crooks
145: Bad Boys
1824: Homegrown
2227: Lodger, The
2160: Rosemary's Baby
1822: Meet the Deedles
2620: This Is My Father
1528: Intimate Relations
1671: Deceiver
3313: Class Reunion
8: Tom and Huck
2869: Separation, The (La Séparation)
3882: Bring It On
1317: I'm Not Rappaport
2374: Gung Ho
863: Celestial Clockwork
2993: Thunderball
2074: Night Porter, The (Il Portiere di notte)
2025-05-09 22:41:54,736 - INFO - 模型输出解析 - 原始输出:
3948: Meet the Parents
516: Renaissance Man
3618: Small Time Crooks
145: Bad Boys
1824: Homegrown
2227: Lodger, The
2160: Rosemary's Baby
1822: Meet the Deedles
2620: This Is My Father
1528: Intimate Relations
1671: Deceiver
3313: Class Reunion
8: Tom and Huck
2869: Separation, The (La Séparation)
3882: Bring It On
1317: I'm Not Rappaport
2374: Gung Ho
863: Celestial Clockwork
2993: Thunderball
2074: Night Porter, The (Il Portiere di notte)
2025-05-09 22:41:54,736 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 3618, 145, 1824, 2227, 2160, 1822, 2620, 1528, 1671, 3313, 8, 2869, 3882, 1317, 2374, 863, 2993, 2074]
2025-05-09 22:41:54,736 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 3618, 145, 1824, 2227, 2160, 1822, 2620, 1528], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:41:54,736 - INFO - 样本 4 (Trial 1): NDCG@10 = 1.0000
2025-05-09 22:41:56,462 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好剧情片、情感深刻的电影以及文学改编作品。以下是重排后的电影ID列表，最可能观看的放最前：

534: Shadowlands
3183: Third Miracle, The
3449: Good Mother, The
280: Murder in the First
1187: Passion Fish
3801: Anatomy of a Murder
3497: Max Dugan Returns
1458: Touch
607: Century
1232: Stalker
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
2644: Dracula
537: Sirens
823: Collectionneuse, La
2261: One Crazy Summer
3247: Sister Act
2791: Airplane!
370: Naked Gun 33 1/3: The Final Insult
1523: Truth or Consequences, N.M.
3790: Groove
2025-05-09 22:41:56,462 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好剧情片、情感深刻的电影以及文学改编作品。以下是重排后的电影ID列表，最可能观看的放最前：

534: Shadowlands
3183: Third Miracle, The
3449: Good Mother, The
280: Murder in the First
1187: Passion Fish
3801: Anatomy of a Murder
3497: Max Dugan Returns
1458: Touch
607: Century
1232: Stalker
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
2644: Dracula
537: Sirens
823: Collectionneuse, La
2261: One Crazy Summer
3247: Sister Act
2791: Airplane!
370: Naked Gun 33 1/3: The Final Insult
1523: Truth or Consequences, N.M.
3790: Groove
2025-05-09 22:41:56,462 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3183, 3449, 280, 1187, 3801, 3497, 1458, 607, 1232, 3761, 2644, 537, 823, 2261, 3247, 2791, 370, 33, 1, 3, 1523, 3790]
2025-05-09 22:41:56,462 - INFO - NDCG计算 - 预测列表前10项: [534, 3183, 3449, 280, 1187, 3801, 3497, 1458, 607, 1232], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:41:56,462 - INFO - 样本 5 (Trial 1): NDCG@10 = 1.0000
2025-05-09 22:41:56,887 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（偏向剧情片、文艺片、有深度的电影），我将候选电影重新排序如下：

1695: Artemisia
1844: Live Flesh
1656: Swept from the Sea
3221: Draughtsman's Contract, The
41: Richard III
1829: Chinese Box
2813: Source, The
3516: Bell, Book and Candle
3497: Max Dugan Returns
2579: Following
2755: Light of Day
3606: On the Town
3858: Cecil B. Demented
3303: Black Tar Heroin: The Dark End of the Street
396: Fall Time
2720: Inspector Gadget
1731: Mr. Magoo
2123: All Dogs Go to Heaven
328: Tales From the Crypt Presents: Demon Knight
2795: Vacation
2025-05-09 22:41:56,887 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（偏向剧情片、文艺片、有深度的电影），我将候选电影重新排序如下：

1695: Artemisia
1844: Live Flesh
1656: Swept from the Sea
3221: Draughtsman's Contract, The
41: Richard III
1829: Chinese Box
2813: Source, The
3516: Bell, Book and Candle
3497: Max Dugan Returns
2579: Following
2755: Light of Day
3606: On the Town
3858: Cecil B. Demented
3303: Black Tar Heroin: The Dark End of the Street
396: Fall Time
2720: Inspector Gadget
1731: Mr. Magoo
2123: All Dogs Go to Heaven
328: Tales From the Crypt Presents: Demon Knight
2795: Vacation
2025-05-09 22:41:56,887 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1844, 1656, 3221, 41, 1829, 2813, 3516, 3497, 2579, 2755, 3606, 3858, 3303, 396, 2720, 1731, 2123, 328, 2795]
2025-05-09 22:41:56,887 - INFO - NDCG计算 - 预测列表前10项: [1695, 1844, 1656, 3221, 41, 1829, 2813, 3516, 3497, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:41:56,887 - INFO - 样本 0 (Trial 1): NDCG@10 = 1.0000
2025-05-09 22:41:57,215 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户近期观看的电影列表，可以看出用户偏好科幻、动作冒险、经典科幻续集以及带有神秘/超自然元素的电影。以下是重排后的推荐电影ID列表，最可能观看的放在最前面：

3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
3557: Jennifer 8
2562: Bandits
1541: Addicted to Love
515: Remains of the Day, The
2467: Name of the Rose, The
1257: Better Off Dead...
1357: Shine
2482: Still Crazy
2703: Broken Vessels
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 22:41:57,215 - INFO - 模型输出解析 - 原始输出:
根据用户近期观看的电影列表，可以看出用户偏好科幻、动作冒险、经典科幻续集以及带有神秘/超自然元素的电影。以下是重排后的推荐电影ID列表，最可能观看的放在最前面：

3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
3557: Jennifer 8
2562: Bandits
1541: Addicted to Love
515: Remains of the Day, The
2467: Name of the Rose, The
1257: Better Off Dead...
1357: Shine
2482: Still Crazy
2703: Broken Vessels
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 22:41:57,215 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 3557, 8, 2562, 1541, 515, 2467, 1257, 1357, 2482, 2703, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 22:41:57,215 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 3557, 8, 2562, 1541, 515, 2467], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:41:57,215 - INFO - 样本 2 (Trial 1): NDCG@10 = 0.6309
2025-05-09 22:41:57,260 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中的电影类型和风格偏好（独立电影、文艺片、社会议题、成长故事、女性视角等），以下是重排后的候选电影ID列表，最可能观看的放最前：

3251: Agnes of God  
887: Talk of Angels  
271: Losing Isaiah  
372: Reality Bites  
1815: Eden  
359: I Like It Like That  
3626: 8 1/2 Women  
2249: My Blue Heaven  
1259: Stand by Me  
3378: Ogre, The (Der Unhold)  
3859: Eyes of Tammy Faye, The  
2960: Beefcake  
3312: McCullochs, The  
185: Net, The  
3614: Honeymoon in Vegas  
2452: Gate II: Trespassers, The  
2409: Rocky II  
1375: Star Trek III: The Search for Spock  
2137: Charlotte's Web  
758: Jar, The (Khomreh)
2025-05-09 22:41:57,260 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中的电影类型和风格偏好（独立电影、文艺片、社会议题、成长故事、女性视角等），以下是重排后的候选电影ID列表，最可能观看的放最前：

3251: Agnes of God  
887: Talk of Angels  
271: Losing Isaiah  
372: Reality Bites  
1815: Eden  
359: I Like It Like That  
3626: 8 1/2 Women  
2249: My Blue Heaven  
1259: Stand by Me  
3378: Ogre, The (Der Unhold)  
3859: Eyes of Tammy Faye, The  
2960: Beefcake  
3312: McCullochs, The  
185: Net, The  
3614: Honeymoon in Vegas  
2452: Gate II: Trespassers, The  
2409: Rocky II  
1375: Star Trek III: The Search for Spock  
2137: Charlotte's Web  
758: Jar, The (Khomreh)
2025-05-09 22:41:57,260 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 1815, 359, 3626, 8, 1, 2, 2249, 1259, 3378, 3859, 2960, 3312, 185, 3614, 2452, 2409, 1375, 2137, 758]
2025-05-09 22:41:57,260 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 1815, 359, 3626, 8, 1, 2], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:41:57,260 - INFO - 样本 6 (Trial 1): NDCG@10 = 0.4307
2025-05-09 22:41:57,557 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好动作冒险、惊悚、奇幻类电影，同时也有对经典剧情片的兴趣。以下是重新排序后的电影ID列表，最可能观看的放在前面：

2571: Matrix, The
3623: Mission: Impossible 2
2867: Fright Night
2550: Haunting, The
3878: X: The Unknown
1483: Crash
3176: Talented Mr. Ripley, The
3219: Pacific Heights
3360: Hoosiers
249: Immortal Beloved
1965: Repo Man
1611: My Own Private Idaho
381: When a Man Loves a Woman
2154: How Stella Got Her Groove Back
2943: Indochine
730: Low Life, The
803: Walking and Talking
3590: Lords of Flatbush, The
2129: Saltmen of Tibet, The
146: Amazing Panda Adventure, The
2025-05-09 22:41:57,557 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好动作冒险、惊悚、奇幻类电影，同时也有对经典剧情片的兴趣。以下是重新排序后的电影ID列表，最可能观看的放在前面：

2571: Matrix, The
3623: Mission: Impossible 2
2867: Fright Night
2550: Haunting, The
3878: X: The Unknown
1483: Crash
3176: Talented Mr. Ripley, The
3219: Pacific Heights
3360: Hoosiers
249: Immortal Beloved
1965: Repo Man
1611: My Own Private Idaho
381: When a Man Loves a Woman
2154: How Stella Got Her Groove Back
2943: Indochine
730: Low Life, The
803: Walking and Talking
3590: Lords of Flatbush, The
2129: Saltmen of Tibet, The
146: Amazing Panda Adventure, The
2025-05-09 22:41:57,557 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2, 2867, 2550, 3878, 1483, 3176, 3219, 3360, 249, 1965, 1611, 381, 2154, 2943, 730, 803, 3590, 2129, 146]
2025-05-09 22:41:57,557 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2, 2867, 2550, 3878, 1483, 3176, 3219, 3360], 真实目标: 3176, NDCG@10: 0.31546487678572877
2025-05-09 22:41:57,557 - INFO - 样本 7 (Trial 1): NDCG@10 = 0.3155
2025-05-09 22:41:59,109 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（经典喜剧、无厘头幽默、怀旧风格和恶搞元素），我将候选电影重新排序如下：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
1145: Snowriders
945: Top Hat
3768: Braddock: Missing in Action III
3667: Rent-A-Cop
3709: Sleepwalkers
3474: Retroactive
2438: Outside Ozona
1365: Ridicule
29: City of Lost Children, The
3822: Girl on the Bridge, The (La Fille sur le Pont)
194: Smoke
2858: American Beauty
2311: 2010
1797: Everest
1263: Deer Hunter, The
2022: Last Temptation of Christ, The
2705: Late August, Early September (Fin août, début septembre)
2025-05-09 22:41:59,109 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（经典喜剧、无厘头幽默、怀旧风格和恶搞元素），我将候选电影重新排序如下：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
1145: Snowriders
945: Top Hat
3768: Braddock: Missing in Action III
3667: Rent-A-Cop
3709: Sleepwalkers
3474: Retroactive
2438: Outside Ozona
1365: Ridicule
29: City of Lost Children, The
3822: Girl on the Bridge, The (La Fille sur le Pont)
194: Smoke
2858: American Beauty
2311: 2010
1797: Everest
1263: Deer Hunter, The
2022: Last Temptation of Christ, The
2705: Late August, Early September (Fin août, début septembre)
2025-05-09 22:41:59,109 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 1145, 945, 3768, 3667, 3709, 3474, 2438, 1365, 29, 3822, 194, 2858, 2311, 2010, 1797, 1263, 2022, 2705]
2025-05-09 22:41:59,109 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 1145, 945, 3768, 3667, 3709, 3474, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:41:59,109 - INFO - 样本 1 (Trial 1): NDCG@10 = 1.0000
2025-05-09 22:41:59,200 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近的观影记录，可以看出用户偏好动作片、剧情片和带有紧张刺激元素的电影（如《Mission to Mars》《Perfect Storm》《Gone in 60 Seconds》），同时也对现实题材和励志故事感兴趣（如《Erin Brockovich》《Remember the Titans》）。以下是重排后的电影ID列表，最可能观看的放在最前面：

3107: Backdraft
1343: Cape Fear
1858: Mr. Nice Guy
373: Red Rock West
1236: Trust
1758: Dangerous Beauty
614: Loaded
2507: Breakfast of Champions
971: Cat on a Hot Tin Roof
1053: Normal Life
3145: Cradle Will Rock, The
1537: Shall We Dance? (Shall We Dansu?)
2997: Being John Malkovich
3325: Next Best Thing, The
3864: Godzilla 2000 (Gojira ni-sen mireniamu)
3933: Killer Shrews, The
3672: Benji
2566: Doug's 1st Movie
2049: Happiest Millionaire, The
1024: Three Caballeros, The
2025-05-09 22:41:59,201 - INFO - 模型输出解析 - 原始输出:
根据用户最近的观影记录，可以看出用户偏好动作片、剧情片和带有紧张刺激元素的电影（如《Mission to Mars》《Perfect Storm》《Gone in 60 Seconds》），同时也对现实题材和励志故事感兴趣（如《Erin Brockovich》《Remember the Titans》）。以下是重排后的电影ID列表，最可能观看的放在最前面：

3107: Backdraft
1343: Cape Fear
1858: Mr. Nice Guy
373: Red Rock West
1236: Trust
1758: Dangerous Beauty
614: Loaded
2507: Breakfast of Champions
971: Cat on a Hot Tin Roof
1053: Normal Life
3145: Cradle Will Rock, The
1537: Shall We Dance? (Shall We Dansu?)
2997: Being John Malkovich
3325: Next Best Thing, The
3864: Godzilla 2000 (Gojira ni-sen mireniamu)
3933: Killer Shrews, The
3672: Benji
2566: Doug's 1st Movie
2049: Happiest Millionaire, The
1024: Three Caballeros, The
2025-05-09 22:41:59,201 - INFO - 模型输出解析 - 解析后电影ID列表: [60, 3107, 1343, 1858, 373, 1236, 1758, 614, 2507, 971, 1053, 3145, 1537, 2997, 3325, 3864, 2000, 3933, 3672, 2566, 1, 2049, 1024]
2025-05-09 22:41:59,201 - INFO - NDCG计算 - 预测列表前10项: [60, 3107, 1343, 1858, 373, 1236, 1758, 614, 2507, 971], 真实目标: 1758, NDCG@10: 0.3333333333333333
2025-05-09 22:41:59,201 - INFO - 样本 8 (Trial 1): NDCG@10 = 0.3333
2025-05-09 22:41:59,202 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色幽默/犯罪（American Psycho）、惊悚/恐怖（Final Destination）、喜剧（Meet the Parents, Big Momma's House）以及一些cult风格电影（Showgirls, Supernova）。以下是重排后的推荐列表，最可能观看的优先：

21: Get Shorty
370: Naked Gun 33 1/3: The Final Insult
1722: Tomorrow Never Dies
2367: King Kong
122: Boomerang
428: Bronx Tale, A
3701: Alien Nation
1539: Twin Town
3768: Braddock: Missing in Action III
3420: ...And Justice for All
818: Very Brady Sequel, A
447: Favor, The
691: Mrs. Winterbourne
567: Kika
1563: Dream With the Fishes
3824: Autumn in New York
1555: To Have, or Not
1913: Picnic at Hanging Rock
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:41:59,203 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色幽默/犯罪（American Psycho）、惊悚/恐怖（Final Destination）、喜剧（Meet the Parents, Big Momma's House）以及一些cult风格电影（Showgirls, Supernova）。以下是重排后的推荐列表，最可能观看的优先：

21: Get Shorty
370: Naked Gun 33 1/3: The Final Insult
1722: Tomorrow Never Dies
2367: King Kong
122: Boomerang
428: Bronx Tale, A
3701: Alien Nation
1539: Twin Town
3768: Braddock: Missing in Action III
3420: ...And Justice for All
818: Very Brady Sequel, A
447: Favor, The
691: Mrs. Winterbourne
567: Kika
1563: Dream With the Fishes
3824: Autumn in New York
1555: To Have, or Not
1913: Picnic at Hanging Rock
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:41:59,203 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 33, 1, 3, 1722, 2367, 122, 428, 3701, 1539, 3768, 3420, 818, 447, 691, 567, 1563, 3824, 1555, 1913, 2609, 3756]
2025-05-09 22:41:59,203 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 33, 1, 3, 1722, 2367, 122, 428, 3701], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:41:59,203 - INFO - 样本 3 (Trial 1): NDCG@10 = 0.0000
2025-05-09 22:42:10,638 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（科幻、动作、黑色幽默、心理惊悚、经典电影等），以下是重排后的电影ID列表：

3258: Death Becomes Her (黑色幽默+奇幻，类似Edward Scissorhands和Rosemary's Baby)
1590: Event Horizon (科幻惊悚，类似Terminator 2和Rosemary's Baby)
161: Crimson Tide (高张力动作/剧情，类似Terminator 2和From Russia with Love)
1103: Rebel Without a Cause (经典叛逆题材，类似Edward Scissorhands和High Fidelity)
1965: Repo Man (cult经典+黑色幽默，类似Boogie Nights和Big Kahuna)
2318: Happiness (另类剧情，类似Boogie Nights和After Life)
2970: Fitzcarraldo (艺术冒险片，类似Braveheart的史诗感)
1251: 8 1/2 (艺术电影，类似After Life的哲思)
2144: Sixteen Candles (青春喜剧，类似High Fidelity的情感元素)
3723: Hamlet (经典改编，类似Braveheart的历史题材)
1880: Lawn Dogs (另类剧情，但优先级较低)
396: Fall Time (犯罪剧情，关联性较弱)
2210: Sabotage (希区柯克式悬疑，但用户更倾向现代惊悚)
2637: Mummy's Hand, The (经典恐怖，但不如其他选择现代)
3710: Action Jackson (80年代动作片，但质量不如用户看过的同类)
3695: Toxic Avenger Part III (过于cult)
876: Police Story 4 (港产动作片，用户无相关偏好展示)
3245: I Am Cuba (艺术政治片，关联性弱)
3413: Impact (老式悬疑，不够突出)
381: When a Man Loves a Woman (家庭剧情片，不符主要偏好)

最终排序：
3258,1590,161,1103,1965,2318,2970,1251,2144,3723,1880,396,2210,2637,3710,3695,876,3245,3413,381
2025-05-09 22:42:10,638 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（科幻、动作、黑色幽默、心理惊悚、经典电影等），以下是重排后的电影ID列表：

3258: Death Becomes Her (黑色幽默+奇幻，类似Edward Scissorhands和Rosemary's Baby)
1590: Event Horizon (科幻惊悚，类似Terminator 2和Rosemary's Baby)
161: Crimson Tide (高张力动作/剧情，类似Terminator 2和From Russia with Love)
1103: Rebel Without a Cause (经典叛逆题材，类似Edward Scissorhands和High Fidelity)
1965: Repo Man (cult经典+黑色幽默，类似Boogie Nights和Big Kahuna)
2318: Happiness (另类剧情，类似Boogie Nights和After Life)
2970: Fitzcarraldo (艺术冒险片，类似Braveheart的史诗感)
1251: 8 1/2 (艺术电影，类似After Life的哲思)
2144: Sixteen Candles (青春喜剧，类似High Fidelity的情感元素)
3723: Hamlet (经典改编，类似Braveheart的历史题材)
1880: Lawn Dogs (另类剧情，但优先级较低)
396: Fall Time (犯罪剧情，关联性较弱)
2210: Sabotage (希区柯克式悬疑，但用户更倾向现代惊悚)
2637: Mummy's Hand, The (经典恐怖，但不如其他选择现代)
3710: Action Jackson (80年代动作片，但质量不如用户看过的同类)
3695: Toxic Avenger Part III (过于cult)
876: Police Story 4 (港产动作片，用户无相关偏好展示)
3245: I Am Cuba (艺术政治片，关联性弱)
3413: Impact (老式悬疑，不够突出)
381: When a Man Loves a Woman (家庭剧情片，不符主要偏好)

最终排序：
3258,1590,161,1103,1965,2318,2970,1251,2144,3723,1880,396,2210,2637,3710,3695,876,3245,3413,381
2025-05-09 22:42:10,638 - INFO - 模型输出解析 - 解析后电影ID列表: [3258, 1590, 2, 161, 2, 1103, 1965, 2318, 2970, 1251, 8, 1, 2, 2144, 3723, 1880, 396, 2210, 2637, 3710, 80, 3695, 876, 4, 3245, 3413, 381, 3258, 1590, 161, 1103, 1965, 2318, 2970, 1251, 2144, 3723, 1880, 396, 2210, 2637, 3710, 3695, 876, 3245, 3413, 381]
2025-05-09 22:42:10,638 - INFO - NDCG计算 - 预测列表前10项: [3258, 1590, 2, 161, 2, 1103, 1965, 2318, 2970, 1251], 真实目标: 1965, NDCG@10: 0.3333333333333333
2025-05-09 22:42:10,638 - INFO - 样本 9 (Trial 1): NDCG@10 = 0.3333
2025-05-09 22:42:10,638 - INFO - 开始第 2/10 次评估
2025-05-09 22:42:10,696 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:10,771 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:10,772 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:10,772 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:10,773 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:10,773 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:10,774 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:10,776 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:10,785 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:10,804 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:21,316 - INFO - DeepSeek API 异步请求 - 模型输出:
3948: Meet the Parents
516: Renaissance Man
3618: Small Time Crooks
145: Bad Boys
1824: Homegrown
2227: Lodger, The
2160: Rosemary's Baby
1671: Deceiver
1822: Meet the Deedles
8: Tom and Huck
2374: Gung Ho
2620: This Is My Father
3313: Class Reunion
1528: Intimate Relations
2869: Separation, The (La Séparation)
1317: I'm Not Rappaport
863: Celestial Clockwork
2993: Thunderball
2074: Night Porter, The (Il Portiere di notte)
3882: Bring It On
2025-05-09 22:42:21,316 - INFO - 模型输出解析 - 原始输出:
3948: Meet the Parents
516: Renaissance Man
3618: Small Time Crooks
145: Bad Boys
1824: Homegrown
2227: Lodger, The
2160: Rosemary's Baby
1671: Deceiver
1822: Meet the Deedles
8: Tom and Huck
2374: Gung Ho
2620: This Is My Father
3313: Class Reunion
1528: Intimate Relations
2869: Separation, The (La Séparation)
1317: I'm Not Rappaport
863: Celestial Clockwork
2993: Thunderball
2074: Night Porter, The (Il Portiere di notte)
3882: Bring It On
2025-05-09 22:42:21,316 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 3618, 145, 1824, 2227, 2160, 1671, 1822, 8, 2374, 2620, 3313, 1528, 2869, 1317, 863, 2993, 2074, 3882]
2025-05-09 22:42:21,316 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 3618, 145, 1824, 2227, 2160, 1671, 1822, 8], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:42:21,316 - INFO - 样本 4 (Trial 2): NDCG@10 = 1.0000
2025-05-09 22:42:22,120 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户近期观看的科幻、动作冒险和经典续集类电影偏好，以下是重排后的推荐列表（最可能观看的在前）：

3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
515: Remains of the Day, The
2562: Bandits
3557: Jennifer 8
1541: Addicted to Love
2467: Name of the Rose, The
2482: Still Crazy
2703: Broken Vessels
1357: Shine
1257: Better Off Dead...
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 22:42:22,120 - INFO - 模型输出解析 - 原始输出:
根据用户近期观看的科幻、动作冒险和经典续集类电影偏好，以下是重排后的推荐列表（最可能观看的在前）：

3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
515: Remains of the Day, The
2562: Bandits
3557: Jennifer 8
1541: Addicted to Love
2467: Name of the Rose, The
2482: Still Crazy
2703: Broken Vessels
1357: Shine
1257: Better Off Dead...
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 22:42:22,120 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 515, 2562, 3557, 8, 1541, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 22:42:22,120 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 515, 2562, 3557, 8, 1541, 2467], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:42:22,120 - INFO - 样本 2 (Trial 2): NDCG@10 = 0.6309
2025-05-09 22:42:22,798 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好剧情片、有深度的人物刻画以及一些艺术性较强的电影。以下是重排后的推荐列表：

1695: Artemisia
1656: Swept from the Sea
1844: Live Flesh
3221: Draughtsman's Contract, The
41: Richard III
1829: Chinese Box
2579: Following
2813: Source, The
2755: Light of Day
3516: Bell, Book and Candle
3497: Max Dugan Returns
3606: On the Town
3858: Cecil B. Demented
3303: Black Tar Heroin: The Dark End of the Street
396: Fall Time
328: Tales From the Crypt Presents: Demon Knight
2123: All Dogs Go to Heaven
2720: Inspector Gadget
1731: Mr. Magoo
2795: Vacation
2025-05-09 22:42:22,798 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好剧情片、有深度的人物刻画以及一些艺术性较强的电影。以下是重排后的推荐列表：

1695: Artemisia
1656: Swept from the Sea
1844: Live Flesh
3221: Draughtsman's Contract, The
41: Richard III
1829: Chinese Box
2579: Following
2813: Source, The
2755: Light of Day
3516: Bell, Book and Candle
3497: Max Dugan Returns
3606: On the Town
3858: Cecil B. Demented
3303: Black Tar Heroin: The Dark End of the Street
396: Fall Time
328: Tales From the Crypt Presents: Demon Knight
2123: All Dogs Go to Heaven
2720: Inspector Gadget
1731: Mr. Magoo
2795: Vacation
2025-05-09 22:42:22,798 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 3221, 41, 1829, 2579, 2813, 2755, 3516, 3497, 3606, 3858, 3303, 396, 328, 2123, 2720, 1731, 2795]
2025-05-09 22:42:22,798 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 3221, 41, 1829, 2579, 2813, 2755, 3516], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:42:22,799 - INFO - 样本 0 (Trial 2): NDCG@10 = 1.0000
2025-05-09 22:42:22,925 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（剧情片、情感深度、文学改编、社会议题），以下是重排后的电影ID列表：

3183: Third Miracle, The
534: Shadowlands
3449: Good Mother, The
280: Murder in the First
1187: Passion Fish
3801: Anatomy of a Murder
1458: Touch
3497: Max Dugan Returns
607: Century
1232: Stalker
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
2644: Dracula
537: Sirens
2261: One Crazy Summer
3247: Sister Act
2791: Airplane!
370: Naked Gun 33 1/3: The Final Insult
823: Collectionneuse, La
3790: Groove
1523: Truth or Consequences, N.M.
2025-05-09 22:42:22,925 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（剧情片、情感深度、文学改编、社会议题），以下是重排后的电影ID列表：

3183: Third Miracle, The
534: Shadowlands
3449: Good Mother, The
280: Murder in the First
1187: Passion Fish
3801: Anatomy of a Murder
1458: Touch
3497: Max Dugan Returns
607: Century
1232: Stalker
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
2644: Dracula
537: Sirens
2261: One Crazy Summer
3247: Sister Act
2791: Airplane!
370: Naked Gun 33 1/3: The Final Insult
823: Collectionneuse, La
3790: Groove
1523: Truth or Consequences, N.M.
2025-05-09 22:42:22,925 - INFO - 模型输出解析 - 解析后电影ID列表: [3183, 534, 3449, 280, 1187, 3801, 1458, 3497, 607, 1232, 3761, 2644, 537, 2261, 3247, 2791, 370, 33, 1, 3, 823, 3790, 1523]
2025-05-09 22:42:22,925 - INFO - NDCG计算 - 预测列表前10项: [3183, 534, 3449, 280, 1187, 3801, 1458, 3497, 607, 1232], 真实目标: 534, NDCG@10: 0.6309297535714575
2025-05-09 22:42:22,925 - INFO - 样本 5 (Trial 2): NDCG@10 = 0.6309
2025-05-09 22:42:23,217 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（动作冒险、惊悚、经典大片、奇幻题材），以下是重排后的电影ID列表，最可能观看的放最前：

2571: Matrix, The  
3623: Mission: Impossible 2  
2867: Fright Night  
2550: Haunting, The  
3878: X: The Unknown  
3219: Pacific Heights  
3176: Talented Mr. Ripley, The  
1483: Crash  
1965: Repo Man  
1611: My Own Private Idaho  
3360: Hoosiers  
249: Immortal Beloved  
381: When a Man Loves a Woman  
2154: How Stella Got Her Groove Back  
2943: Indochine  
730: Low Life, The  
803: Walking and Talking  
3590: Lords of Flatbush, The  
2129: Saltmen of Tibet, The  
146: Amazing Panda Adventure, The
2025-05-09 22:42:23,217 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（动作冒险、惊悚、经典大片、奇幻题材），以下是重排后的电影ID列表，最可能观看的放最前：

2571: Matrix, The  
3623: Mission: Impossible 2  
2867: Fright Night  
2550: Haunting, The  
3878: X: The Unknown  
3219: Pacific Heights  
3176: Talented Mr. Ripley, The  
1483: Crash  
1965: Repo Man  
1611: My Own Private Idaho  
3360: Hoosiers  
249: Immortal Beloved  
381: When a Man Loves a Woman  
2154: How Stella Got Her Groove Back  
2943: Indochine  
730: Low Life, The  
803: Walking and Talking  
3590: Lords of Flatbush, The  
2129: Saltmen of Tibet, The  
146: Amazing Panda Adventure, The
2025-05-09 22:42:23,217 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2, 2867, 2550, 3878, 3219, 3176, 1483, 1965, 1611, 3360, 249, 381, 2154, 2943, 730, 803, 3590, 2129, 146]
2025-05-09 22:42:23,217 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2, 2867, 2550, 3878, 3219, 3176, 1483, 1965], 真实目标: 3176, NDCG@10: 0.31546487678572877
2025-05-09 22:42:23,217 - INFO - 样本 7 (Trial 2): NDCG@10 = 0.3155
2025-05-09 22:42:23,403 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（经典喜剧、无厘头幽默、恶搞风格、70年代怀旧电影），我将候选电影重新排序如下：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
1145: Snowriders
3768: Braddock: Missing in Action III
3667: Rent-A-Cop
3709: Sleepwalkers
945: Top Hat
1365: Ridicule
3474: Retroactive
2438: Outside Ozona
29: City of Lost Children, The
3822: Girl on the Bridge, The (La Fille sur le Pont)
194: Smoke
2858: American Beauty
2311: 2010
1797: Everest
1263: Deer Hunter, The
2022: Last Temptation of Christ, The
2705: Late August, Early September (Fin août, début septembre)
2025-05-09 22:42:23,403 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（经典喜剧、无厘头幽默、恶搞风格、70年代怀旧电影），我将候选电影重新排序如下：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
1145: Snowriders
3768: Braddock: Missing in Action III
3667: Rent-A-Cop
3709: Sleepwalkers
945: Top Hat
1365: Ridicule
3474: Retroactive
2438: Outside Ozona
29: City of Lost Children, The
3822: Girl on the Bridge, The (La Fille sur le Pont)
194: Smoke
2858: American Beauty
2311: 2010
1797: Everest
1263: Deer Hunter, The
2022: Last Temptation of Christ, The
2705: Late August, Early September (Fin août, début septembre)
2025-05-09 22:42:23,403 - INFO - 模型输出解析 - 解析后电影ID列表: [70, 1194, 785, 1083, 1145, 3768, 3667, 3709, 945, 1365, 3474, 2438, 29, 3822, 194, 2858, 2311, 2010, 1797, 1263, 2022, 2705]
2025-05-09 22:42:23,403 - INFO - NDCG计算 - 预测列表前10项: [70, 1194, 785, 1083, 1145, 3768, 3667, 3709, 945, 1365], 真实目标: 1194, NDCG@10: 0.6309297535714575
2025-05-09 22:42:23,403 - INFO - 样本 1 (Trial 2): NDCG@10 = 0.6309
2025-05-09 22:42:23,575 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近观看的电影列表，可以看出用户偏好偏向于独立电影、文艺片、剧情片以及一些具有深刻情感或社会议题的作品。以下是根据这些偏好对候选电影的重排推荐：

3251: Agnes of God  
887: Talk of Angels  
271: Losing Isaiah  
372: Reality Bites  
1259: Stand by Me  
1815: Eden  
359: I Like It Like That  
3626: 8 1/2 Women  
2249: My Blue Heaven  
3859: Eyes of Tammy Faye, The  
2960: Beefcake  
3378: Ogre, The (Der Unhold)  
3312: McCullochs, The  
185: Net, The  
3614: Honeymoon in Vegas  
2452: Gate II: Trespassers, The  
1375: Star Trek III: The Search for Spock  
2409: Rocky II  
2137: Charlotte's Web  
758: Jar, The (Khomreh)
2025-05-09 22:42:23,575 - INFO - 模型输出解析 - 原始输出:
根据用户最近观看的电影列表，可以看出用户偏好偏向于独立电影、文艺片、剧情片以及一些具有深刻情感或社会议题的作品。以下是根据这些偏好对候选电影的重排推荐：

3251: Agnes of God  
887: Talk of Angels  
271: Losing Isaiah  
372: Reality Bites  
1259: Stand by Me  
1815: Eden  
359: I Like It Like That  
3626: 8 1/2 Women  
2249: My Blue Heaven  
3859: Eyes of Tammy Faye, The  
2960: Beefcake  
3378: Ogre, The (Der Unhold)  
3312: McCullochs, The  
185: Net, The  
3614: Honeymoon in Vegas  
2452: Gate II: Trespassers, The  
1375: Star Trek III: The Search for Spock  
2409: Rocky II  
2137: Charlotte's Web  
758: Jar, The (Khomreh)
2025-05-09 22:42:23,575 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 1259, 1815, 359, 3626, 8, 1, 2, 2249, 3859, 2960, 3378, 3312, 185, 3614, 2452, 1375, 2409, 2137, 758]
2025-05-09 22:42:23,575 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 1259, 1815, 359, 3626, 8, 1], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:42:23,575 - INFO - 样本 6 (Trial 2): NDCG@10 = 0.4307
2025-05-09 22:42:23,717 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（科幻、动作、黑色幽默、心理惊悚、经典剧情片等），以下是重排后的电影ID列表，最可能观看的放前面：

1590: Event Horizon  
161: Crimson Tide  
1103: Rebel Without a Cause  
3258: Death Becomes Her  
1965: Repo Man  
2318: Happiness  
3710: Action Jackson  
2210: Sabotage  
2637: Mummy's Hand, The  
1880: Lawn Dogs  
396: Fall Time  
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The  
381: When a Man Loves a Woman  
2144: Sixteen Candles  
3723: Hamlet  
1251: 8 1/2  
2970: Fitzcarraldo  
876: Police Story 4: Project S (Chao ji ji hua)  
3413: Impact  
3245: I Am Cuba (Soy Cuba/Ya Kuba)
2025-05-09 22:42:23,717 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（科幻、动作、黑色幽默、心理惊悚、经典剧情片等），以下是重排后的电影ID列表，最可能观看的放前面：

1590: Event Horizon  
161: Crimson Tide  
1103: Rebel Without a Cause  
3258: Death Becomes Her  
1965: Repo Man  
2318: Happiness  
3710: Action Jackson  
2210: Sabotage  
2637: Mummy's Hand, The  
1880: Lawn Dogs  
396: Fall Time  
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The  
381: When a Man Loves a Woman  
2144: Sixteen Candles  
3723: Hamlet  
1251: 8 1/2  
2970: Fitzcarraldo  
876: Police Story 4: Project S (Chao ji ji hua)  
3413: Impact  
3245: I Am Cuba (Soy Cuba/Ya Kuba)
2025-05-09 22:42:23,717 - INFO - 模型输出解析 - 解析后电影ID列表: [1590, 161, 1103, 3258, 1965, 2318, 3710, 2210, 2637, 1880, 396, 3695, 381, 2144, 3723, 1251, 8, 1, 2, 2970, 876, 4, 3413, 3245]
2025-05-09 22:42:23,717 - INFO - NDCG计算 - 预测列表前10项: [1590, 161, 1103, 3258, 1965, 2318, 3710, 2210, 2637, 1880], 真实目标: 1965, NDCG@10: 0.38685280723454163
2025-05-09 22:42:23,717 - INFO - 样本 9 (Trial 2): NDCG@10 = 0.3869
2025-05-09 22:42:24,951 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色喜剧（American Psycho）、惊悚片（Final Destination）、轻松喜剧（Meet the Parents, Big Momma's House）以及一些cult经典（Showgirls, Supernova）。以下是重排后的推荐列表，最可能观看的放在前面：

21: Get Shorty
370: Naked Gun 33 1/3: The Final Insult
818: Very Brady Sequel, A
122: Boomerang
1722: Tomorrow Never Dies
3701: Alien Nation
2367: King Kong
428: Bronx Tale, A
1539: Twin Town
1563: Dream With the Fishes
447: Favor, The
691: Mrs. Winterbourne
1555: To Have, or Not
3420: ...And Justice for All
3768: Braddock: Missing in Action III
567: Kika
3824: Autumn in New York
1913: Picnic at Hanging Rock
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:42:24,951 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色喜剧（American Psycho）、惊悚片（Final Destination）、轻松喜剧（Meet the Parents, Big Momma's House）以及一些cult经典（Showgirls, Supernova）。以下是重排后的推荐列表，最可能观看的放在前面：

21: Get Shorty
370: Naked Gun 33 1/3: The Final Insult
818: Very Brady Sequel, A
122: Boomerang
1722: Tomorrow Never Dies
3701: Alien Nation
2367: King Kong
428: Bronx Tale, A
1539: Twin Town
1563: Dream With the Fishes
447: Favor, The
691: Mrs. Winterbourne
1555: To Have, or Not
3420: ...And Justice for All
3768: Braddock: Missing in Action III
567: Kika
3824: Autumn in New York
1913: Picnic at Hanging Rock
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:42:24,951 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 33, 1, 3, 818, 122, 1722, 3701, 2367, 428, 1539, 1563, 447, 691, 1555, 3420, 3768, 567, 3824, 1913, 2609, 3756]
2025-05-09 22:42:24,951 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 33, 1, 3, 818, 122, 1722, 3701, 2367], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:42:24,951 - INFO - 样本 3 (Trial 2): NDCG@10 = 0.0000
2025-05-09 22:42:26,012 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近的观影记录，可以看出用户偏好动作片、剧情片和带有紧张刺激元素的电影（如《Mission to Mars》《Perfect Storm》《Gone in 60 Seconds》），同时也对现实题材和励志故事感兴趣（如《Erin Brockovich》《Remember the Titans》）。以下是重排后的电影ID列表，最可能观看的放在最前：

3107: Backdraft
1343: Cape Fear
1858: Mr. Nice Guy
373: Red Rock West
1236: Trust
1758: Dangerous Beauty
614: Loaded
2507: Breakfast of Champions
2997: Being John Malkovich
1053: Normal Life
3145: Cradle Will Rock, The
1537: Shall We Dance? (Shall We Dansu?)
3325: Next Best Thing, The
971: Cat on a Hot Tin Roof
3864: Godzilla 2000 (Gojira ni-sen mireniamu)
3672: Benji
3933: Killer Shrews, The
2566: Doug's 1st Movie
2049: Happiest Millionaire, The
1024: Three Caballeros, The
2025-05-09 22:42:26,012 - INFO - 模型输出解析 - 原始输出:
根据用户最近的观影记录，可以看出用户偏好动作片、剧情片和带有紧张刺激元素的电影（如《Mission to Mars》《Perfect Storm》《Gone in 60 Seconds》），同时也对现实题材和励志故事感兴趣（如《Erin Brockovich》《Remember the Titans》）。以下是重排后的电影ID列表，最可能观看的放在最前：

3107: Backdraft
1343: Cape Fear
1858: Mr. Nice Guy
373: Red Rock West
1236: Trust
1758: Dangerous Beauty
614: Loaded
2507: Breakfast of Champions
2997: Being John Malkovich
1053: Normal Life
3145: Cradle Will Rock, The
1537: Shall We Dance? (Shall We Dansu?)
3325: Next Best Thing, The
971: Cat on a Hot Tin Roof
3864: Godzilla 2000 (Gojira ni-sen mireniamu)
3672: Benji
3933: Killer Shrews, The
2566: Doug's 1st Movie
2049: Happiest Millionaire, The
1024: Three Caballeros, The
2025-05-09 22:42:26,012 - INFO - 模型输出解析 - 解析后电影ID列表: [60, 3107, 1343, 1858, 373, 1236, 1758, 614, 2507, 2997, 1053, 3145, 1537, 3325, 971, 3864, 2000, 3672, 3933, 2566, 1, 2049, 1024]
2025-05-09 22:42:26,012 - INFO - NDCG计算 - 预测列表前10项: [60, 3107, 1343, 1858, 373, 1236, 1758, 614, 2507, 2997], 真实目标: 1758, NDCG@10: 0.3333333333333333
2025-05-09 22:42:26,012 - INFO - 样本 8 (Trial 2): NDCG@10 = 0.3333
2025-05-09 22:42:26,012 - INFO - 开始第 3/10 次评估
2025-05-09 22:42:26,066 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:26,070 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:26,070 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:26,072 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:26,073 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:26,073 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:26,074 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:26,074 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:26,075 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:26,091 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:33,094 - INFO - DeepSeek API 异步请求 - 模型输出:
1858, 3107, 1343, 373, 614, 1236, 1758, 2507, 2997, 1537, 3325, 3145, 3933, 971, 3672, 3864, 1053, 1024, 2566, 2049
2025-05-09 22:42:33,094 - INFO - 模型输出解析 - 原始输出:
1858, 3107, 1343, 373, 614, 1236, 1758, 2507, 2997, 1537, 3325, 3145, 3933, 971, 3672, 3864, 1053, 1024, 2566, 2049
2025-05-09 22:42:33,094 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 3107, 1343, 373, 614, 1236, 1758, 2507, 2997, 1537, 3325, 3145, 3933, 971, 3672, 3864, 1053, 1024, 2566, 2049]
2025-05-09 22:42:33,094 - INFO - NDCG计算 - 预测列表前10项: [1858, 3107, 1343, 373, 614, 1236, 1758, 2507, 2997, 1537], 真实目标: 1758, NDCG@10: 0.3333333333333333
2025-05-09 22:42:33,094 - INFO - 样本 8 (Trial 3): NDCG@10 = 0.3333
2025-05-09 22:42:36,752 - INFO - DeepSeek API 异步请求 - 模型输出:
3948: Meet the Parents
516: Renaissance Man
3618: Small Time Crooks
1824: Homegrown
145: Bad Boys
2227: Lodger, The
2160: Rosemary's Baby
1671: Deceiver
1822: Meet the Deedles
2620: This Is My Father
3313: Class Reunion
1528: Intimate Relations
1317: I'm Not Rappaport
8: Tom and Huck
2869: Separation, The (La Séparation)
3882: Bring It On
2374: Gung Ho
2074: Night Porter, The (Il Portiere di notte)
863: Celestial Clockwork
2993: Thunderball
2025-05-09 22:42:36,752 - INFO - 模型输出解析 - 原始输出:
3948: Meet the Parents
516: Renaissance Man
3618: Small Time Crooks
1824: Homegrown
145: Bad Boys
2227: Lodger, The
2160: Rosemary's Baby
1671: Deceiver
1822: Meet the Deedles
2620: This Is My Father
3313: Class Reunion
1528: Intimate Relations
1317: I'm Not Rappaport
8: Tom and Huck
2869: Separation, The (La Séparation)
3882: Bring It On
2374: Gung Ho
2074: Night Porter, The (Il Portiere di notte)
863: Celestial Clockwork
2993: Thunderball
2025-05-09 22:42:36,752 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 3618, 1824, 145, 2227, 2160, 1671, 1822, 2620, 3313, 1528, 1317, 8, 2869, 3882, 2374, 2074, 863, 2993]
2025-05-09 22:42:36,752 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 3618, 1824, 145, 2227, 2160, 1671, 1822, 2620], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:42:36,752 - INFO - 样本 4 (Trial 3): NDCG@10 = 1.0000
2025-05-09 22:42:38,084 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（剧情片、文学改编、社会议题、浪漫元素），以下是重排后的电影ID列表：

3183: Third Miracle, The
534: Shadowlands
3449: Good Mother, The
280: Murder in the First
1187: Passion Fish
1458: Touch
3497: Max Dugan Returns
3801: Anatomy of a Murder
607: Century
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
1232: Stalker
537: Sirens
2644: Dracula
823: Collectionneuse, La
2261: One Crazy Summer
3247: Sister Act
1523: Truth or Consequences, N.M.
370: Naked Gun 33 1/3: The Final Insult
2791: Airplane!
3790: Groove
2025-05-09 22:42:38,084 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（剧情片、文学改编、社会议题、浪漫元素），以下是重排后的电影ID列表：

3183: Third Miracle, The
534: Shadowlands
3449: Good Mother, The
280: Murder in the First
1187: Passion Fish
1458: Touch
3497: Max Dugan Returns
3801: Anatomy of a Murder
607: Century
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
1232: Stalker
537: Sirens
2644: Dracula
823: Collectionneuse, La
2261: One Crazy Summer
3247: Sister Act
1523: Truth or Consequences, N.M.
370: Naked Gun 33 1/3: The Final Insult
2791: Airplane!
3790: Groove
2025-05-09 22:42:38,085 - INFO - 模型输出解析 - 解析后电影ID列表: [3183, 534, 3449, 280, 1187, 1458, 3497, 3801, 607, 3761, 1232, 537, 2644, 823, 2261, 3247, 1523, 370, 33, 1, 3, 2791, 3790]
2025-05-09 22:42:38,085 - INFO - NDCG计算 - 预测列表前10项: [3183, 534, 3449, 280, 1187, 1458, 3497, 3801, 607, 3761], 真实目标: 534, NDCG@10: 0.6309297535714575
2025-05-09 22:42:38,085 - INFO - 样本 5 (Trial 3): NDCG@10 = 0.6309
2025-05-09 22:42:38,406 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好喜剧、荒诞幽默、经典恶搞和轻松娱乐类型的电影。以下是重排后的推荐列表：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
1145: Snowriders
945: Top Hat
3768: Braddock: Missing in Action III
3667: Rent-A-Cop
3709: Sleepwalkers
3474: Retroactive
2438: Outside Ozona
1365: Ridicule
29: City of Lost Children, The
3822: Girl on the Bridge, The (La Fille sur le Pont)
194: Smoke
2858: American Beauty
2311: 2010
1263: Deer Hunter, The
1797: Everest
2022: Last Temptation of Christ, The
2705: Late August, Early September (Fin août, début septembre)
2025-05-09 22:42:38,406 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好喜剧、荒诞幽默、经典恶搞和轻松娱乐类型的电影。以下是重排后的推荐列表：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
1145: Snowriders
945: Top Hat
3768: Braddock: Missing in Action III
3667: Rent-A-Cop
3709: Sleepwalkers
3474: Retroactive
2438: Outside Ozona
1365: Ridicule
29: City of Lost Children, The
3822: Girl on the Bridge, The (La Fille sur le Pont)
194: Smoke
2858: American Beauty
2311: 2010
1263: Deer Hunter, The
1797: Everest
2022: Last Temptation of Christ, The
2705: Late August, Early September (Fin août, début septembre)
2025-05-09 22:42:38,406 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 1145, 945, 3768, 3667, 3709, 3474, 2438, 1365, 29, 3822, 194, 2858, 2311, 2010, 1263, 1797, 2022, 2705]
2025-05-09 22:42:38,406 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 1145, 945, 3768, 3667, 3709, 3474, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:42:38,406 - INFO - 样本 1 (Trial 3): NDCG@10 = 1.0000
2025-05-09 22:42:38,434 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户近期观看的电影列表，可以看出用户偏好科幻、动作冒险、经典续集以及带有超自然元素的电影。以下是重排后的推荐电影ID列表，最可能观看的放在最前面：

3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
3557: Jennifer 8
2562: Bandits
1541: Addicted to Love
515: Remains of the Day, The
2467: Name of the Rose, The
2482: Still Crazy
2703: Broken Vessels
1357: Shine
1257: Better Off Dead...
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 22:42:38,434 - INFO - 模型输出解析 - 原始输出:
根据用户近期观看的电影列表，可以看出用户偏好科幻、动作冒险、经典续集以及带有超自然元素的电影。以下是重排后的推荐电影ID列表，最可能观看的放在最前面：

3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
3557: Jennifer 8
2562: Bandits
1541: Addicted to Love
515: Remains of the Day, The
2467: Name of the Rose, The
2482: Still Crazy
2703: Broken Vessels
1357: Shine
1257: Better Off Dead...
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 22:42:38,434 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 3557, 8, 2562, 1541, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 22:42:38,434 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 3557, 8, 2562, 1541, 515, 2467], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:42:38,434 - INFO - 样本 2 (Trial 3): NDCG@10 = 0.6309
2025-05-09 22:42:38,740 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（科幻、动作、黑色幽默、心理惊悚、经典电影等），以下是重排后的电影ID列表，最可能观看的放最前：

1590: Event Horizon  
161: Crimson Tide  
1103: Rebel Without a Cause  
3258: Death Becomes Her  
2210: Sabotage  
3710: Action Jackson  
1965: Repo Man  
2318: Happiness  
1880: Lawn Dogs  
396: Fall Time  
2637: Mummy's Hand, The  
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The  
381: When a Man Loves a Woman  
2144: Sixteen Candles  
3723: Hamlet  
1251: 8 1/2  
2970: Fitzcarraldo  
876: Police Story 4: Project S (Chao ji ji hua)  
3413: Impact  
3245: I Am Cuba (Soy Cuba/Ya Kuba)
2025-05-09 22:42:38,740 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（科幻、动作、黑色幽默、心理惊悚、经典电影等），以下是重排后的电影ID列表，最可能观看的放最前：

1590: Event Horizon  
161: Crimson Tide  
1103: Rebel Without a Cause  
3258: Death Becomes Her  
2210: Sabotage  
3710: Action Jackson  
1965: Repo Man  
2318: Happiness  
1880: Lawn Dogs  
396: Fall Time  
2637: Mummy's Hand, The  
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The  
381: When a Man Loves a Woman  
2144: Sixteen Candles  
3723: Hamlet  
1251: 8 1/2  
2970: Fitzcarraldo  
876: Police Story 4: Project S (Chao ji ji hua)  
3413: Impact  
3245: I Am Cuba (Soy Cuba/Ya Kuba)
2025-05-09 22:42:38,740 - INFO - 模型输出解析 - 解析后电影ID列表: [1590, 161, 1103, 3258, 2210, 3710, 1965, 2318, 1880, 396, 2637, 3695, 381, 2144, 3723, 1251, 8, 1, 2, 2970, 876, 4, 3413, 3245]
2025-05-09 22:42:38,740 - INFO - NDCG计算 - 预测列表前10项: [1590, 161, 1103, 3258, 2210, 3710, 1965, 2318, 1880, 396], 真实目标: 1965, NDCG@10: 0.3333333333333333
2025-05-09 22:42:38,740 - INFO - 样本 9 (Trial 3): NDCG@10 = 0.3333
2025-05-09 22:42:38,832 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（动作冒险、惊悚、经典电影、奇幻题材），以下是重排后的电影ID列表，最可能观看的排在前面：

2571: Matrix, The
3623: Mission: Impossible 2
2867: Fright Night
2550: Haunting, The
1483: Crash
3176: Talented Mr. Ripley, The
3219: Pacific Heights
1965: Repo Man
3360: Hoosiers
249: Immortal Beloved
381: When a Man Loves a Woman
2154: How Stella Got Her Groove Back
1611: My Own Private Idaho
3878: X: The Unknown
2943: Indochine
730: Low Life, The
803: Walking and Talking
2129: Saltmen of Tibet, The
146: Amazing Panda Adventure, The
3590: Lords of Flatbush, The
2025-05-09 22:42:38,832 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（动作冒险、惊悚、经典电影、奇幻题材），以下是重排后的电影ID列表，最可能观看的排在前面：

2571: Matrix, The
3623: Mission: Impossible 2
2867: Fright Night
2550: Haunting, The
1483: Crash
3176: Talented Mr. Ripley, The
3219: Pacific Heights
1965: Repo Man
3360: Hoosiers
249: Immortal Beloved
381: When a Man Loves a Woman
2154: How Stella Got Her Groove Back
1611: My Own Private Idaho
3878: X: The Unknown
2943: Indochine
730: Low Life, The
803: Walking and Talking
2129: Saltmen of Tibet, The
146: Amazing Panda Adventure, The
3590: Lords of Flatbush, The
2025-05-09 22:42:38,832 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2, 2867, 2550, 1483, 3176, 3219, 1965, 3360, 249, 381, 2154, 1611, 3878, 2943, 730, 803, 2129, 146, 3590]
2025-05-09 22:42:38,833 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2, 2867, 2550, 1483, 3176, 3219, 1965, 3360], 真实目标: 3176, NDCG@10: 0.3333333333333333
2025-05-09 22:42:38,833 - INFO - 样本 7 (Trial 3): NDCG@10 = 0.3333
2025-05-09 22:42:38,855 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好剧情片、文艺片和有一定深度的电影，同时也有对经典改编作品的兴趣。以下是重排后的电影ID列表，最可能观看的放前面：

1695: Artemisia
1656: Swept from the Sea
1844: Live Flesh
3221: Draughtsman's Contract, The
41: Richard III
1829: Chinese Box
2813: Source, The
3516: Bell, Book and Candle
3497: Max Dugan Returns
2579: Following
3606: On the Town
2755: Light of Day
3858: Cecil B. Demented
3303: Black Tar Heroin: The Dark End of the Street
396: Fall Time
328: Tales From the Crypt Presents: Demon Knight
2123: All Dogs Go to Heaven
2720: Inspector Gadget
1731: Mr. Magoo
2795: Vacation
2025-05-09 22:42:38,855 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好剧情片、文艺片和有一定深度的电影，同时也有对经典改编作品的兴趣。以下是重排后的电影ID列表，最可能观看的放前面：

1695: Artemisia
1656: Swept from the Sea
1844: Live Flesh
3221: Draughtsman's Contract, The
41: Richard III
1829: Chinese Box
2813: Source, The
3516: Bell, Book and Candle
3497: Max Dugan Returns
2579: Following
3606: On the Town
2755: Light of Day
3858: Cecil B. Demented
3303: Black Tar Heroin: The Dark End of the Street
396: Fall Time
328: Tales From the Crypt Presents: Demon Knight
2123: All Dogs Go to Heaven
2720: Inspector Gadget
1731: Mr. Magoo
2795: Vacation
2025-05-09 22:42:38,855 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 3221, 41, 1829, 2813, 3516, 3497, 2579, 3606, 2755, 3858, 3303, 396, 328, 2123, 2720, 1731, 2795]
2025-05-09 22:42:38,855 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 3221, 41, 1829, 2813, 3516, 3497, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:42:38,855 - INFO - 样本 0 (Trial 3): NDCG@10 = 1.0000
2025-05-09 22:42:39,246 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近观看的电影列表，可以看出用户偏好独立电影、文艺片、带有社会议题或情感深度的剧情片，以及一些经典文学改编作品。基于这些特点，我将候选电影重新排序，将最符合用户口味的电影放在前面：

3251: Agnes of God
887: Talk of Angels
271: Losing Isaiah
372: Reality Bites
1259: Stand by Me
3626: 8 1/2 Women
1815: Eden
359: I Like It Like That
2249: My Blue Heaven
3859: Eyes of Tammy Faye, The
2960: Beefcake
3378: Ogre, The (Der Unhold)
3312: McCullochs, The
185: Net, The
3614: Honeymoon in Vegas
2137: Charlotte's Web
2409: Rocky II
2452: Gate II: Trespassers, The
1375: Star Trek III: The Search for Spock
758: Jar, The (Khomreh)
2025-05-09 22:42:39,246 - INFO - 模型输出解析 - 原始输出:
根据用户最近观看的电影列表，可以看出用户偏好独立电影、文艺片、带有社会议题或情感深度的剧情片，以及一些经典文学改编作品。基于这些特点，我将候选电影重新排序，将最符合用户口味的电影放在前面：

3251: Agnes of God
887: Talk of Angels
271: Losing Isaiah
372: Reality Bites
1259: Stand by Me
3626: 8 1/2 Women
1815: Eden
359: I Like It Like That
2249: My Blue Heaven
3859: Eyes of Tammy Faye, The
2960: Beefcake
3378: Ogre, The (Der Unhold)
3312: McCullochs, The
185: Net, The
3614: Honeymoon in Vegas
2137: Charlotte's Web
2409: Rocky II
2452: Gate II: Trespassers, The
1375: Star Trek III: The Search for Spock
758: Jar, The (Khomreh)
2025-05-09 22:42:39,246 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 1259, 3626, 8, 1, 2, 1815, 359, 2249, 3859, 2960, 3378, 3312, 185, 3614, 2137, 2409, 2452, 1375, 758]
2025-05-09 22:42:39,247 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 1259, 3626, 8, 1, 2, 1815], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:42:39,247 - INFO - 样本 6 (Trial 3): NDCG@10 = 0.4307
2025-05-09 22:42:40,220 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色喜剧（American Psycho）、惊悚片（Final Destination）、轻松喜剧（Meet the Parents, Big Momma's House）以及一些cult电影（Showgirls, Supernova）。以下是重排后的推荐列表，最可能观看的放在前面：

21: Get Shorty
370: Naked Gun 33 1/3: The Final Insult
818: Very Brady Sequel, A
122: Boomerang
428: Bronx Tale, A
1722: Tomorrow Never Dies
3768: Braddock: Missing in Action III
3701: Alien Nation
2367: King Kong
1539: Twin Town
447: Favor, The
1563: Dream With the Fishes
1555: To Have, or Not
3420: ...And Justice for All
691: Mrs. Winterbourne
567: Kika
3824: Autumn in New York
1913: Picnic at Hanging Rock
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:42:40,220 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色喜剧（American Psycho）、惊悚片（Final Destination）、轻松喜剧（Meet the Parents, Big Momma's House）以及一些cult电影（Showgirls, Supernova）。以下是重排后的推荐列表，最可能观看的放在前面：

21: Get Shorty
370: Naked Gun 33 1/3: The Final Insult
818: Very Brady Sequel, A
122: Boomerang
428: Bronx Tale, A
1722: Tomorrow Never Dies
3768: Braddock: Missing in Action III
3701: Alien Nation
2367: King Kong
1539: Twin Town
447: Favor, The
1563: Dream With the Fishes
1555: To Have, or Not
3420: ...And Justice for All
691: Mrs. Winterbourne
567: Kika
3824: Autumn in New York
1913: Picnic at Hanging Rock
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:42:40,220 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 33, 1, 3, 818, 122, 428, 1722, 3768, 3701, 2367, 1539, 447, 1563, 1555, 3420, 691, 567, 3824, 1913, 2609, 3756]
2025-05-09 22:42:40,220 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 33, 1, 3, 818, 122, 428, 1722, 3768], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:42:40,220 - INFO - 样本 3 (Trial 3): NDCG@10 = 0.0000
2025-05-09 22:42:40,220 - INFO - 开始第 4/10 次评估
2025-05-09 22:42:40,274 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:40,284 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:40,284 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:40,284 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:40,284 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:40,285 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:40,285 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:40,285 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:40,286 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:40,346 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:42:51,796 - INFO - DeepSeek API 异步请求 - 模型输出:
3948: Meet the Parents
516: Renaissance Man
3618: Small Time Crooks
145: Bad Boys
1824: Homegrown
2227: Lodger, The
2160: Rosemary's Baby
1671: Deceiver
2620: This Is My Father
1528: Intimate Relations
3313: Class Reunion
8: Tom and Huck
2869: Separation, The (La Séparation)
3882: Bring It On
1317: I'm Not Rappaport
2374: Gung Ho
863: Celestial Clockwork
2993: Thunderball
2074: Night Porter, The (Il Portiere di notte)
1822: Meet the Deedles
2025-05-09 22:42:51,796 - INFO - 模型输出解析 - 原始输出:
3948: Meet the Parents
516: Renaissance Man
3618: Small Time Crooks
145: Bad Boys
1824: Homegrown
2227: Lodger, The
2160: Rosemary's Baby
1671: Deceiver
2620: This Is My Father
1528: Intimate Relations
3313: Class Reunion
8: Tom and Huck
2869: Separation, The (La Séparation)
3882: Bring It On
1317: I'm Not Rappaport
2374: Gung Ho
863: Celestial Clockwork
2993: Thunderball
2074: Night Porter, The (Il Portiere di notte)
1822: Meet the Deedles
2025-05-09 22:42:51,796 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 3618, 145, 1824, 2227, 2160, 1671, 2620, 1528, 3313, 8, 2869, 3882, 1317, 2374, 863, 2993, 2074, 1822]
2025-05-09 22:42:51,796 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 3618, 145, 1824, 2227, 2160, 1671, 2620, 1528], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:42:51,796 - INFO - 样本 4 (Trial 4): NDCG@10 = 1.0000
2025-05-09 22:42:51,936 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好喜剧、荒诞幽默和经典喜剧片。以下是重排后的电影ID列表，最可能观看的放最前：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
945: Top Hat
1145: Snowriders
3768: Braddock: Missing in Action III
3667: Rent-A-Cop
3709: Sleepwalkers
3474: Retroactive
2438: Outside Ozona
1365: Ridicule
29: City of Lost Children, The
3822: Girl on the Bridge, The (La Fille sur le Pont)
194: Smoke
2858: American Beauty
2705: Late August, Early September (Fin août, début septembre)
1263: Deer Hunter, The
2311: 2010
1797: Everest
2022: Last Temptation of Christ, The
2025-05-09 22:42:51,936 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好喜剧、荒诞幽默和经典喜剧片。以下是重排后的电影ID列表，最可能观看的放最前：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
945: Top Hat
1145: Snowriders
3768: Braddock: Missing in Action III
3667: Rent-A-Cop
3709: Sleepwalkers
3474: Retroactive
2438: Outside Ozona
1365: Ridicule
29: City of Lost Children, The
3822: Girl on the Bridge, The (La Fille sur le Pont)
194: Smoke
2858: American Beauty
2705: Late August, Early September (Fin août, début septembre)
1263: Deer Hunter, The
2311: 2010
1797: Everest
2022: Last Temptation of Christ, The
2025-05-09 22:42:51,936 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438, 1365, 29, 3822, 194, 2858, 2705, 1263, 2311, 2010, 1797, 2022]
2025-05-09 22:42:51,936 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:42:51,936 - INFO - 样本 1 (Trial 4): NDCG@10 = 1.0000
2025-05-09 22:42:53,792 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（动作冒险、惊悚、经典电影、奇幻元素），以下是重排后的电影ID列表，最可能观看的排在最前：

2571: Matrix, The  
3623: Mission: Impossible 2  
2867: Fright Night  
2550: Haunting, The  
3878: X: The Unknown  
1483: Crash  
3219: Pacific Heights  
3176: Talented Mr. Ripley, The  
1965: Repo Man  
1611: My Own Private Idaho  
249: Immortal Beloved  
3360: Hoosiers  
381: When a Man Loves a Woman  
2154: How Stella Got Her Groove Back  
2943: Indochine  
730: Low Life, The  
803: Walking and Talking  
3590: Lords of Flatbush, The  
2129: Saltmen of Tibet, The  
146: Amazing Panda Adventure, The
2025-05-09 22:42:53,793 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（动作冒险、惊悚、经典电影、奇幻元素），以下是重排后的电影ID列表，最可能观看的排在最前：

2571: Matrix, The  
3623: Mission: Impossible 2  
2867: Fright Night  
2550: Haunting, The  
3878: X: The Unknown  
1483: Crash  
3219: Pacific Heights  
3176: Talented Mr. Ripley, The  
1965: Repo Man  
1611: My Own Private Idaho  
249: Immortal Beloved  
3360: Hoosiers  
381: When a Man Loves a Woman  
2154: How Stella Got Her Groove Back  
2943: Indochine  
730: Low Life, The  
803: Walking and Talking  
3590: Lords of Flatbush, The  
2129: Saltmen of Tibet, The  
146: Amazing Panda Adventure, The
2025-05-09 22:42:53,793 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2, 2867, 2550, 3878, 1483, 3219, 3176, 1965, 1611, 249, 3360, 381, 2154, 2943, 730, 803, 3590, 2129, 146]
2025-05-09 22:42:53,793 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2, 2867, 2550, 3878, 1483, 3219, 3176, 1965], 真实目标: 3176, NDCG@10: 0.3010299956639812
2025-05-09 22:42:53,793 - INFO - 样本 7 (Trial 4): NDCG@10 = 0.3010
2025-05-09 22:42:53,885 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（剧情片、情感深度、文学改编、社会议题），以下是重排后的电影ID列表，最可能观看的放最前：

534: Shadowlands
3449: Good Mother, The
3183: Third Miracle, The
280: Murder in the First
1187: Passion Fish
1458: Touch
3497: Max Dugan Returns
3801: Anatomy of a Murder
607: Century
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
1232: Stalker
2644: Dracula
537: Sirens
823: Collectionneuse, La
2261: One Crazy Summer
3247: Sister Act
2791: Airplane!
370: Naked Gun 33 1/3: The Final Insult
1523: Truth or Consequences, N.M.
3790: Groove
2025-05-09 22:42:53,885 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（剧情片、情感深度、文学改编、社会议题），以下是重排后的电影ID列表，最可能观看的放最前：

534: Shadowlands
3449: Good Mother, The
3183: Third Miracle, The
280: Murder in the First
1187: Passion Fish
1458: Touch
3497: Max Dugan Returns
3801: Anatomy of a Murder
607: Century
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
1232: Stalker
2644: Dracula
537: Sirens
823: Collectionneuse, La
2261: One Crazy Summer
3247: Sister Act
2791: Airplane!
370: Naked Gun 33 1/3: The Final Insult
1523: Truth or Consequences, N.M.
3790: Groove
2025-05-09 22:42:53,887 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 1458, 3497, 3801, 607, 3761, 1232, 2644, 537, 823, 2261, 3247, 2791, 370, 33, 1, 3, 1523, 3790]
2025-05-09 22:42:53,887 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 1458, 3497, 3801, 607, 3761], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:42:53,887 - INFO - 样本 5 (Trial 4): NDCG@10 = 1.0000
2025-05-09 22:42:54,604 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中的电影类型和风格偏好（独立电影、文艺片、成长故事、社会议题、女性视角等），以下是重排后的候选电影ID列表，最可能观看的放最前：

3251: Agnes of God  
887: Talk of Angels  
271: Losing Isaiah  
372: Reality Bites  
1815: Eden  
359: I Like It Like That  
3626: 8 1/2 Women  
2249: My Blue Heaven  
1259: Stand by Me  
3859: Eyes of Tammy Faye, The  
2960: Beefcake  
3378: Ogre, The (Der Unhold)  
3312: McCullochs, The  
185: Net, The  
3614: Honeymoon in Vegas  
2452: Gate II: Trespassers, The  
1375: Star Trek III: The Search for Spock  
2409: Rocky II  
2137: Charlotte's Web  
758: Jar, The (Khomreh)
2025-05-09 22:42:54,604 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中的电影类型和风格偏好（独立电影、文艺片、成长故事、社会议题、女性视角等），以下是重排后的候选电影ID列表，最可能观看的放最前：

3251: Agnes of God  
887: Talk of Angels  
271: Losing Isaiah  
372: Reality Bites  
1815: Eden  
359: I Like It Like That  
3626: 8 1/2 Women  
2249: My Blue Heaven  
1259: Stand by Me  
3859: Eyes of Tammy Faye, The  
2960: Beefcake  
3378: Ogre, The (Der Unhold)  
3312: McCullochs, The  
185: Net, The  
3614: Honeymoon in Vegas  
2452: Gate II: Trespassers, The  
1375: Star Trek III: The Search for Spock  
2409: Rocky II  
2137: Charlotte's Web  
758: Jar, The (Khomreh)
2025-05-09 22:42:54,604 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 1815, 359, 3626, 8, 1, 2, 2249, 1259, 3859, 2960, 3378, 3312, 185, 3614, 2452, 1375, 2409, 2137, 758]
2025-05-09 22:42:54,604 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 1815, 359, 3626, 8, 1, 2], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:42:54,604 - INFO - 样本 6 (Trial 4): NDCG@10 = 0.4307
2025-05-09 22:42:54,641 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近的观影记录，可以看出用户偏好动作片、犯罪剧情片和带有紧张刺激元素的电影（如《Mission to Mars》《Boiler Room》《Gone in 60 Seconds》《Shaft》《Romeo Must Die》等）。以下是按用户兴趣可能性从高到低排序的电影ID列表：

1858, 3107, 1343, 373, 1236, 614, 1758, 2507, 2997, 3145, 1537, 3325, 3933, 971, 3864, 3672, 1024, 2049, 2566, 1053

排序理由：
1. 动作/犯罪类优先（1858《Mr. Nice Guy》、3107《Backdraft》）
2. 紧张剧情片次之（1343《Cape Fear》、373《Red Rock West》）
3. 带有社会议题的剧情片（1236《Trust》、1758《Dangerous Beauty》）
4. 其他类型按相关性递减排列
5. 动画/音乐/家庭类排在最后（1024、2049等）
2025-05-09 22:42:54,641 - INFO - 模型输出解析 - 原始输出:
根据用户最近的观影记录，可以看出用户偏好动作片、犯罪剧情片和带有紧张刺激元素的电影（如《Mission to Mars》《Boiler Room》《Gone in 60 Seconds》《Shaft》《Romeo Must Die》等）。以下是按用户兴趣可能性从高到低排序的电影ID列表：

1858, 3107, 1343, 373, 1236, 614, 1758, 2507, 2997, 3145, 1537, 3325, 3933, 971, 3864, 3672, 1024, 2049, 2566, 1053

排序理由：
1. 动作/犯罪类优先（1858《Mr. Nice Guy》、3107《Backdraft》）
2. 紧张剧情片次之（1343《Cape Fear》、373《Red Rock West》）
3. 带有社会议题的剧情片（1236《Trust》、1758《Dangerous Beauty》）
4. 其他类型按相关性递减排列
5. 动画/音乐/家庭类排在最后（1024、2049等）
2025-05-09 22:42:54,641 - INFO - 模型输出解析 - 解析后电影ID列表: [60, 1858, 3107, 1343, 373, 1236, 614, 1758, 2507, 2997, 3145, 1537, 3325, 3933, 971, 3864, 3672, 1024, 2049, 2566, 1053, 1, 1858, 3107, 2, 1343, 373, 3, 1236, 1758, 4, 5, 1024, 2049]
2025-05-09 22:42:54,641 - INFO - NDCG计算 - 预测列表前10项: [60, 1858, 3107, 1343, 373, 1236, 614, 1758, 2507, 2997], 真实目标: 1758, NDCG@10: 0.31546487678572877
2025-05-09 22:42:54,641 - INFO - 样本 8 (Trial 4): NDCG@10 = 0.3155
2025-05-09 22:42:55,893 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出他们偏好剧情丰富、有深度、带有艺术性或文学改编的电影（如《绿里奇迹》《离开拉斯维加斯》《邮差》），同时也包含一些经典或轻喜剧元素（如《钱坑》《无语问苍天》）。以下是重排后的电影ID列表，最可能观看的优先：

1695: Artemisia  
1656: Swept from the Sea  
1844: Live Flesh  
3221: Draughtsman's Contract, The  
41: Richard III  
1829: Chinese Box  
2813: Source, The  
3516: Bell, Book and Candle  
3497: Max Dugan Returns  
2579: Following  
2755: Light of Day  
3606: On the Town  
3858: Cecil B. Demented  
3303: Black Tar Heroin: The Dark End of the Street  
396: Fall Time  
328: Tales From the Crypt Presents: Demon Knight  
2123: All Dogs Go to Heaven  
2720: Inspector Gadget  
1731: Mr. Magoo  
2795: Vacation
2025-05-09 22:42:55,894 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出他们偏好剧情丰富、有深度、带有艺术性或文学改编的电影（如《绿里奇迹》《离开拉斯维加斯》《邮差》），同时也包含一些经典或轻喜剧元素（如《钱坑》《无语问苍天》）。以下是重排后的电影ID列表，最可能观看的优先：

1695: Artemisia  
1656: Swept from the Sea  
1844: Live Flesh  
3221: Draughtsman's Contract, The  
41: Richard III  
1829: Chinese Box  
2813: Source, The  
3516: Bell, Book and Candle  
3497: Max Dugan Returns  
2579: Following  
2755: Light of Day  
3606: On the Town  
3858: Cecil B. Demented  
3303: Black Tar Heroin: The Dark End of the Street  
396: Fall Time  
328: Tales From the Crypt Presents: Demon Knight  
2123: All Dogs Go to Heaven  
2720: Inspector Gadget  
1731: Mr. Magoo  
2795: Vacation
2025-05-09 22:42:55,894 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 3221, 41, 1829, 2813, 3516, 3497, 2579, 2755, 3606, 3858, 3303, 396, 328, 2123, 2720, 1731, 2795]
2025-05-09 22:42:55,894 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 3221, 41, 1829, 2813, 3516, 3497, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:42:55,894 - INFO - 样本 0 (Trial 4): NDCG@10 = 1.0000
2025-05-09 22:42:55,981 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色幽默/犯罪（American Psycho）、惊悚/恐怖（Final Destination）、喜剧（Meet the Parents, Big Momma's House）以及一些cult经典（Showgirls）。以下是重排后的推荐列表，最可能观看的在前：

21: Get Shorty
370: Naked Gun 33 1/3: The Final Insult
122: Boomerang
1722: Tomorrow Never Dies
3768: Braddock: Missing in Action III
2367: King Kong
3701: Alien Nation
428: Bronx Tale, A
1563: Dream With the Fishes
1539: Twin Town
818: Very Brady Sequel, A
447: Favor, The
691: Mrs. Winterbourne
1555: To Have, or Not
3420: ...And Justice for All
567: Kika
3824: Autumn in New York
1913: Picnic at Hanging Rock
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:42:55,981 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色幽默/犯罪（American Psycho）、惊悚/恐怖（Final Destination）、喜剧（Meet the Parents, Big Momma's House）以及一些cult经典（Showgirls）。以下是重排后的推荐列表，最可能观看的在前：

21: Get Shorty
370: Naked Gun 33 1/3: The Final Insult
122: Boomerang
1722: Tomorrow Never Dies
3768: Braddock: Missing in Action III
2367: King Kong
3701: Alien Nation
428: Bronx Tale, A
1563: Dream With the Fishes
1539: Twin Town
818: Very Brady Sequel, A
447: Favor, The
691: Mrs. Winterbourne
1555: To Have, or Not
3420: ...And Justice for All
567: Kika
3824: Autumn in New York
1913: Picnic at Hanging Rock
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:42:55,981 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 33, 1, 3, 122, 1722, 3768, 2367, 3701, 428, 1563, 1539, 818, 447, 691, 1555, 3420, 567, 3824, 1913, 2609, 3756]
2025-05-09 22:42:55,981 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 33, 1, 3, 122, 1722, 3768, 2367, 3701], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:42:55,981 - INFO - 样本 3 (Trial 4): NDCG@10 = 0.0000
2025-05-09 22:43:02,446 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（科幻、动作、黑色幽默、心理惊悚、经典电影等），以下是重排后的电影ID列表：

3258: Death Becomes Her (黑色幽默/奇幻 - 类似Edward Scissorhands和Rosemary's Baby)
1590: Event Horizon (科幻/恐怖 - 类似Terminator和28 Days)
161: Crimson Tide (动作/惊悚 - 类似Terminator和From Russia with Love)
1103: Rebel Without a Cause (经典电影 - 类似High Fidelity的怀旧元素)
1965: Repo Man (cult经典/黑色幽默 - 类似Boogie Nights和Big Kahuna)
2318: Happiness (黑色幽默/心理剧 - 类似After Life和Boogie Nights)
2970: Fitzcarraldo (艺术电影 - 类似After Life的深度主题)
1251: 8 1/2 (艺术电影 - 类似After Life)
3723: Hamlet (经典文学改编 - 类似Braveheart的历史/文学元素)
2144: Sixteen Candles (青春喜剧 - 类似High Fidelity中的音乐/关系主题)
1880: Lawn Dogs (心理剧情 - 类似Edward Scissorhands)
396: Fall Time (犯罪惊悚 - 类似From Russia with Love)
2210: Sabotage (动作/惊悚 - 类似Terminator)
2637: Mummy's Hand, The (经典恐怖 - 类似Rosemary's Baby)
3710: Action Jackson (动作喜剧 - 类似Terminator的施瓦辛格元素)
3695: Toxic Avenger Part III (cult喜剧 - 类似Boogie Nights的另类风格)
876: Police Story 4 (动作 - 类似Terminator)
3245: I Am Cuba (艺术电影 - 类似After Life)
381: When a Man Loves a Woman (剧情 - 相对用户历史较不匹配)
3413: Impact (相对用户历史较不匹配)
2025-05-09 22:43:02,446 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（科幻、动作、黑色幽默、心理惊悚、经典电影等），以下是重排后的电影ID列表：

3258: Death Becomes Her (黑色幽默/奇幻 - 类似Edward Scissorhands和Rosemary's Baby)
1590: Event Horizon (科幻/恐怖 - 类似Terminator和28 Days)
161: Crimson Tide (动作/惊悚 - 类似Terminator和From Russia with Love)
1103: Rebel Without a Cause (经典电影 - 类似High Fidelity的怀旧元素)
1965: Repo Man (cult经典/黑色幽默 - 类似Boogie Nights和Big Kahuna)
2318: Happiness (黑色幽默/心理剧 - 类似After Life和Boogie Nights)
2970: Fitzcarraldo (艺术电影 - 类似After Life的深度主题)
1251: 8 1/2 (艺术电影 - 类似After Life)
3723: Hamlet (经典文学改编 - 类似Braveheart的历史/文学元素)
2144: Sixteen Candles (青春喜剧 - 类似High Fidelity中的音乐/关系主题)
1880: Lawn Dogs (心理剧情 - 类似Edward Scissorhands)
396: Fall Time (犯罪惊悚 - 类似From Russia with Love)
2210: Sabotage (动作/惊悚 - 类似Terminator)
2637: Mummy's Hand, The (经典恐怖 - 类似Rosemary's Baby)
3710: Action Jackson (动作喜剧 - 类似Terminator的施瓦辛格元素)
3695: Toxic Avenger Part III (cult喜剧 - 类似Boogie Nights的另类风格)
876: Police Story 4 (动作 - 类似Terminator)
3245: I Am Cuba (艺术电影 - 类似After Life)
381: When a Man Loves a Woman (剧情 - 相对用户历史较不匹配)
3413: Impact (相对用户历史较不匹配)
2025-05-09 22:43:02,446 - INFO - 模型输出解析 - 解析后电影ID列表: [3258, 1590, 28, 161, 1103, 1965, 2318, 2970, 1251, 8, 1, 2, 3723, 2144, 1880, 396, 2210, 2637, 3710, 3695, 876, 4, 3245, 381, 3413]
2025-05-09 22:43:02,446 - INFO - NDCG计算 - 预测列表前10项: [3258, 1590, 28, 161, 1103, 1965, 2318, 2970, 1251, 8], 真实目标: 1965, NDCG@10: 0.3562071871080222
2025-05-09 22:43:02,446 - INFO - 样本 9 (Trial 4): NDCG@10 = 0.3562
2025-05-09 22:43:07,986 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户近期观看的科幻、动作冒险和经典续集类电影（如《Stargate》《Tron》《Independence Day》《Star Trek》等），结合候选列表中相似题材和风格的影片，推荐排序如下：

1. 2011: Back to the Future Part II（经典科幻续集，与用户观看的《Superman II》《Mad Max》系列调性一致）
2. 3699: Starman（80年代经典科幻，与《Stargate》《Superman》同属外星题材）
3. 2532: Conquest of the Planet of the Apes（科幻系列电影，类似用户喜欢的《Star Trek》系列）
4. 555: True Romance（科幻元素+动作，类似《Strange Days》的赛博朋克风格）
5. 576: Fausto（奇幻题材，接近《Stargate》的神秘主义元素）
6. 515: Remains of the Day, The（虽然偏文艺，但主演与《Superman II》相同）
7. 1541: Addicted to Love（90年代浪漫喜剧，类似《Still Crazy》年代感）
8. 2482: Still Crazy（音乐题材喜剧，风格转变调剂）
9. 2562: Bandits（动作喜剧，类似《Mad Max》的狂野感）
10. 3557: Jennifer 8（悬疑惊悚，接近《Body Snatchers》类型）
11. 1257: Better Off Dead...（80年代青春喜剧）
12. 2467: Name of the Rose, The（中世纪悬疑）
13. 2703: Broken Vessels（独立电影）
14. 1357: Shine（传记片）
15. 1102: American Strays（犯罪片）
16. 1420: Message to Love: The Isle of Wight Festival（音乐纪录片）
17. 421: Black Beauty（家庭电影）
18. 310: Rent-a-Kid（家庭喜剧）
19. 1174: Grosse Fatigue（法国喜剧）
20. 3739: Trouble in Paradise（经典老片）
2025-05-09 22:43:07,986 - INFO - 模型输出解析 - 原始输出:
根据用户近期观看的科幻、动作冒险和经典续集类电影（如《Stargate》《Tron》《Independence Day》《Star Trek》等），结合候选列表中相似题材和风格的影片，推荐排序如下：

1. 2011: Back to the Future Part II（经典科幻续集，与用户观看的《Superman II》《Mad Max》系列调性一致）
2. 3699: Starman（80年代经典科幻，与《Stargate》《Superman》同属外星题材）
3. 2532: Conquest of the Planet of the Apes（科幻系列电影，类似用户喜欢的《Star Trek》系列）
4. 555: True Romance（科幻元素+动作，类似《Strange Days》的赛博朋克风格）
5. 576: Fausto（奇幻题材，接近《Stargate》的神秘主义元素）
6. 515: Remains of the Day, The（虽然偏文艺，但主演与《Superman II》相同）
7. 1541: Addicted to Love（90年代浪漫喜剧，类似《Still Crazy》年代感）
8. 2482: Still Crazy（音乐题材喜剧，风格转变调剂）
9. 2562: Bandits（动作喜剧，类似《Mad Max》的狂野感）
10. 3557: Jennifer 8（悬疑惊悚，接近《Body Snatchers》类型）
11. 1257: Better Off Dead...（80年代青春喜剧）
12. 2467: Name of the Rose, The（中世纪悬疑）
13. 2703: Broken Vessels（独立电影）
14. 1357: Shine（传记片）
15. 1102: American Strays（犯罪片）
16. 1420: Message to Love: The Isle of Wight Festival（音乐纪录片）
17. 421: Black Beauty（家庭电影）
18. 310: Rent-a-Kid（家庭喜剧）
19. 1174: Grosse Fatigue（法国喜剧）
20. 3739: Trouble in Paradise（经典老片）
2025-05-09 22:43:07,987 - INFO - 模型输出解析 - 解析后电影ID列表: [1, 2011, 2, 3699, 80, 3, 2532, 4, 555, 5, 576, 6, 515, 7, 1541, 90, 8, 2482, 9, 2562, 10, 3557, 8, 11, 1257, 80, 12, 2467, 13, 2703, 14, 1357, 15, 1102, 16, 1420, 17, 421, 18, 310, 19, 1174, 20, 3739]
2025-05-09 22:43:07,987 - INFO - NDCG计算 - 预测列表前10项: [1, 2011, 2, 3699, 80, 3, 2532, 4, 555, 5], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:43:07,987 - INFO - 样本 2 (Trial 4): NDCG@10 = 0.6309
2025-05-09 22:43:07,987 - INFO - 开始第 5/10 次评估
2025-05-09 22:43:08,041 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:08,107 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:08,109 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:08,112 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:08,120 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:08,121 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:08,122 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:08,125 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:08,140 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:08,143 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:14,930 - INFO - DeepSeek API 异步请求 - 模型输出:
1858, 3107, 1343, 373, 614, 1236, 1758, 1537, 1053, 2997, 3145, 2507, 3325, 3933, 3864, 971, 3672, 2566, 1024, 2049
2025-05-09 22:43:14,930 - INFO - 模型输出解析 - 原始输出:
1858, 3107, 1343, 373, 614, 1236, 1758, 1537, 1053, 2997, 3145, 2507, 3325, 3933, 3864, 971, 3672, 2566, 1024, 2049
2025-05-09 22:43:14,930 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 3107, 1343, 373, 614, 1236, 1758, 1537, 1053, 2997, 3145, 2507, 3325, 3933, 3864, 971, 3672, 2566, 1024, 2049]
2025-05-09 22:43:14,930 - INFO - NDCG计算 - 预测列表前10项: [1858, 3107, 1343, 373, 614, 1236, 1758, 1537, 1053, 2997], 真实目标: 1758, NDCG@10: 0.3333333333333333
2025-05-09 22:43:14,930 - INFO - 样本 8 (Trial 5): NDCG@10 = 0.3333
2025-05-09 22:43:18,697 - INFO - DeepSeek API 异步请求 - 模型输出:
3948: Meet the Parents
516: Renaissance Man
145: Bad Boys
8: Tom and Huck
3618: Small Time Crooks
1824: Homegrown
2227: Lodger, The
2160: Rosemary's Baby
1671: Deceiver
1528: Intimate Relations
3313: Class Reunion
2869: Separation, The (La Séparation)
2620: This Is My Father
1317: I'm Not Rappaport
2374: Gung Ho
3882: Bring It On
863: Celestial Clockwork
2993: Thunderball
2074: Night Porter, The (Il Portiere di notte)
1822: Meet the Deedles
2025-05-09 22:43:18,697 - INFO - 模型输出解析 - 原始输出:
3948: Meet the Parents
516: Renaissance Man
145: Bad Boys
8: Tom and Huck
3618: Small Time Crooks
1824: Homegrown
2227: Lodger, The
2160: Rosemary's Baby
1671: Deceiver
1528: Intimate Relations
3313: Class Reunion
2869: Separation, The (La Séparation)
2620: This Is My Father
1317: I'm Not Rappaport
2374: Gung Ho
3882: Bring It On
863: Celestial Clockwork
2993: Thunderball
2074: Night Porter, The (Il Portiere di notte)
1822: Meet the Deedles
2025-05-09 22:43:18,697 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 145, 8, 3618, 1824, 2227, 2160, 1671, 1528, 3313, 2869, 2620, 1317, 2374, 3882, 863, 2993, 2074, 1822]
2025-05-09 22:43:18,697 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 145, 8, 3618, 1824, 2227, 2160, 1671, 1528], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:43:18,698 - INFO - 样本 4 (Trial 5): NDCG@10 = 1.0000
2025-05-09 22:43:19,943 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好喜剧、荒诞幽默、经典喜剧和轻松娱乐的电影。以下是重排后的候选电影列表，最可能观看的放在最前面：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
945: Top Hat
1145: Snowriders
3768: Braddock: Missing in Action III
3667: Rent-A-Cop
3709: Sleepwalkers
3474: Retroactive
2438: Outside Ozona
1365: Ridicule
29: City of Lost Children, The
3822: Girl on the Bridge, The (La Fille sur le Pont)
194: Smoke
2858: American Beauty
2311: 2010
1263: Deer Hunter, The
1797: Everest
2022: Last Temptation of Christ, The
2705: Late August, Early September (Fin août, début septembre)
2025-05-09 22:43:19,944 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好喜剧、荒诞幽默、经典喜剧和轻松娱乐的电影。以下是重排后的候选电影列表，最可能观看的放在最前面：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
945: Top Hat
1145: Snowriders
3768: Braddock: Missing in Action III
3667: Rent-A-Cop
3709: Sleepwalkers
3474: Retroactive
2438: Outside Ozona
1365: Ridicule
29: City of Lost Children, The
3822: Girl on the Bridge, The (La Fille sur le Pont)
194: Smoke
2858: American Beauty
2311: 2010
1263: Deer Hunter, The
1797: Everest
2022: Last Temptation of Christ, The
2705: Late August, Early September (Fin août, début septembre)
2025-05-09 22:43:19,944 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438, 1365, 29, 3822, 194, 2858, 2311, 2010, 1263, 1797, 2022, 2705]
2025-05-09 22:43:19,944 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:43:19,944 - INFO - 样本 1 (Trial 5): NDCG@10 = 1.0000
2025-05-09 22:43:20,249 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近观看的电影列表，可以看出用户偏好剧情片、情感深刻的电影以及文学改编作品。以下是重排后的电影ID列表，最可能观看的放最前：

534: Shadowlands
3449: Good Mother, The
3183: Third Miracle, The
280: Murder in the First
1187: Passion Fish
1458: Touch
3497: Max Dugan Returns
3801: Anatomy of a Murder
607: Century
1232: Stalker
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
2644: Dracula
537: Sirens
823: Collectionneuse, La
2261: One Crazy Summer
1523: Truth or Consequences, N.M.
3247: Sister Act
370: Naked Gun 33 1/3: The Final Insult
2791: Airplane!
3790: Groove
2025-05-09 22:43:20,249 - INFO - 模型输出解析 - 原始输出:
根据用户最近观看的电影列表，可以看出用户偏好剧情片、情感深刻的电影以及文学改编作品。以下是重排后的电影ID列表，最可能观看的放最前：

534: Shadowlands
3449: Good Mother, The
3183: Third Miracle, The
280: Murder in the First
1187: Passion Fish
1458: Touch
3497: Max Dugan Returns
3801: Anatomy of a Murder
607: Century
1232: Stalker
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
2644: Dracula
537: Sirens
823: Collectionneuse, La
2261: One Crazy Summer
1523: Truth or Consequences, N.M.
3247: Sister Act
370: Naked Gun 33 1/3: The Final Insult
2791: Airplane!
3790: Groove
2025-05-09 22:43:20,249 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 1458, 3497, 3801, 607, 1232, 3761, 2644, 537, 823, 2261, 1523, 3247, 370, 33, 1, 3, 2791, 3790]
2025-05-09 22:43:20,249 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 1458, 3497, 3801, 607, 1232], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:43:20,249 - INFO - 样本 5 (Trial 5): NDCG@10 = 1.0000
2025-05-09 22:43:20,943 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户近期观看的科幻、动作冒险和经典续集类电影偏好，以下是重排后的电影ID列表，最可能观看的放在最前：

3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
515: Remains of the Day, The
1541: Addicted to Love
2562: Bandits
3557: Jennifer 8
2467: Name of the Rose, The
1257: Better Off Dead...
2482: Still Crazy
2703: Broken Vessels
1357: Shine
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 22:43:20,943 - INFO - 模型输出解析 - 原始输出:
根据用户近期观看的科幻、动作冒险和经典续集类电影偏好，以下是重排后的电影ID列表，最可能观看的放在最前：

3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
515: Remains of the Day, The
1541: Addicted to Love
2562: Bandits
3557: Jennifer 8
2467: Name of the Rose, The
1257: Better Off Dead...
2482: Still Crazy
2703: Broken Vessels
1357: Shine
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 22:43:20,943 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 515, 1541, 2562, 3557, 8, 2467, 1257, 2482, 2703, 1357, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 22:43:20,943 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 515, 1541, 2562, 3557, 8, 2467], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:43:20,943 - INFO - 样本 2 (Trial 5): NDCG@10 = 0.6309
2025-05-09 22:43:21,178 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好科幻、动作、黑色幽默、心理惊悚和经典电影。以下是重排后的电影ID列表：

1590: Event Horizon
161: Crimson Tide
3710: Action Jackson
1965: Repo Man
3258: Death Becomes Her
2318: Happiness
1103: Rebel Without a Cause
1880: Lawn Dogs
2144: Sixteen Candles
381: When a Man Loves a Woman
2210: Sabotage
2637: Mummy's Hand, The
396: Fall Time
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The
3413: Impact
2970: Fitzcarraldo
3723: Hamlet
876: Police Story 4: Project S (Chao ji ji hua)
1251: 8 1/2
3245: I Am Cuba (Soy Cuba/Ya Kuba)
2025-05-09 22:43:21,178 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好科幻、动作、黑色幽默、心理惊悚和经典电影。以下是重排后的电影ID列表：

1590: Event Horizon
161: Crimson Tide
3710: Action Jackson
1965: Repo Man
3258: Death Becomes Her
2318: Happiness
1103: Rebel Without a Cause
1880: Lawn Dogs
2144: Sixteen Candles
381: When a Man Loves a Woman
2210: Sabotage
2637: Mummy's Hand, The
396: Fall Time
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The
3413: Impact
2970: Fitzcarraldo
3723: Hamlet
876: Police Story 4: Project S (Chao ji ji hua)
1251: 8 1/2
3245: I Am Cuba (Soy Cuba/Ya Kuba)
2025-05-09 22:43:21,178 - INFO - 模型输出解析 - 解析后电影ID列表: [1590, 161, 3710, 1965, 3258, 2318, 1103, 1880, 2144, 381, 2210, 2637, 396, 3695, 3413, 2970, 3723, 876, 4, 1251, 8, 1, 2, 3245]
2025-05-09 22:43:21,178 - INFO - NDCG计算 - 预测列表前10项: [1590, 161, 3710, 1965, 3258, 2318, 1103, 1880, 2144, 381], 真实目标: 1965, NDCG@10: 0.43067655807339306
2025-05-09 22:43:21,178 - INFO - 样本 9 (Trial 5): NDCG@10 = 0.4307
2025-05-09 22:43:21,261 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（动作冒险、惊悚、经典电影、奇幻元素），以下是重排后的电影ID列表，最可能观看的放最前：

2571: Matrix, The  
3623: Mission: Impossible 2  
2867: Fright Night  
2550: Haunting, The  
3219: Pacific Heights  
3176: Talented Mr. Ripley, The  
1483: Crash  
1965: Repo Man  
3360: Hoosiers  
249: Immortal Beloved  
381: When a Man Loves a Woman  
2154: How Stella Got Her Groove Back  
1611: My Own Private Idaho  
3878: X: The Unknown  
2943: Indochine  
730: Low Life, The  
803: Walking and Talking  
146: Amazing Panda Adventure, The  
3590: Lords of Flatbush, The  
2129: Saltmen of Tibet, The
2025-05-09 22:43:21,261 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（动作冒险、惊悚、经典电影、奇幻元素），以下是重排后的电影ID列表，最可能观看的放最前：

2571: Matrix, The  
3623: Mission: Impossible 2  
2867: Fright Night  
2550: Haunting, The  
3219: Pacific Heights  
3176: Talented Mr. Ripley, The  
1483: Crash  
1965: Repo Man  
3360: Hoosiers  
249: Immortal Beloved  
381: When a Man Loves a Woman  
2154: How Stella Got Her Groove Back  
1611: My Own Private Idaho  
3878: X: The Unknown  
2943: Indochine  
730: Low Life, The  
803: Walking and Talking  
146: Amazing Panda Adventure, The  
3590: Lords of Flatbush, The  
2129: Saltmen of Tibet, The
2025-05-09 22:43:21,261 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2, 2867, 2550, 3219, 3176, 1483, 1965, 3360, 249, 381, 2154, 1611, 3878, 2943, 730, 803, 146, 3590, 2129]
2025-05-09 22:43:21,261 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2, 2867, 2550, 3219, 3176, 1483, 1965, 3360], 真实目标: 3176, NDCG@10: 0.3333333333333333
2025-05-09 22:43:21,261 - INFO - 样本 7 (Trial 5): NDCG@10 = 0.3333
2025-05-09 22:43:21,307 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近观看的电影列表，可以看出用户偏好独立电影、文艺片、带有深刻情感或社会议题的影片，以及一些经典改编作品。基于这些特点，以下是重排后的电影ID列表，最可能观看的放最前：

3251: Agnes of God  
887: Talk of Angels  
758: Jar, The (Khomreh)  
372: Reality Bites  
271: Losing Isaiah  
1815: Eden  
1259: Stand by Me  
3626: 8 1/2 Women  
359: I Like It Like That  
2249: My Blue Heaven  
3859: Eyes of Tammy Faye, The  
2960: Beefcake  
3378: Ogre, The (Der Unhold)  
3312: McCullochs, The  
185: Net, The  
3614: Honeymoon in Vegas  
2137: Charlotte's Web  
2409: Rocky II  
2452: Gate II: Trespassers, The  
1375: Star Trek III: The Search for Spock
2025-05-09 22:43:21,307 - INFO - 模型输出解析 - 原始输出:
根据用户最近观看的电影列表，可以看出用户偏好独立电影、文艺片、带有深刻情感或社会议题的影片，以及一些经典改编作品。基于这些特点，以下是重排后的电影ID列表，最可能观看的放最前：

3251: Agnes of God  
887: Talk of Angels  
758: Jar, The (Khomreh)  
372: Reality Bites  
271: Losing Isaiah  
1815: Eden  
1259: Stand by Me  
3626: 8 1/2 Women  
359: I Like It Like That  
2249: My Blue Heaven  
3859: Eyes of Tammy Faye, The  
2960: Beefcake  
3378: Ogre, The (Der Unhold)  
3312: McCullochs, The  
185: Net, The  
3614: Honeymoon in Vegas  
2137: Charlotte's Web  
2409: Rocky II  
2452: Gate II: Trespassers, The  
1375: Star Trek III: The Search for Spock
2025-05-09 22:43:21,307 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 758, 372, 271, 1815, 1259, 3626, 8, 1, 2, 359, 2249, 3859, 2960, 3378, 3312, 185, 3614, 2137, 2409, 2452, 1375]
2025-05-09 22:43:21,307 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 758, 372, 271, 1815, 1259, 3626, 8, 1], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:43:21,307 - INFO - 样本 6 (Trial 5): NDCG@10 = 0.4307
2025-05-09 22:43:22,139 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色幽默/犯罪（American Psycho）、惊悚/恐怖（Final Destination）、喜剧（Meet the Parents, Big Momma's House）以及一些cult风格作品（Showgirls, Supernova）。以下是重排后的推荐顺序：

370: Naked Gun 33 1/3: The Final Insult
21: Get Shorty
122: Boomerang
1563: Dream With the Fishes
428: Bronx Tale, A
1722: Tomorrow Never Dies
3768: Braddock: Missing in Action III
2367: King Kong
3701: Alien Nation
1539: Twin Town
447: Favor, The
818: Very Brady Sequel, A
691: Mrs. Winterbourne
1555: To Have, or Not
3420: ...And Justice for All
3824: Autumn in New York
567: Kika
1913: Picnic at Hanging Rock
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:43:22,140 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色幽默/犯罪（American Psycho）、惊悚/恐怖（Final Destination）、喜剧（Meet the Parents, Big Momma's House）以及一些cult风格作品（Showgirls, Supernova）。以下是重排后的推荐顺序：

370: Naked Gun 33 1/3: The Final Insult
21: Get Shorty
122: Boomerang
1563: Dream With the Fishes
428: Bronx Tale, A
1722: Tomorrow Never Dies
3768: Braddock: Missing in Action III
2367: King Kong
3701: Alien Nation
1539: Twin Town
447: Favor, The
818: Very Brady Sequel, A
691: Mrs. Winterbourne
1555: To Have, or Not
3420: ...And Justice for All
3824: Autumn in New York
567: Kika
1913: Picnic at Hanging Rock
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:43:22,140 - INFO - 模型输出解析 - 解析后电影ID列表: [370, 33, 1, 3, 21, 122, 1563, 428, 1722, 3768, 2367, 3701, 1539, 447, 818, 691, 1555, 3420, 3824, 567, 1913, 2609, 3756]
2025-05-09 22:43:22,140 - INFO - NDCG计算 - 预测列表前10项: [370, 33, 1, 3, 21, 122, 1563, 428, 1722, 3768], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:43:22,140 - INFO - 样本 3 (Trial 5): NDCG@10 = 0.0000
2025-05-09 22:43:22,362 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好剧情丰富、有深度、带有艺术性或文学改编的电影（如《绿里奇迹》《离开拉斯维加斯》《邮差》），同时也包含一些经典改编作品（如《金钱陷阱》）和女性视角故事（如《安东尼娅家族》）。以下是重排后的推荐列表：

1695: Artemisia  
1656: Swept from the Sea  
1844: Live Flesh  
3221: Draughtsman's Contract, The  
41: Richard III  
1829: Chinese Box  
2813: Source, The  
3516: Bell, Book and Candle  
3497: Max Dugan Returns  
3606: On the Town  
2755: Light of Day  
2579: Following  
3858: Cecil B. Demented  
3303: Black Tar Heroin: The Dark End of the Street  
396: Fall Time  
328: Tales From the Crypt Presents: Demon Knight  
2123: All Dogs Go to Heaven  
2720: Inspector Gadget  
1731: Mr. Magoo  
2795: Vacation
2025-05-09 22:43:22,362 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好剧情丰富、有深度、带有艺术性或文学改编的电影（如《绿里奇迹》《离开拉斯维加斯》《邮差》），同时也包含一些经典改编作品（如《金钱陷阱》）和女性视角故事（如《安东尼娅家族》）。以下是重排后的推荐列表：

1695: Artemisia  
1656: Swept from the Sea  
1844: Live Flesh  
3221: Draughtsman's Contract, The  
41: Richard III  
1829: Chinese Box  
2813: Source, The  
3516: Bell, Book and Candle  
3497: Max Dugan Returns  
3606: On the Town  
2755: Light of Day  
2579: Following  
3858: Cecil B. Demented  
3303: Black Tar Heroin: The Dark End of the Street  
396: Fall Time  
328: Tales From the Crypt Presents: Demon Knight  
2123: All Dogs Go to Heaven  
2720: Inspector Gadget  
1731: Mr. Magoo  
2795: Vacation
2025-05-09 22:43:22,362 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 3221, 41, 1829, 2813, 3516, 3497, 3606, 2755, 2579, 3858, 3303, 396, 328, 2123, 2720, 1731, 2795]
2025-05-09 22:43:22,363 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 3221, 41, 1829, 2813, 3516, 3497, 3606], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:43:22,363 - INFO - 样本 0 (Trial 5): NDCG@10 = 1.0000
2025-05-09 22:43:22,363 - INFO - 开始第 6/10 次评估
2025-05-09 22:43:22,423 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:22,425 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:22,429 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:22,429 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:22,430 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:22,431 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:22,434 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:22,435 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:22,450 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:22,591 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:33,653 - INFO - DeepSeek API 异步请求 - 模型输出:
3948: Meet the Parents
516: Renaissance Man
3618: Small Time Crooks
145: Bad Boys
1824: Homegrown
2227: Lodger, The
2160: Rosemary's Baby
1822: Meet the Deedles
1671: Deceiver
2620: This Is My Father
1528: Intimate Relations
1317: I'm Not Rappaport
8: Tom and Huck
2374: Gung Ho
3313: Class Reunion
2869: Separation, The (La Séparation)
863: Celestial Clockwork
2074: Night Porter, The (Il Portiere di notte)
2993: Thunderball
3882: Bring It On
2025-05-09 22:43:33,653 - INFO - 模型输出解析 - 原始输出:
3948: Meet the Parents
516: Renaissance Man
3618: Small Time Crooks
145: Bad Boys
1824: Homegrown
2227: Lodger, The
2160: Rosemary's Baby
1822: Meet the Deedles
1671: Deceiver
2620: This Is My Father
1528: Intimate Relations
1317: I'm Not Rappaport
8: Tom and Huck
2374: Gung Ho
3313: Class Reunion
2869: Separation, The (La Séparation)
863: Celestial Clockwork
2074: Night Porter, The (Il Portiere di notte)
2993: Thunderball
3882: Bring It On
2025-05-09 22:43:33,653 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 3618, 145, 1824, 2227, 2160, 1822, 1671, 2620, 1528, 1317, 8, 2374, 3313, 2869, 863, 2074, 2993, 3882]
2025-05-09 22:43:33,653 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 3618, 145, 1824, 2227, 2160, 1822, 1671, 2620], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:43:33,653 - INFO - 样本 4 (Trial 6): NDCG@10 = 1.0000
2025-05-09 22:43:35,481 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户近期观看的电影列表，可以看出用户偏好科幻、动作冒险、经典续集以及带有超自然元素的电影。以下是重排后的推荐电影ID列表，最可能观看的放在最前面：

3699: Starman  
2011: Back to the Future Part II  
2532: Conquest of the Planet of the Apes  
555: True Romance  
3557: Jennifer 8  
2562: Bandits  
1541: Addicted to Love  
515: Remains of the Day, The  
2467: Name of the Rose, The  
2482: Still Crazy  
2703: Broken Vessels  
1357: Shine  
1257: Better Off Dead...  
1102: American Strays  
1420: Message to Love: The Isle of Wight Festival  
421: Black Beauty  
1174: Grosse Fatigue  
310: Rent-a-Kid  
576: Fausto  
3739: Trouble in Paradise
2025-05-09 22:43:35,481 - INFO - 模型输出解析 - 原始输出:
根据用户近期观看的电影列表，可以看出用户偏好科幻、动作冒险、经典续集以及带有超自然元素的电影。以下是重排后的推荐电影ID列表，最可能观看的放在最前面：

3699: Starman  
2011: Back to the Future Part II  
2532: Conquest of the Planet of the Apes  
555: True Romance  
3557: Jennifer 8  
2562: Bandits  
1541: Addicted to Love  
515: Remains of the Day, The  
2467: Name of the Rose, The  
2482: Still Crazy  
2703: Broken Vessels  
1357: Shine  
1257: Better Off Dead...  
1102: American Strays  
1420: Message to Love: The Isle of Wight Festival  
421: Black Beauty  
1174: Grosse Fatigue  
310: Rent-a-Kid  
576: Fausto  
3739: Trouble in Paradise
2025-05-09 22:43:35,481 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 3557, 8, 2562, 1541, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 22:43:35,481 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 3557, 8, 2562, 1541, 515, 2467], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:43:35,481 - INFO - 样本 2 (Trial 6): NDCG@10 = 0.6309
2025-05-09 22:43:35,643 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（剧情片、文学改编、社会议题、浪漫元素），以下是重排后的电影ID列表：

3183: Third Miracle, The
534: Shadowlands
3449: Good Mother, The
280: Murder in the First
1187: Passion Fish
1458: Touch
3497: Max Dugan Returns
3801: Anatomy of a Murder
607: Century
537: Sirens
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
1232: Stalker
823: Collectionneuse, La
2644: Dracula
2261: One Crazy Summer
3247: Sister Act
2791: Airplane!
370: Naked Gun 33 1/3: The Final Insult
1523: Truth or Consequences, N.M.
3790: Groove
2025-05-09 22:43:35,643 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（剧情片、文学改编、社会议题、浪漫元素），以下是重排后的电影ID列表：

3183: Third Miracle, The
534: Shadowlands
3449: Good Mother, The
280: Murder in the First
1187: Passion Fish
1458: Touch
3497: Max Dugan Returns
3801: Anatomy of a Murder
607: Century
537: Sirens
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
1232: Stalker
823: Collectionneuse, La
2644: Dracula
2261: One Crazy Summer
3247: Sister Act
2791: Airplane!
370: Naked Gun 33 1/3: The Final Insult
1523: Truth or Consequences, N.M.
3790: Groove
2025-05-09 22:43:35,643 - INFO - 模型输出解析 - 解析后电影ID列表: [3183, 534, 3449, 280, 1187, 1458, 3497, 3801, 607, 537, 3761, 1232, 823, 2644, 2261, 3247, 2791, 370, 33, 1, 3, 1523, 3790]
2025-05-09 22:43:35,643 - INFO - NDCG计算 - 预测列表前10项: [3183, 534, 3449, 280, 1187, 1458, 3497, 3801, 607, 537], 真实目标: 534, NDCG@10: 0.6309297535714575
2025-05-09 22:43:35,643 - INFO - 样本 5 (Trial 6): NDCG@10 = 0.6309
2025-05-09 22:43:36,237 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（动作冒险、惊悚、经典电影、奇幻题材），以下是重排后的电影ID列表，最可能观看的放最前：

2571: Matrix, The
3623: Mission: Impossible 2
2867: Fright Night
2550: Haunting, The
1483: Crash
3219: Pacific Heights
3176: Talented Mr. Ripley, The
1965: Repo Man
3360: Hoosiers
3878: X: The Unknown
249: Immortal Beloved
1611: My Own Private Idaho
381: When a Man Loves a Woman
2154: How Stella Got Her Groove Back
2943: Indochine
730: Low Life, The
803: Walking and Talking
3590: Lords of Flatbush, The
146: Amazing Panda Adventure, The
2129: Saltmen of Tibet, The
2025-05-09 22:43:36,237 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（动作冒险、惊悚、经典电影、奇幻题材），以下是重排后的电影ID列表，最可能观看的放最前：

2571: Matrix, The
3623: Mission: Impossible 2
2867: Fright Night
2550: Haunting, The
1483: Crash
3219: Pacific Heights
3176: Talented Mr. Ripley, The
1965: Repo Man
3360: Hoosiers
3878: X: The Unknown
249: Immortal Beloved
1611: My Own Private Idaho
381: When a Man Loves a Woman
2154: How Stella Got Her Groove Back
2943: Indochine
730: Low Life, The
803: Walking and Talking
3590: Lords of Flatbush, The
146: Amazing Panda Adventure, The
2129: Saltmen of Tibet, The
2025-05-09 22:43:36,237 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2, 2867, 2550, 1483, 3219, 3176, 1965, 3360, 3878, 249, 1611, 381, 2154, 2943, 730, 803, 3590, 146, 2129]
2025-05-09 22:43:36,237 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2, 2867, 2550, 1483, 3219, 3176, 1965, 3360], 真实目标: 3176, NDCG@10: 0.31546487678572877
2025-05-09 22:43:36,237 - INFO - 样本 7 (Trial 6): NDCG@10 = 0.3155
2025-05-09 22:43:36,816 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近观看的电影列表，可以看出用户偏好独立电影、文艺片、剧情片以及一些具有深刻情感或社会议题的作品。以下是根据这些偏好重新排序的候选电影ID列表：

3251: Agnes of God
887: Talk of Angels
758: Jar, The (Khomreh)
271: Losing Isaiah
372: Reality Bites
1815: Eden
3626: 8 1/2 Women
359: I Like It Like That
2249: My Blue Heaven
1259: Stand by Me
3378: Ogre, The (Der Unhold)
3312: McCullochs, The
2960: Beefcake
3614: Honeymoon in Vegas
185: Net, The
2452: Gate II: Trespassers, The
1375: Star Trek III: The Search for Spock
2409: Rocky II
2137: Charlotte's Web
3859: Eyes of Tammy Faye, The
2025-05-09 22:43:36,816 - INFO - 模型输出解析 - 原始输出:
根据用户最近观看的电影列表，可以看出用户偏好独立电影、文艺片、剧情片以及一些具有深刻情感或社会议题的作品。以下是根据这些偏好重新排序的候选电影ID列表：

3251: Agnes of God
887: Talk of Angels
758: Jar, The (Khomreh)
271: Losing Isaiah
372: Reality Bites
1815: Eden
3626: 8 1/2 Women
359: I Like It Like That
2249: My Blue Heaven
1259: Stand by Me
3378: Ogre, The (Der Unhold)
3312: McCullochs, The
2960: Beefcake
3614: Honeymoon in Vegas
185: Net, The
2452: Gate II: Trespassers, The
1375: Star Trek III: The Search for Spock
2409: Rocky II
2137: Charlotte's Web
3859: Eyes of Tammy Faye, The
2025-05-09 22:43:36,816 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 758, 271, 372, 1815, 3626, 8, 1, 2, 359, 2249, 1259, 3378, 3312, 2960, 3614, 185, 2452, 1375, 2409, 2137, 3859]
2025-05-09 22:43:36,816 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 758, 271, 372, 1815, 3626, 8, 1, 2], 真实目标: 372, NDCG@10: 0.38685280723454163
2025-05-09 22:43:36,816 - INFO - 样本 6 (Trial 6): NDCG@10 = 0.3869
2025-05-09 22:43:37,266 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好剧情丰富、有深度、带有艺术性或文学改编的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》《Antonia's Line》），同时也有对轻松喜剧的接受度（如《Money Pit》《Renaissance Man》）。以下是重排后的推荐顺序：

1695: Artemisia  
1656: Swept from the Sea  
1844: Live Flesh  
3221: Draughtsman's Contract, The  
41: Richard III  
1829: Chinese Box  
2813: Source, The  
3516: Bell, Book and Candle  
3497: Max Dugan Returns  
2579: Following  
3606: On the Town  
2755: Light of Day  
396: Fall Time  
3858: Cecil B. Demented  
3303: Black Tar Heroin: The Dark End of the Street  
328: Tales From the Crypt Presents: Demon Knight  
2123: All Dogs Go to Heaven  
2720: Inspector Gadget  
1731: Mr. Magoo  
2795: Vacation
2025-05-09 22:43:37,266 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好剧情丰富、有深度、带有艺术性或文学改编的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》《Antonia's Line》），同时也有对轻松喜剧的接受度（如《Money Pit》《Renaissance Man》）。以下是重排后的推荐顺序：

1695: Artemisia  
1656: Swept from the Sea  
1844: Live Flesh  
3221: Draughtsman's Contract, The  
41: Richard III  
1829: Chinese Box  
2813: Source, The  
3516: Bell, Book and Candle  
3497: Max Dugan Returns  
2579: Following  
3606: On the Town  
2755: Light of Day  
396: Fall Time  
3858: Cecil B. Demented  
3303: Black Tar Heroin: The Dark End of the Street  
328: Tales From the Crypt Presents: Demon Knight  
2123: All Dogs Go to Heaven  
2720: Inspector Gadget  
1731: Mr. Magoo  
2795: Vacation
2025-05-09 22:43:37,266 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 3221, 41, 1829, 2813, 3516, 3497, 2579, 3606, 2755, 396, 3858, 3303, 328, 2123, 2720, 1731, 2795]
2025-05-09 22:43:37,266 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 3221, 41, 1829, 2813, 3516, 3497, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:43:37,266 - INFO - 样本 0 (Trial 6): NDCG@10 = 1.0000
2025-05-09 22:43:37,708 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色喜剧（American Psycho）、惊悚片（Final Destination）、轻松喜剧（Meet the Parents, Big Momma's House）以及一些cult经典（Showgirls, Supernova）。以下是重排后的推荐列表，最可能观看的放在前面：

21: Get Shorty
370: Naked Gun 33 1/3: The Final Insult
818: Very Brady Sequel, A
122: Boomerang
428: Bronx Tale, A
1722: Tomorrow Never Dies
3768: Braddock: Missing in Action III
2367: King Kong
3701: Alien Nation
3420: ...And Justice for All
1539: Twin Town
1563: Dream With the Fishes
447: Favor, The
691: Mrs. Winterbourne
1555: To Have, or Not
567: Kika
1913: Picnic at Hanging Rock
3824: Autumn in New York
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:43:37,708 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色喜剧（American Psycho）、惊悚片（Final Destination）、轻松喜剧（Meet the Parents, Big Momma's House）以及一些cult经典（Showgirls, Supernova）。以下是重排后的推荐列表，最可能观看的放在前面：

21: Get Shorty
370: Naked Gun 33 1/3: The Final Insult
818: Very Brady Sequel, A
122: Boomerang
428: Bronx Tale, A
1722: Tomorrow Never Dies
3768: Braddock: Missing in Action III
2367: King Kong
3701: Alien Nation
3420: ...And Justice for All
1539: Twin Town
1563: Dream With the Fishes
447: Favor, The
691: Mrs. Winterbourne
1555: To Have, or Not
567: Kika
1913: Picnic at Hanging Rock
3824: Autumn in New York
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:43:37,708 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 33, 1, 3, 818, 122, 428, 1722, 3768, 2367, 3701, 3420, 1539, 1563, 447, 691, 1555, 567, 1913, 3824, 2609, 3756]
2025-05-09 22:43:37,708 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 33, 1, 3, 818, 122, 428, 1722, 3768], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:43:37,708 - INFO - 样本 3 (Trial 6): NDCG@10 = 0.0000
2025-05-09 22:43:38,445 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好科幻/动作（Terminator 2, Event Horizon）、经典/文艺（Boogie Nights, After Life, Edward Scissorhands）、惊悚/悬疑（Rosemary's Baby, From Russia with Love）以及带有黑色幽默或独特风格的电影（High Fidelity, Big Kahuna）。以下是重排后的推荐列表：

1590: Event Horizon
1103: Rebel Without a Cause
1965: Repo Man
3258: Death Becomes Her
2318: Happiness
161: Crimson Tide
2970: Fitzcarraldo
1251: 8 1/2
2637: Mummy's Hand, The
1880: Lawn Dogs
396: Fall Time
2210: Sabotage
3710: Action Jackson
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The
381: When a Man Loves a Woman
3413: Impact
2144: Sixteen Candles
3723: Hamlet
876: Police Story 4: Project S (Chao ji ji hua)
3245: I Am Cuba (Soy Cuba/Ya Kuba)
2025-05-09 22:43:38,445 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好科幻/动作（Terminator 2, Event Horizon）、经典/文艺（Boogie Nights, After Life, Edward Scissorhands）、惊悚/悬疑（Rosemary's Baby, From Russia with Love）以及带有黑色幽默或独特风格的电影（High Fidelity, Big Kahuna）。以下是重排后的推荐列表：

1590: Event Horizon
1103: Rebel Without a Cause
1965: Repo Man
3258: Death Becomes Her
2318: Happiness
161: Crimson Tide
2970: Fitzcarraldo
1251: 8 1/2
2637: Mummy's Hand, The
1880: Lawn Dogs
396: Fall Time
2210: Sabotage
3710: Action Jackson
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The
381: When a Man Loves a Woman
3413: Impact
2144: Sixteen Candles
3723: Hamlet
876: Police Story 4: Project S (Chao ji ji hua)
3245: I Am Cuba (Soy Cuba/Ya Kuba)
2025-05-09 22:43:38,445 - INFO - 模型输出解析 - 解析后电影ID列表: [2, 1590, 1103, 1965, 3258, 2318, 161, 2970, 1251, 8, 1, 2, 2637, 1880, 396, 2210, 3710, 3695, 381, 3413, 2144, 3723, 876, 4, 3245]
2025-05-09 22:43:38,445 - INFO - NDCG计算 - 预测列表前10项: [2, 1590, 1103, 1965, 3258, 2318, 161, 2970, 1251, 8], 真实目标: 1965, NDCG@10: 0.43067655807339306
2025-05-09 22:43:38,445 - INFO - 样本 9 (Trial 6): NDCG@10 = 0.4307
2025-05-09 22:43:41,823 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好喜剧、荒诞幽默、经典恶搞和轻松娱乐类型的电影。以下是重排后的候选电影ID列表，最可能观看的放最前：

1194, 785, 1083, 945, 3667, 3768, 3709, 1365, 29, 3822, 3474, 2438, 2858, 2311, 194, 2705, 2022, 1263, 1797

推荐理由：
1. 1194 (Up in Smoke) - 经典喜剧，符合用户喜欢的恶搞幽默风格
2. 785 (Kingpin) - 无厘头喜剧，类似The Jerk和Blazing Saddles
3. 1083 (Great Race, The) - 经典喜剧冒险，类似Kelly's Heroes
4. 945 (Top Hat) - 经典音乐喜剧，类似Grease
5. 3667 (Rent-A-Cop) - 动作喜剧
6. 3768 (Braddock: Missing in Action III) - 动作冒险，类似Kelly's Heroes
7. 3709 (Sleepwalkers) - 恐怖喜剧元素
8. 1365 (Ridicule) - 法国宫廷喜剧
9. 29 (City of Lost Children, The) - 奇幻风格，类似Monty Python
10. 3822 (Girl on the Bridge, The) - 黑色幽默
其余电影按类型相似度排列
2025-05-09 22:43:41,824 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好喜剧、荒诞幽默、经典恶搞和轻松娱乐类型的电影。以下是重排后的候选电影ID列表，最可能观看的放最前：

1194, 785, 1083, 945, 3667, 3768, 3709, 1365, 29, 3822, 3474, 2438, 2858, 2311, 194, 2705, 2022, 1263, 1797

推荐理由：
1. 1194 (Up in Smoke) - 经典喜剧，符合用户喜欢的恶搞幽默风格
2. 785 (Kingpin) - 无厘头喜剧，类似The Jerk和Blazing Saddles
3. 1083 (Great Race, The) - 经典喜剧冒险，类似Kelly's Heroes
4. 945 (Top Hat) - 经典音乐喜剧，类似Grease
5. 3667 (Rent-A-Cop) - 动作喜剧
6. 3768 (Braddock: Missing in Action III) - 动作冒险，类似Kelly's Heroes
7. 3709 (Sleepwalkers) - 恐怖喜剧元素
8. 1365 (Ridicule) - 法国宫廷喜剧
9. 29 (City of Lost Children, The) - 奇幻风格，类似Monty Python
10. 3822 (Girl on the Bridge, The) - 黑色幽默
其余电影按类型相似度排列
2025-05-09 22:43:41,824 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 3667, 3768, 3709, 1365, 29, 3822, 3474, 2438, 2858, 2311, 194, 2705, 2022, 1263, 1797, 1, 1194, 2, 785, 3, 1083, 4, 945, 5, 3667, 6, 3768, 7, 3709, 8, 1365, 9, 29, 10, 3822]
2025-05-09 22:43:41,824 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 3667, 3768, 3709, 1365, 29, 3822], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:43:41,824 - INFO - 样本 1 (Trial 6): NDCG@10 = 1.0000
2025-05-09 22:43:43,463 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近的观影记录，可以看出用户偏好动作片、犯罪剧情片和带有紧张刺激元素的电影（如《Mission to Mars》《Boiler Room》《Gone in 60 Seconds》《Shaft》《Romeo Must Die》等）。同时也有一些法律/真实事件改编的剧情片（《Erin Brockovich》）和运动题材（《Remember the Titans》）。

以下是按用户兴趣可能性排序的电影ID列表：

3107: Backdraft (消防员题材的动作剧情片)
1343: Cape Fear (犯罪惊悚片)
373: Red Rock West (犯罪惊悚片)
1858: Mr. Nice Guy (成龙动作片)
1758: Dangerous Beauty (历史剧情片，类似《Erin Brockovich》的女性主角故事)
1236: Trust (剧情片)
3145: Cradle Will Rock, The (历史剧情片)
971: Cat on a Hot Tin Roof (经典剧情片)
1537: Shall We Dance? (Shall We Dansu?) (舞蹈剧情片)
2507: Breakfast of Champions (黑色喜剧)
2997: Being John Malkovich (奇幻喜剧)
3325: Next Best Thing, The (剧情片)
1053: Normal Life (犯罪剧情片)
614: Loaded (独立电影)
3864: Godzilla 2000 (Gojira ni-sen mireniamu) (怪兽电影)
3933: Killer Shrews, The (B级恐怖片)
3672: Benji (家庭电影)
2566: Doug's 1st Movie (动画电影)
2049: Happiest Millionaire, The (音乐剧)
1024: Three Caballeros, The (经典动画)
2025-05-09 22:43:43,463 - INFO - 模型输出解析 - 原始输出:
根据用户最近的观影记录，可以看出用户偏好动作片、犯罪剧情片和带有紧张刺激元素的电影（如《Mission to Mars》《Boiler Room》《Gone in 60 Seconds》《Shaft》《Romeo Must Die》等）。同时也有一些法律/真实事件改编的剧情片（《Erin Brockovich》）和运动题材（《Remember the Titans》）。

以下是按用户兴趣可能性排序的电影ID列表：

3107: Backdraft (消防员题材的动作剧情片)
1343: Cape Fear (犯罪惊悚片)
373: Red Rock West (犯罪惊悚片)
1858: Mr. Nice Guy (成龙动作片)
1758: Dangerous Beauty (历史剧情片，类似《Erin Brockovich》的女性主角故事)
1236: Trust (剧情片)
3145: Cradle Will Rock, The (历史剧情片)
971: Cat on a Hot Tin Roof (经典剧情片)
1537: Shall We Dance? (Shall We Dansu?) (舞蹈剧情片)
2507: Breakfast of Champions (黑色喜剧)
2997: Being John Malkovich (奇幻喜剧)
3325: Next Best Thing, The (剧情片)
1053: Normal Life (犯罪剧情片)
614: Loaded (独立电影)
3864: Godzilla 2000 (Gojira ni-sen mireniamu) (怪兽电影)
3933: Killer Shrews, The (B级恐怖片)
3672: Benji (家庭电影)
2566: Doug's 1st Movie (动画电影)
2049: Happiest Millionaire, The (音乐剧)
1024: Three Caballeros, The (经典动画)
2025-05-09 22:43:43,463 - INFO - 模型输出解析 - 解析后电影ID列表: [60, 3107, 1343, 373, 1858, 1758, 1236, 3145, 971, 1537, 2507, 2997, 3325, 1053, 614, 3864, 2000, 3933, 3672, 2566, 1, 2049, 1024]
2025-05-09 22:43:43,463 - INFO - NDCG计算 - 预测列表前10项: [60, 3107, 1343, 373, 1858, 1758, 1236, 3145, 971, 1537], 真实目标: 1758, NDCG@10: 0.3562071871080222
2025-05-09 22:43:43,463 - INFO - 样本 8 (Trial 6): NDCG@10 = 0.3562
2025-05-09 22:43:43,463 - INFO - 开始第 7/10 次评估
2025-05-09 22:43:43,519 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:43,541 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:43,587 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:43,600 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:43,600 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:43,600 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:43,601 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:43,601 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:43,607 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:43,608 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:43:54,606 - INFO - DeepSeek API 异步请求 - 模型输出:
3948: Meet the Parents
516: Renaissance Man
3618: Small Time Crooks
1824: Homegrown
145: Bad Boys
2227: Lodger, The
2160: Rosemary's Baby
1671: Deceiver
2620: This Is My Father
1528: Intimate Relations
3313: Class Reunion
8: Tom and Huck
2869: Separation, The (La Séparation)
3882: Bring It On
1317: I'm Not Rappaport
2374: Gung Ho
863: Celestial Clockwork
2993: Thunderball
2074: Night Porter, The (Il Portiere di notte)
1822: Meet the Deedles
2025-05-09 22:43:54,606 - INFO - 模型输出解析 - 原始输出:
3948: Meet the Parents
516: Renaissance Man
3618: Small Time Crooks
1824: Homegrown
145: Bad Boys
2227: Lodger, The
2160: Rosemary's Baby
1671: Deceiver
2620: This Is My Father
1528: Intimate Relations
3313: Class Reunion
8: Tom and Huck
2869: Separation, The (La Séparation)
3882: Bring It On
1317: I'm Not Rappaport
2374: Gung Ho
863: Celestial Clockwork
2993: Thunderball
2074: Night Porter, The (Il Portiere di notte)
1822: Meet the Deedles
2025-05-09 22:43:54,606 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 3618, 1824, 145, 2227, 2160, 1671, 2620, 1528, 3313, 8, 2869, 3882, 1317, 2374, 863, 2993, 2074, 1822]
2025-05-09 22:43:54,606 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 3618, 1824, 145, 2227, 2160, 1671, 2620, 1528], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:43:54,606 - INFO - 样本 4 (Trial 7): NDCG@10 = 1.0000
2025-05-09 22:43:55,129 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中科幻、动作冒险和经典续集类电影的偏好，以下是重排后的电影ID列表，最可能观看的放在最前面：

3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
515: Remains of the Day, The
3557: Jennifer 8
2562: Bandits
1541: Addicted to Love
1257: Better Off Dead...
2467: Name of the Rose, The
2482: Still Crazy
2703: Broken Vessels
1357: Shine
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 22:43:55,129 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中科幻、动作冒险和经典续集类电影的偏好，以下是重排后的电影ID列表，最可能观看的放在最前面：

3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
515: Remains of the Day, The
3557: Jennifer 8
2562: Bandits
1541: Addicted to Love
1257: Better Off Dead...
2467: Name of the Rose, The
2482: Still Crazy
2703: Broken Vessels
1357: Shine
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 22:43:55,129 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 515, 3557, 8, 2562, 1541, 1257, 2467, 2482, 2703, 1357, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 22:43:55,129 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 515, 3557, 8, 2562, 1541, 1257], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:43:55,129 - INFO - 样本 2 (Trial 7): NDCG@10 = 0.6309
2025-05-09 22:43:55,617 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（经典喜剧、无厘头幽默、怀旧风格和恶搞元素），我将推荐顺序调整如下：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
945: Top Hat
1145: Snowriders
3768: Braddock: Missing in Action III
3667: Rent-A-Cop
3709: Sleepwalkers
3474: Retroactive
2438: Outside Ozona
2858: American Beauty
1263: Deer Hunter, The
2311: 2010
1797: Everest
194: Smoke
3822: Girl on the Bridge, The (La Fille sur le Pont)
29: City of Lost Children, The
1365: Ridicule
2705: Late August, Early September (Fin août, début septembre)
2022: Last Temptation of Christ, The
2025-05-09 22:43:55,617 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（经典喜剧、无厘头幽默、怀旧风格和恶搞元素），我将推荐顺序调整如下：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
945: Top Hat
1145: Snowriders
3768: Braddock: Missing in Action III
3667: Rent-A-Cop
3709: Sleepwalkers
3474: Retroactive
2438: Outside Ozona
2858: American Beauty
1263: Deer Hunter, The
2311: 2010
1797: Everest
194: Smoke
3822: Girl on the Bridge, The (La Fille sur le Pont)
29: City of Lost Children, The
1365: Ridicule
2705: Late August, Early September (Fin août, début septembre)
2022: Last Temptation of Christ, The
2025-05-09 22:43:55,617 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438, 2858, 1263, 2311, 2010, 1797, 194, 3822, 29, 1365, 2705, 2022]
2025-05-09 22:43:55,617 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:43:55,617 - INFO - 样本 1 (Trial 7): NDCG@10 = 1.0000
2025-05-09 22:43:56,398 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（科幻、动作、黑色幽默、心理惊悚、经典电影等），以下是重排后的电影ID列表，最可能观看的放最前：

1590: Event Horizon  
161: Crimson Tide  
3258: Death Becomes Her  
1103: Rebel Without a Cause  
3710: Action Jackson  
2210: Sabotage  
1965: Repo Man  
2637: Mummy's Hand, The  
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The  
1880: Lawn Dogs  
2318: Happiness  
396: Fall Time  
381: When a Man Loves a Woman  
3413: Impact  
2970: Fitzcarraldo  
3723: Hamlet  
876: Police Story 4: Project S (Chao ji ji hua)  
2144: Sixteen Candles  
1251: 8 1/2  
3245: I Am Cuba (Soy Cuba/Ya Kuba)
2025-05-09 22:43:56,398 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（科幻、动作、黑色幽默、心理惊悚、经典电影等），以下是重排后的电影ID列表，最可能观看的放最前：

1590: Event Horizon  
161: Crimson Tide  
3258: Death Becomes Her  
1103: Rebel Without a Cause  
3710: Action Jackson  
2210: Sabotage  
1965: Repo Man  
2637: Mummy's Hand, The  
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The  
1880: Lawn Dogs  
2318: Happiness  
396: Fall Time  
381: When a Man Loves a Woman  
3413: Impact  
2970: Fitzcarraldo  
3723: Hamlet  
876: Police Story 4: Project S (Chao ji ji hua)  
2144: Sixteen Candles  
1251: 8 1/2  
3245: I Am Cuba (Soy Cuba/Ya Kuba)
2025-05-09 22:43:56,398 - INFO - 模型输出解析 - 解析后电影ID列表: [1590, 161, 3258, 1103, 3710, 2210, 1965, 2637, 3695, 1880, 2318, 396, 381, 3413, 2970, 3723, 876, 4, 2144, 1251, 8, 1, 2, 3245]
2025-05-09 22:43:56,398 - INFO - NDCG计算 - 预测列表前10项: [1590, 161, 3258, 1103, 3710, 2210, 1965, 2637, 3695, 1880], 真实目标: 1965, NDCG@10: 0.3333333333333333
2025-05-09 22:43:56,398 - INFO - 样本 9 (Trial 7): NDCG@10 = 0.3333
2025-05-09 22:43:57,074 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（剧情片、文学改编、社会议题、浪漫元素），以下是重排后的电影ID列表：

3183: Third Miracle, The
534: Shadowlands
3449: Good Mother, The
280: Murder in the First
1187: Passion Fish
1458: Touch
3497: Max Dugan Returns
3801: Anatomy of a Murder
607: Century
1232: Stalker
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
2644: Dracula
537: Sirens
2261: One Crazy Summer
1523: Truth or Consequences, N.M.
823: Collectionneuse, La
3247: Sister Act
2791: Airplane!
370: Naked Gun 33 1/3: The Final Insult
3790: Groove
2025-05-09 22:43:57,074 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（剧情片、文学改编、社会议题、浪漫元素），以下是重排后的电影ID列表：

3183: Third Miracle, The
534: Shadowlands
3449: Good Mother, The
280: Murder in the First
1187: Passion Fish
1458: Touch
3497: Max Dugan Returns
3801: Anatomy of a Murder
607: Century
1232: Stalker
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
2644: Dracula
537: Sirens
2261: One Crazy Summer
1523: Truth or Consequences, N.M.
823: Collectionneuse, La
3247: Sister Act
2791: Airplane!
370: Naked Gun 33 1/3: The Final Insult
3790: Groove
2025-05-09 22:43:57,074 - INFO - 模型输出解析 - 解析后电影ID列表: [3183, 534, 3449, 280, 1187, 1458, 3497, 3801, 607, 1232, 3761, 2644, 537, 2261, 1523, 823, 3247, 2791, 370, 33, 1, 3, 3790]
2025-05-09 22:43:57,074 - INFO - NDCG计算 - 预测列表前10项: [3183, 534, 3449, 280, 1187, 1458, 3497, 3801, 607, 1232], 真实目标: 534, NDCG@10: 0.6309297535714575
2025-05-09 22:43:57,074 - INFO - 样本 5 (Trial 7): NDCG@10 = 0.6309
2025-05-09 22:43:57,148 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好剧情丰富、有深度且带有艺术性的电影，同时也有一些经典和轻喜剧元素。以下是重排后的电影ID列表，最可能观看的放最前：

1695: Artemisia  
1656: Swept from the Sea  
1844: Live Flesh  
3221: Draughtsman's Contract, The  
41: Richard III  
1829: Chinese Box  
2813: Source, The  
3516: Bell, Book and Candle  
3497: Max Dugan Returns  
3606: On the Town  
2755: Light of Day  
2579: Following  
3858: Cecil B. Demented  
3303: Black Tar Heroin: The Dark End of the Street  
328: Tales From the Crypt Presents: Demon Knight  
2123: All Dogs Go to Heaven  
1731: Mr. Magoo  
2720: Inspector Gadget  
2795: Vacation  
396: Fall Time
2025-05-09 22:43:57,148 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好剧情丰富、有深度且带有艺术性的电影，同时也有一些经典和轻喜剧元素。以下是重排后的电影ID列表，最可能观看的放最前：

1695: Artemisia  
1656: Swept from the Sea  
1844: Live Flesh  
3221: Draughtsman's Contract, The  
41: Richard III  
1829: Chinese Box  
2813: Source, The  
3516: Bell, Book and Candle  
3497: Max Dugan Returns  
3606: On the Town  
2755: Light of Day  
2579: Following  
3858: Cecil B. Demented  
3303: Black Tar Heroin: The Dark End of the Street  
328: Tales From the Crypt Presents: Demon Knight  
2123: All Dogs Go to Heaven  
1731: Mr. Magoo  
2720: Inspector Gadget  
2795: Vacation  
396: Fall Time
2025-05-09 22:43:57,148 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 3221, 41, 1829, 2813, 3516, 3497, 3606, 2755, 2579, 3858, 3303, 328, 2123, 1731, 2720, 2795, 396]
2025-05-09 22:43:57,148 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 3221, 41, 1829, 2813, 3516, 3497, 3606], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:43:57,148 - INFO - 样本 0 (Trial 7): NDCG@10 = 1.0000
2025-05-09 22:43:57,508 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近的观影记录，可以看出用户偏好动作冒险类、惊悚悬疑类以及经典剧情片。以下是重排后的电影ID列表，最可能观看的放在最前：

2571: Matrix, The
3623: Mission: Impossible 2
2867: Fright Night
2550: Haunting, The
3176: Talented Mr. Ripley, The
3219: Pacific Heights
1483: Crash
3360: Hoosiers
249: Immortal Beloved
1965: Repo Man
1611: My Own Private Idaho
381: When a Man Loves a Woman
2154: How Stella Got Her Groove Back
2943: Indochine
3878: X: The Unknown
730: Low Life, The
803: Walking and Talking
2129: Saltmen of Tibet, The
146: Amazing Panda Adventure, The
3590: Lords of Flatbush, The
2025-05-09 22:43:57,508 - INFO - 模型输出解析 - 原始输出:
根据用户最近的观影记录，可以看出用户偏好动作冒险类、惊悚悬疑类以及经典剧情片。以下是重排后的电影ID列表，最可能观看的放在最前：

2571: Matrix, The
3623: Mission: Impossible 2
2867: Fright Night
2550: Haunting, The
3176: Talented Mr. Ripley, The
3219: Pacific Heights
1483: Crash
3360: Hoosiers
249: Immortal Beloved
1965: Repo Man
1611: My Own Private Idaho
381: When a Man Loves a Woman
2154: How Stella Got Her Groove Back
2943: Indochine
3878: X: The Unknown
730: Low Life, The
803: Walking and Talking
2129: Saltmen of Tibet, The
146: Amazing Panda Adventure, The
3590: Lords of Flatbush, The
2025-05-09 22:43:57,508 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2, 2867, 2550, 3176, 3219, 1483, 3360, 249, 1965, 1611, 381, 2154, 2943, 3878, 730, 803, 2129, 146, 3590]
2025-05-09 22:43:57,508 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2, 2867, 2550, 3176, 3219, 1483, 3360, 249], 真实目标: 3176, NDCG@10: 0.3562071871080222
2025-05-09 22:43:57,508 - INFO - 样本 7 (Trial 7): NDCG@10 = 0.3562
2025-05-09 22:43:58,162 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近观看的电影列表，可以看出用户偏好独立电影、文艺片、带有社会议题或情感深度的剧情片，以及一些经典文学改编作品。基于这些特点，以下是重排后的电影ID列表，最可能观看的放在最前面：

3251: Agnes of God  
887: Talk of Angels  
271: Losing Isaiah  
372: Reality Bites  
1259: Stand by Me  
1815: Eden  
359: I Like It Like That  
3626: 8 1/2 Women  
2249: My Blue Heaven  
3859: Eyes of Tammy Faye, The  
2960: Beefcake  
185: Net, The  
3378: Ogre, The (Der Unhold)  
3312: McCullochs, The  
3614: Honeymoon in Vegas  
2452: Gate II: Trespassers, The  
1375: Star Trek III: The Search for Spock  
2409: Rocky II  
2137: Charlotte's Web  
758: Jar, The (Khomreh)
2025-05-09 22:43:58,162 - INFO - 模型输出解析 - 原始输出:
根据用户最近观看的电影列表，可以看出用户偏好独立电影、文艺片、带有社会议题或情感深度的剧情片，以及一些经典文学改编作品。基于这些特点，以下是重排后的电影ID列表，最可能观看的放在最前面：

3251: Agnes of God  
887: Talk of Angels  
271: Losing Isaiah  
372: Reality Bites  
1259: Stand by Me  
1815: Eden  
359: I Like It Like That  
3626: 8 1/2 Women  
2249: My Blue Heaven  
3859: Eyes of Tammy Faye, The  
2960: Beefcake  
185: Net, The  
3378: Ogre, The (Der Unhold)  
3312: McCullochs, The  
3614: Honeymoon in Vegas  
2452: Gate II: Trespassers, The  
1375: Star Trek III: The Search for Spock  
2409: Rocky II  
2137: Charlotte's Web  
758: Jar, The (Khomreh)
2025-05-09 22:43:58,162 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 1259, 1815, 359, 3626, 8, 1, 2, 2249, 3859, 2960, 185, 3378, 3312, 3614, 2452, 1375, 2409, 2137, 758]
2025-05-09 22:43:58,162 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 1259, 1815, 359, 3626, 8, 1], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:43:58,162 - INFO - 样本 6 (Trial 7): NDCG@10 = 0.4307
2025-05-09 22:43:59,329 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色幽默/犯罪（American Psycho）、惊悚/恐怖（Final Destination）、喜剧（Meet the Parents, Big Momma's House）以及一些cult风格电影（Showgirls, Supernova）。以下是重排后的推荐列表，最可能观看的放在前面：

21: Get Shorty
370: Naked Gun 33 1/3: The Final Insult
1722: Tomorrow Never Dies
122: Boomerang
428: Bronx Tale, A
3768: Braddock: Missing in Action III
2367: King Kong
3701: Alien Nation
1539: Twin Town
818: Very Brady Sequel, A
3420: ...And Justice for All
447: Favor, The
691: Mrs. Winterbourne
567: Kika
1563: Dream With the Fishes
1555: To Have, or Not
3824: Autumn in New York
1913: Picnic at Hanging Rock
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:43:59,330 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色幽默/犯罪（American Psycho）、惊悚/恐怖（Final Destination）、喜剧（Meet the Parents, Big Momma's House）以及一些cult风格电影（Showgirls, Supernova）。以下是重排后的推荐列表，最可能观看的放在前面：

21: Get Shorty
370: Naked Gun 33 1/3: The Final Insult
1722: Tomorrow Never Dies
122: Boomerang
428: Bronx Tale, A
3768: Braddock: Missing in Action III
2367: King Kong
3701: Alien Nation
1539: Twin Town
818: Very Brady Sequel, A
3420: ...And Justice for All
447: Favor, The
691: Mrs. Winterbourne
567: Kika
1563: Dream With the Fishes
1555: To Have, or Not
3824: Autumn in New York
1913: Picnic at Hanging Rock
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:43:59,330 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 33, 1, 3, 1722, 122, 428, 3768, 2367, 3701, 1539, 818, 3420, 447, 691, 567, 1563, 1555, 3824, 1913, 2609, 3756]
2025-05-09 22:43:59,330 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 33, 1, 3, 1722, 122, 428, 3768, 2367], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:43:59,330 - INFO - 样本 3 (Trial 7): NDCG@10 = 0.0000
2025-05-09 22:44:03,088 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近的观影记录，可以看出用户偏好动作片、犯罪剧情片和带有紧张刺激元素的电影（如《Mission to Mars》《Boiler Room》《Gone in 60 Seconds》《Shaft》《Romeo Must Die》等）。同时也有一些法律/真实事件改编的剧情片（《Erin Brockovich》）和运动题材（《Remember the Titans》）。

以下是重排后的电影ID列表，最可能观看的放在最前：

3107: Backdraft
1343: Cape Fear
1858: Mr. Nice Guy
373: Red Rock West
1236: Trust
1053: Normal Life
1758: Dangerous Beauty
614: Loaded
2507: Breakfast of Champions
3145: Cradle Will Rock, The
971: Cat on a Hot Tin Roof
1537: Shall We Dance? (Shall We Dansu?)
2997: Being John Malkovich
3325: Next Best Thing, The
3864: Godzilla 2000 (Gojira ni-sen mireniamu)
3933: Killer Shrews, The
3672: Benji
2566: Doug's 1st Movie
2049: Happiest Millionaire, The
1024: Three Caballeros, The

这个排序基于：
1. 优先选择动作/犯罪/惊悚类电影（Backdraft, Cape Fear等）
2. 其次是剧情片和真实事件改编类（Trust, Normal Life等）
3. 最后是明显不符合用户口味的儿童/动画/恐怖B级片
2025-05-09 22:44:03,089 - INFO - 模型输出解析 - 原始输出:
根据用户最近的观影记录，可以看出用户偏好动作片、犯罪剧情片和带有紧张刺激元素的电影（如《Mission to Mars》《Boiler Room》《Gone in 60 Seconds》《Shaft》《Romeo Must Die》等）。同时也有一些法律/真实事件改编的剧情片（《Erin Brockovich》）和运动题材（《Remember the Titans》）。

以下是重排后的电影ID列表，最可能观看的放在最前：

3107: Backdraft
1343: Cape Fear
1858: Mr. Nice Guy
373: Red Rock West
1236: Trust
1053: Normal Life
1758: Dangerous Beauty
614: Loaded
2507: Breakfast of Champions
3145: Cradle Will Rock, The
971: Cat on a Hot Tin Roof
1537: Shall We Dance? (Shall We Dansu?)
2997: Being John Malkovich
3325: Next Best Thing, The
3864: Godzilla 2000 (Gojira ni-sen mireniamu)
3933: Killer Shrews, The
3672: Benji
2566: Doug's 1st Movie
2049: Happiest Millionaire, The
1024: Three Caballeros, The

这个排序基于：
1. 优先选择动作/犯罪/惊悚类电影（Backdraft, Cape Fear等）
2. 其次是剧情片和真实事件改编类（Trust, Normal Life等）
3. 最后是明显不符合用户口味的儿童/动画/恐怖B级片
2025-05-09 22:44:03,089 - INFO - 模型输出解析 - 解析后电影ID列表: [60, 3107, 1343, 1858, 373, 1236, 1053, 1758, 614, 2507, 3145, 971, 1537, 2997, 3325, 3864, 2000, 3933, 3672, 2566, 1, 2049, 1024, 1, 2, 3]
2025-05-09 22:44:03,089 - INFO - NDCG计算 - 预测列表前10项: [60, 3107, 1343, 1858, 373, 1236, 1053, 1758, 614, 2507], 真实目标: 1758, NDCG@10: 0.31546487678572877
2025-05-09 22:44:03,089 - INFO - 样本 8 (Trial 7): NDCG@10 = 0.3155
2025-05-09 22:44:03,089 - INFO - 开始第 8/10 次评估
2025-05-09 22:44:03,147 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:03,160 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:03,162 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:03,215 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:03,216 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:03,216 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:03,232 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:03,233 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:03,233 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:03,248 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:14,394 - INFO - DeepSeek API 异步请求 - 模型输出:
3948: Meet the Parents
516: Renaissance Man
3618: Small Time Crooks
145: Bad Boys
1824: Homegrown
2227: Lodger, The
2160: Rosemary's Baby
1822: Meet the Deedles
2620: This Is My Father
1528: Intimate Relations
1671: Deceiver
3313: Class Reunion
8: Tom and Huck
2869: Separation, The (La Séparation)
3882: Bring It On
1317: I'm Not Rappaport
2374: Gung Ho
863: Celestial Clockwork
2993: Thunderball
2074: Night Porter, The (Il Portiere di notte)
2025-05-09 22:44:14,394 - INFO - 模型输出解析 - 原始输出:
3948: Meet the Parents
516: Renaissance Man
3618: Small Time Crooks
145: Bad Boys
1824: Homegrown
2227: Lodger, The
2160: Rosemary's Baby
1822: Meet the Deedles
2620: This Is My Father
1528: Intimate Relations
1671: Deceiver
3313: Class Reunion
8: Tom and Huck
2869: Separation, The (La Séparation)
3882: Bring It On
1317: I'm Not Rappaport
2374: Gung Ho
863: Celestial Clockwork
2993: Thunderball
2074: Night Porter, The (Il Portiere di notte)
2025-05-09 22:44:14,394 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 3618, 145, 1824, 2227, 2160, 1822, 2620, 1528, 1671, 3313, 8, 2869, 3882, 1317, 2374, 863, 2993, 2074]
2025-05-09 22:44:14,394 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 3618, 145, 1824, 2227, 2160, 1822, 2620, 1528], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:44:14,394 - INFO - 样本 4 (Trial 8): NDCG@10 = 1.0000
2025-05-09 22:44:16,203 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好喜剧、荒诞幽默和经典喜剧片。以下是重排后的电影ID列表，最可能观看的放最前：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
945: Top Hat
1145: Snowriders
3768: Braddock: Missing in Action III
3667: Rent-A-Cop
3709: Sleepwalkers
3474: Retroactive
2438: Outside Ozona
1365: Ridicule
29: City of Lost Children, The
3822: Girl on the Bridge, The (La Fille sur le Pont)
194: Smoke
2858: American Beauty
2705: Late August, Early September (Fin août, début septembre)
1263: Deer Hunter, The
2311: 2010
1797: Everest
2022: Last Temptation of Christ, The
2025-05-09 22:44:16,203 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好喜剧、荒诞幽默和经典喜剧片。以下是重排后的电影ID列表，最可能观看的放最前：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
945: Top Hat
1145: Snowriders
3768: Braddock: Missing in Action III
3667: Rent-A-Cop
3709: Sleepwalkers
3474: Retroactive
2438: Outside Ozona
1365: Ridicule
29: City of Lost Children, The
3822: Girl on the Bridge, The (La Fille sur le Pont)
194: Smoke
2858: American Beauty
2705: Late August, Early September (Fin août, début septembre)
1263: Deer Hunter, The
2311: 2010
1797: Everest
2022: Last Temptation of Christ, The
2025-05-09 22:44:16,203 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438, 1365, 29, 3822, 194, 2858, 2705, 1263, 2311, 2010, 1797, 2022]
2025-05-09 22:44:16,203 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:44:16,203 - INFO - 样本 1 (Trial 8): NDCG@10 = 1.0000
2025-05-09 22:44:16,443 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（动作冒险、惊悚、经典大片、奇幻题材），以下是重排后的电影ID列表，最可能观看的放最前：

2571: Matrix, The
3623: Mission: Impossible 2
2867: Fright Night
2550: Haunting, The
1483: Crash
3176: Talented Mr. Ripley, The
3219: Pacific Heights
1965: Repo Man
3878: X: The Unknown
3360: Hoosiers
249: Immortal Beloved
2154: How Stella Got Her Groove Back
381: When a Man Loves a Woman
1611: My Own Private Idaho
2943: Indochine
730: Low Life, The
803: Walking and Talking
3590: Lords of Flatbush, The
146: Amazing Panda Adventure, The
2129: Saltmen of Tibet, The
2025-05-09 22:44:16,443 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（动作冒险、惊悚、经典大片、奇幻题材），以下是重排后的电影ID列表，最可能观看的放最前：

2571: Matrix, The
3623: Mission: Impossible 2
2867: Fright Night
2550: Haunting, The
1483: Crash
3176: Talented Mr. Ripley, The
3219: Pacific Heights
1965: Repo Man
3878: X: The Unknown
3360: Hoosiers
249: Immortal Beloved
2154: How Stella Got Her Groove Back
381: When a Man Loves a Woman
1611: My Own Private Idaho
2943: Indochine
730: Low Life, The
803: Walking and Talking
3590: Lords of Flatbush, The
146: Amazing Panda Adventure, The
2129: Saltmen of Tibet, The
2025-05-09 22:44:16,444 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2, 2867, 2550, 1483, 3176, 3219, 1965, 3878, 3360, 249, 2154, 381, 1611, 2943, 730, 803, 3590, 146, 2129]
2025-05-09 22:44:16,444 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2, 2867, 2550, 1483, 3176, 3219, 1965, 3878], 真实目标: 3176, NDCG@10: 0.3333333333333333
2025-05-09 22:44:16,444 - INFO - 样本 7 (Trial 8): NDCG@10 = 0.3333
2025-05-09 22:44:17,215 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（科幻、惊悚、黑色幽默、经典电影、心理剧情片），以下是重排后的电影ID列表，最可能观看的放最前：

1590: Event Horizon  
3258: Death Becomes Her  
1965: Repo Man  
2318: Happiness  
1103: Rebel Without a Cause  
161: Crimson Tide  
2970: Fitzcarraldo  
1251: 8 1/2  
3723: Hamlet  
1880: Lawn Dogs  
396: Fall Time  
2210: Sabotage  
2637: Mummy's Hand, The  
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The  
3710: Action Jackson  
381: When a Man Loves a Woman  
3413: Impact  
2144: Sixteen Candles  
876: Police Story 4: Project S (Chao ji ji hua)  
3245: I Am Cuba (Soy Cuba/Ya Kuba)
2025-05-09 22:44:17,215 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（科幻、惊悚、黑色幽默、经典电影、心理剧情片），以下是重排后的电影ID列表，最可能观看的放最前：

1590: Event Horizon  
3258: Death Becomes Her  
1965: Repo Man  
2318: Happiness  
1103: Rebel Without a Cause  
161: Crimson Tide  
2970: Fitzcarraldo  
1251: 8 1/2  
3723: Hamlet  
1880: Lawn Dogs  
396: Fall Time  
2210: Sabotage  
2637: Mummy's Hand, The  
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The  
3710: Action Jackson  
381: When a Man Loves a Woman  
3413: Impact  
2144: Sixteen Candles  
876: Police Story 4: Project S (Chao ji ji hua)  
3245: I Am Cuba (Soy Cuba/Ya Kuba)
2025-05-09 22:44:17,215 - INFO - 模型输出解析 - 解析后电影ID列表: [1590, 3258, 1965, 2318, 1103, 161, 2970, 1251, 8, 1, 2, 3723, 1880, 396, 2210, 2637, 3695, 3710, 381, 3413, 2144, 876, 4, 3245]
2025-05-09 22:44:17,215 - INFO - NDCG计算 - 预测列表前10项: [1590, 3258, 1965, 2318, 1103, 161, 2970, 1251, 8, 1], 真实目标: 1965, NDCG@10: 0.5
2025-05-09 22:44:17,215 - INFO - 样本 9 (Trial 8): NDCG@10 = 0.5000
2025-05-09 22:44:17,842 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好剧情片、情感深刻的电影以及文学改编作品。以下是重排后的电影ID列表，最可能观看的放最前：

534: Shadowlands
3183: Third Miracle, The
3449: Good Mother, The
280: Murder in the First
1187: Passion Fish
1458: Touch
3497: Max Dugan Returns
3801: Anatomy of a Murder
1232: Stalker
607: Century
823: Collectionneuse, La
537: Sirens
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
1523: Truth or Consequences, N.M.
2644: Dracula
3247: Sister Act
2261: One Crazy Summer
370: Naked Gun 33 1/3: The Final Insult
2791: Airplane!
3790: Groove
2025-05-09 22:44:17,842 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好剧情片、情感深刻的电影以及文学改编作品。以下是重排后的电影ID列表，最可能观看的放最前：

534: Shadowlands
3183: Third Miracle, The
3449: Good Mother, The
280: Murder in the First
1187: Passion Fish
1458: Touch
3497: Max Dugan Returns
3801: Anatomy of a Murder
1232: Stalker
607: Century
823: Collectionneuse, La
537: Sirens
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
1523: Truth or Consequences, N.M.
2644: Dracula
3247: Sister Act
2261: One Crazy Summer
370: Naked Gun 33 1/3: The Final Insult
2791: Airplane!
3790: Groove
2025-05-09 22:44:17,842 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3183, 3449, 280, 1187, 1458, 3497, 3801, 1232, 607, 823, 537, 3761, 1523, 2644, 3247, 2261, 370, 33, 1, 3, 2791, 3790]
2025-05-09 22:44:17,842 - INFO - NDCG计算 - 预测列表前10项: [534, 3183, 3449, 280, 1187, 1458, 3497, 3801, 1232, 607], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:44:17,842 - INFO - 样本 5 (Trial 8): NDCG@10 = 1.0000
2025-05-09 22:44:18,395 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色喜剧/犯罪片（American Psycho）、惊悚片（Final Destination）、喜剧（Meet the Parents, Big Momma's House）以及一些cult风格电影（Showgirls, Supernova）。以下是重排后的推荐列表，最可能观看的在前：

21: Get Shorty
370: Naked Gun 33 1/3: The Final Insult
1722: Tomorrow Never Dies
2367: King Kong
122: Boomerang
428: Bronx Tale, A
3701: Alien Nation
3768: Braddock: Missing in Action III
1539: Twin Town
1563: Dream With the Fishes
818: Very Brady Sequel, A
447: Favor, The
691: Mrs. Winterbourne
1555: To Have, or Not
3420: ...And Justice for All
567: Kika
3824: Autumn in New York
1913: Picnic at Hanging Rock
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:44:18,395 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色喜剧/犯罪片（American Psycho）、惊悚片（Final Destination）、喜剧（Meet the Parents, Big Momma's House）以及一些cult风格电影（Showgirls, Supernova）。以下是重排后的推荐列表，最可能观看的在前：

21: Get Shorty
370: Naked Gun 33 1/3: The Final Insult
1722: Tomorrow Never Dies
2367: King Kong
122: Boomerang
428: Bronx Tale, A
3701: Alien Nation
3768: Braddock: Missing in Action III
1539: Twin Town
1563: Dream With the Fishes
818: Very Brady Sequel, A
447: Favor, The
691: Mrs. Winterbourne
1555: To Have, or Not
3420: ...And Justice for All
567: Kika
3824: Autumn in New York
1913: Picnic at Hanging Rock
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:44:18,395 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 33, 1, 3, 1722, 2367, 122, 428, 3701, 3768, 1539, 1563, 818, 447, 691, 1555, 3420, 567, 3824, 1913, 2609, 3756]
2025-05-09 22:44:18,395 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 33, 1, 3, 1722, 2367, 122, 428, 3701], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:44:18,395 - INFO - 样本 3 (Trial 8): NDCG@10 = 0.0000
2025-05-09 22:44:18,404 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好剧情丰富、有深度、带有艺术性或文学改编的电影（如《绿里奇迹》《离开拉斯维加斯》《邮差》），同时也有对经典/复古风格作品的兴趣（如《白日美人》《安东尼娅家族》）。以下是重排序的推荐列表：

1695: Artemisia  
1656: Swept from the Sea  
1844: Live Flesh  
3221: Draughtsman's Contract, The  
41: Richard III  
1829: Chinese Box  
2813: Source, The  
3516: Bell, Book and Candle  
3497: Max Dugan Returns  
3606: On the Town  
2755: Light of Day  
2579: Following  
3858: Cecil B. Demented  
396: Fall Time  
3303: Black Tar Heroin: The Dark End of the Street  
328: Tales From the Crypt Presents: Demon Knight  
2123: All Dogs Go to Heaven  
2720: Inspector Gadget  
1731: Mr. Magoo  
2795: Vacation
2025-05-09 22:44:18,404 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好剧情丰富、有深度、带有艺术性或文学改编的电影（如《绿里奇迹》《离开拉斯维加斯》《邮差》），同时也有对经典/复古风格作品的兴趣（如《白日美人》《安东尼娅家族》）。以下是重排序的推荐列表：

1695: Artemisia  
1656: Swept from the Sea  
1844: Live Flesh  
3221: Draughtsman's Contract, The  
41: Richard III  
1829: Chinese Box  
2813: Source, The  
3516: Bell, Book and Candle  
3497: Max Dugan Returns  
3606: On the Town  
2755: Light of Day  
2579: Following  
3858: Cecil B. Demented  
396: Fall Time  
3303: Black Tar Heroin: The Dark End of the Street  
328: Tales From the Crypt Presents: Demon Knight  
2123: All Dogs Go to Heaven  
2720: Inspector Gadget  
1731: Mr. Magoo  
2795: Vacation
2025-05-09 22:44:18,404 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 3221, 41, 1829, 2813, 3516, 3497, 3606, 2755, 2579, 3858, 396, 3303, 328, 2123, 2720, 1731, 2795]
2025-05-09 22:44:18,404 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 3221, 41, 1829, 2813, 3516, 3497, 3606], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:44:18,404 - INFO - 样本 0 (Trial 8): NDCG@10 = 1.0000
2025-05-09 22:44:18,591 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近观看的电影列表，可以看出用户偏好偏向于独立电影、文艺片、具有深刻情感或社会议题的电影，以及一些经典文学改编作品。基于这些特点，我将候选电影重新排序，将最可能观看的放在前面：

3251: Agnes of God  
887: Talk of Angels  
271: Losing Isaiah  
372: Reality Bites  
1259: Stand by Me  
3626: 8 1/2 Women  
1815: Eden  
359: I Like It Like That  
2249: My Blue Heaven  
3859: Eyes of Tammy Faye, The  
2960: Beefcake  
3378: Ogre, The (Der Unhold)  
3312: McCullochs, The  
185: Net, The  
3614: Honeymoon in Vegas  
2452: Gate II: Trespassers, The  
1375: Star Trek III: The Search for Spock  
2409: Rocky II  
2137: Charlotte's Web  
758: Jar, The (Khomreh)
2025-05-09 22:44:18,591 - INFO - 模型输出解析 - 原始输出:
根据用户最近观看的电影列表，可以看出用户偏好偏向于独立电影、文艺片、具有深刻情感或社会议题的电影，以及一些经典文学改编作品。基于这些特点，我将候选电影重新排序，将最可能观看的放在前面：

3251: Agnes of God  
887: Talk of Angels  
271: Losing Isaiah  
372: Reality Bites  
1259: Stand by Me  
3626: 8 1/2 Women  
1815: Eden  
359: I Like It Like That  
2249: My Blue Heaven  
3859: Eyes of Tammy Faye, The  
2960: Beefcake  
3378: Ogre, The (Der Unhold)  
3312: McCullochs, The  
185: Net, The  
3614: Honeymoon in Vegas  
2452: Gate II: Trespassers, The  
1375: Star Trek III: The Search for Spock  
2409: Rocky II  
2137: Charlotte's Web  
758: Jar, The (Khomreh)
2025-05-09 22:44:18,591 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 1259, 3626, 8, 1, 2, 1815, 359, 2249, 3859, 2960, 3378, 3312, 185, 3614, 2452, 1375, 2409, 2137, 758]
2025-05-09 22:44:18,591 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 1259, 3626, 8, 1, 2, 1815], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:44:18,591 - INFO - 样本 6 (Trial 8): NDCG@10 = 0.4307
2025-05-09 22:44:18,797 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近的观影记录，可以看出用户偏好动作片、剧情片和带有紧张刺激元素的电影（如《Mission to Mars》《Perfect Storm》《Gone in 60 Seconds》），同时也对现实题材和励志故事感兴趣（如《Erin Brockovich》《Remember the Titans》）。以下是重排后的电影ID列表，最可能观看的放在最前：

3107: Backdraft
1343: Cape Fear
1858: Mr. Nice Guy
373: Red Rock West
1758: Dangerous Beauty
1236: Trust
614: Loaded
2507: Breakfast of Champions
971: Cat on a Hot Tin Roof
1053: Normal Life
3145: Cradle Will Rock, The
1537: Shall We Dance? (Shall We Dansu?)
2997: Being John Malkovich
3325: Next Best Thing, The
3864: Godzilla 2000 (Gojira ni-sen mireniamu)
3933: Killer Shrews, The
3672: Benji
2566: Doug's 1st Movie
2049: Happiest Millionaire, The
1024: Three Caballeros, The
2025-05-09 22:44:18,797 - INFO - 模型输出解析 - 原始输出:
根据用户最近的观影记录，可以看出用户偏好动作片、剧情片和带有紧张刺激元素的电影（如《Mission to Mars》《Perfect Storm》《Gone in 60 Seconds》），同时也对现实题材和励志故事感兴趣（如《Erin Brockovich》《Remember the Titans》）。以下是重排后的电影ID列表，最可能观看的放在最前：

3107: Backdraft
1343: Cape Fear
1858: Mr. Nice Guy
373: Red Rock West
1758: Dangerous Beauty
1236: Trust
614: Loaded
2507: Breakfast of Champions
971: Cat on a Hot Tin Roof
1053: Normal Life
3145: Cradle Will Rock, The
1537: Shall We Dance? (Shall We Dansu?)
2997: Being John Malkovich
3325: Next Best Thing, The
3864: Godzilla 2000 (Gojira ni-sen mireniamu)
3933: Killer Shrews, The
3672: Benji
2566: Doug's 1st Movie
2049: Happiest Millionaire, The
1024: Three Caballeros, The
2025-05-09 22:44:18,797 - INFO - 模型输出解析 - 解析后电影ID列表: [60, 3107, 1343, 1858, 373, 1758, 1236, 614, 2507, 971, 1053, 3145, 1537, 2997, 3325, 3864, 2000, 3933, 3672, 2566, 1, 2049, 1024]
2025-05-09 22:44:18,797 - INFO - NDCG计算 - 预测列表前10项: [60, 3107, 1343, 1858, 373, 1758, 1236, 614, 2507, 971], 真实目标: 1758, NDCG@10: 0.3562071871080222
2025-05-09 22:44:18,797 - INFO - 样本 8 (Trial 8): NDCG@10 = 0.3562
2025-05-09 22:44:30,494 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户近期观看的电影列表，可以看出用户偏好科幻、动作冒险、经典IP续作以及带有超自然元素的电影（如《Stargate》《Tron》《X-Files》《Star Trek》等）。以下是重排后的推荐顺序，优先推荐同类型或相似风格的电影：

1. 2011: Back to the Future Part II（经典科幻续作，符合《Superman II》《Star Trek》偏好）
2. 3699: Starman（科幻+经典IP，类似《Superman》《Stargate》）
3. 2532: Conquest of the Planet of the Apes（科幻系列，类似《Star Trek》《Body Snatchers》）
4. 555: True Romance（动作+犯罪元素，接近《Strange Days》风格）
5. 515: Remains of the Day, The（经典文学改编，用户可能接受严肃题材）
6. 2467: Name of the Rose, The（历史悬疑，类似《X-Files》的推理元素）
7. 1541: Addicted to Love（浪漫喜剧，作为调剂）
8. 1257: Better Off Dead...（80年代经典喜剧）
9. 2562: Bandits（犯罪喜剧，风格较轻松）
10. 2482: Still Crazy（音乐喜剧）
11. 3557: Jennifer 8（犯罪惊悚）
12. 2703: Broken Vessels（独立电影）
13. 1357: Shine（传记剧情）
14. 1102: American Strays（独立犯罪片）
15. 1420: Message to Love: The Isle of Wight Festival（音乐纪录片）
16. 421: Black Beauty（家庭剧情）
17. 310: Rent-a-Kid（家庭喜剧）
18. 576: Fausto（艺术电影）
19. 3739: Trouble in Paradise（经典老片）
20. 1174: Grosse Fatigue（法国喜剧）

最终推荐ID排序：
2011, 3699, 2532, 555, 515, 2467, 1541, 1257, 2562, 2482, 3557, 2703, 1357, 1102, 1420, 421, 310, 576, 3739, 1174
2025-05-09 22:44:30,494 - INFO - 模型输出解析 - 原始输出:
根据用户近期观看的电影列表，可以看出用户偏好科幻、动作冒险、经典IP续作以及带有超自然元素的电影（如《Stargate》《Tron》《X-Files》《Star Trek》等）。以下是重排后的推荐顺序，优先推荐同类型或相似风格的电影：

1. 2011: Back to the Future Part II（经典科幻续作，符合《Superman II》《Star Trek》偏好）
2. 3699: Starman（科幻+经典IP，类似《Superman》《Stargate》）
3. 2532: Conquest of the Planet of the Apes（科幻系列，类似《Star Trek》《Body Snatchers》）
4. 555: True Romance（动作+犯罪元素，接近《Strange Days》风格）
5. 515: Remains of the Day, The（经典文学改编，用户可能接受严肃题材）
6. 2467: Name of the Rose, The（历史悬疑，类似《X-Files》的推理元素）
7. 1541: Addicted to Love（浪漫喜剧，作为调剂）
8. 1257: Better Off Dead...（80年代经典喜剧）
9. 2562: Bandits（犯罪喜剧，风格较轻松）
10. 2482: Still Crazy（音乐喜剧）
11. 3557: Jennifer 8（犯罪惊悚）
12. 2703: Broken Vessels（独立电影）
13. 1357: Shine（传记剧情）
14. 1102: American Strays（独立犯罪片）
15. 1420: Message to Love: The Isle of Wight Festival（音乐纪录片）
16. 421: Black Beauty（家庭剧情）
17. 310: Rent-a-Kid（家庭喜剧）
18. 576: Fausto（艺术电影）
19. 3739: Trouble in Paradise（经典老片）
20. 1174: Grosse Fatigue（法国喜剧）

最终推荐ID排序：
2011, 3699, 2532, 555, 515, 2467, 1541, 1257, 2562, 2482, 3557, 2703, 1357, 1102, 1420, 421, 310, 576, 3739, 1174
2025-05-09 22:44:30,494 - INFO - 模型输出解析 - 解析后电影ID列表: [1, 2011, 2, 3699, 3, 2532, 4, 555, 5, 515, 6, 2467, 7, 1541, 8, 1257, 80, 9, 2562, 10, 2482, 11, 3557, 8, 12, 2703, 13, 1357, 14, 1102, 15, 1420, 16, 421, 17, 310, 18, 576, 19, 3739, 20, 1174, 2011, 3699, 2532, 555, 515, 2467, 1541, 1257, 2562, 2482, 3557, 2703, 1357, 1102, 1420, 421, 310, 576, 3739, 1174]
2025-05-09 22:44:30,494 - INFO - NDCG计算 - 预测列表前10项: [1, 2011, 2, 3699, 3, 2532, 4, 555, 5, 515], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:44:30,494 - INFO - 样本 2 (Trial 8): NDCG@10 = 0.6309
2025-05-09 22:44:30,494 - INFO - 开始第 9/10 次评估
2025-05-09 22:44:30,547 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:30,620 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:30,625 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:30,626 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:30,626 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:30,627 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:30,630 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:30,633 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:30,633 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:30,651 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:40,921 - INFO - DeepSeek API 异步请求 - 模型输出:
3948: Meet the Parents
516: Renaissance Man
145: Bad Boys
8: Tom and Huck
3618: Small Time Crooks
1824: Homegrown
1822: Meet the Deedles
2374: Gung Ho
3882: Bring It On
2620: This Is My Father
1317: I'm Not Rappaport
1528: Intimate Relations
1671: Deceiver
2160: Rosemary's Baby
2227: Lodger, The
2869: Separation, The (La Séparation)
3313: Class Reunion
863: Celestial Clockwork
2993: Thunderball
2074: Night Porter, The (Il Portiere di notte)
2025-05-09 22:44:40,921 - INFO - 模型输出解析 - 原始输出:
3948: Meet the Parents
516: Renaissance Man
145: Bad Boys
8: Tom and Huck
3618: Small Time Crooks
1824: Homegrown
1822: Meet the Deedles
2374: Gung Ho
3882: Bring It On
2620: This Is My Father
1317: I'm Not Rappaport
1528: Intimate Relations
1671: Deceiver
2160: Rosemary's Baby
2227: Lodger, The
2869: Separation, The (La Séparation)
3313: Class Reunion
863: Celestial Clockwork
2993: Thunderball
2074: Night Porter, The (Il Portiere di notte)
2025-05-09 22:44:40,921 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 145, 8, 3618, 1824, 1822, 2374, 3882, 2620, 1317, 1528, 1671, 2160, 2227, 2869, 3313, 863, 2993, 2074]
2025-05-09 22:44:40,921 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 145, 8, 3618, 1824, 1822, 2374, 3882, 2620], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:44:40,921 - INFO - 样本 4 (Trial 9): NDCG@10 = 1.0000
2025-05-09 22:44:42,349 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（剧情片、文学改编、社会议题、浪漫元素），以下是重排后的电影ID列表：

3183: Third Miracle, The
534: Shadowlands
3449: Good Mother, The
280: Murder in the First
1187: Passion Fish
1458: Touch
3497: Max Dugan Returns
3801: Anatomy of a Murder
607: Century
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
1232: Stalker
537: Sirens
2644: Dracula
2261: One Crazy Summer
1523: Truth or Consequences, N.M.
823: Collectionneuse, La
3247: Sister Act
370: Naked Gun 33 1/3: The Final Insult
2791: Airplane!
3790: Groove
2025-05-09 22:44:42,350 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（剧情片、文学改编、社会议题、浪漫元素），以下是重排后的电影ID列表：

3183: Third Miracle, The
534: Shadowlands
3449: Good Mother, The
280: Murder in the First
1187: Passion Fish
1458: Touch
3497: Max Dugan Returns
3801: Anatomy of a Murder
607: Century
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
1232: Stalker
537: Sirens
2644: Dracula
2261: One Crazy Summer
1523: Truth or Consequences, N.M.
823: Collectionneuse, La
3247: Sister Act
370: Naked Gun 33 1/3: The Final Insult
2791: Airplane!
3790: Groove
2025-05-09 22:44:42,350 - INFO - 模型输出解析 - 解析后电影ID列表: [3183, 534, 3449, 280, 1187, 1458, 3497, 3801, 607, 3761, 1232, 537, 2644, 2261, 1523, 823, 3247, 370, 33, 1, 3, 2791, 3790]
2025-05-09 22:44:42,350 - INFO - NDCG计算 - 预测列表前10项: [3183, 534, 3449, 280, 1187, 1458, 3497, 3801, 607, 3761], 真实目标: 534, NDCG@10: 0.6309297535714575
2025-05-09 22:44:42,350 - INFO - 样本 5 (Trial 9): NDCG@10 = 0.6309
2025-05-09 22:44:43,095 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（偏向剧情片、文艺片、有一定深度的电影），以下是重排后的候选电影ID列表，最可能观看的放最前：

1695: Artemisia  
1844: Live Flesh  
3221: Draughtsman's Contract, The  
1656: Swept from the Sea  
41: Richard III  
1829: Chinese Box  
2813: Source, The  
3516: Bell, Book and Candle  
3497: Max Dugan Returns  
2579: Following  
3606: On the Town  
2755: Light of Day  
396: Fall Time  
3858: Cecil B. Demented  
3303: Black Tar Heroin: The Dark End of the Street  
328: Tales From the Crypt Presents: Demon Knight  
2123: All Dogs Go to Heaven  
2720: Inspector Gadget  
1731: Mr. Magoo  
2795: Vacation
2025-05-09 22:44:43,095 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（偏向剧情片、文艺片、有一定深度的电影），以下是重排后的候选电影ID列表，最可能观看的放最前：

1695: Artemisia  
1844: Live Flesh  
3221: Draughtsman's Contract, The  
1656: Swept from the Sea  
41: Richard III  
1829: Chinese Box  
2813: Source, The  
3516: Bell, Book and Candle  
3497: Max Dugan Returns  
2579: Following  
3606: On the Town  
2755: Light of Day  
396: Fall Time  
3858: Cecil B. Demented  
3303: Black Tar Heroin: The Dark End of the Street  
328: Tales From the Crypt Presents: Demon Knight  
2123: All Dogs Go to Heaven  
2720: Inspector Gadget  
1731: Mr. Magoo  
2795: Vacation
2025-05-09 22:44:43,095 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1844, 3221, 1656, 41, 1829, 2813, 3516, 3497, 2579, 3606, 2755, 396, 3858, 3303, 328, 2123, 2720, 1731, 2795]
2025-05-09 22:44:43,095 - INFO - NDCG计算 - 预测列表前10项: [1695, 1844, 3221, 1656, 41, 1829, 2813, 3516, 3497, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:44:43,095 - INFO - 样本 0 (Trial 9): NDCG@10 = 1.0000
2025-05-09 22:44:43,372 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（动作冒险、惊悚、经典电影、奇幻元素），以下是重排后的电影ID列表，最可能观看的放在最前面：

2571: Matrix, The  
3623: Mission: Impossible 2  
2867: Fright Night  
2550: Haunting, The  
1483: Crash  
3219: Pacific Heights  
3176: Talented Mr. Ripley, The  
1965: Repo Man  
3360: Hoosiers  
249: Immortal Beloved  
381: When a Man Loves a Woman  
2154: How Stella Got Her Groove Back  
1611: My Own Private Idaho  
2943: Indochine  
730: Low Life, The  
3878: X: The Unknown  
803: Walking and Talking  
146: Amazing Panda Adventure, The  
3590: Lords of Flatbush, The  
2129: Saltmen of Tibet, The
2025-05-09 22:44:43,372 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（动作冒险、惊悚、经典电影、奇幻元素），以下是重排后的电影ID列表，最可能观看的放在最前面：

2571: Matrix, The  
3623: Mission: Impossible 2  
2867: Fright Night  
2550: Haunting, The  
1483: Crash  
3219: Pacific Heights  
3176: Talented Mr. Ripley, The  
1965: Repo Man  
3360: Hoosiers  
249: Immortal Beloved  
381: When a Man Loves a Woman  
2154: How Stella Got Her Groove Back  
1611: My Own Private Idaho  
2943: Indochine  
730: Low Life, The  
3878: X: The Unknown  
803: Walking and Talking  
146: Amazing Panda Adventure, The  
3590: Lords of Flatbush, The  
2129: Saltmen of Tibet, The
2025-05-09 22:44:43,372 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2, 2867, 2550, 1483, 3219, 3176, 1965, 3360, 249, 381, 2154, 1611, 2943, 730, 3878, 803, 146, 3590, 2129]
2025-05-09 22:44:43,372 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2, 2867, 2550, 1483, 3219, 3176, 1965, 3360], 真实目标: 3176, NDCG@10: 0.31546487678572877
2025-05-09 22:44:43,372 - INFO - 样本 7 (Trial 9): NDCG@10 = 0.3155
2025-05-09 22:44:43,536 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（科幻、动作、黑色幽默、心理惊悚、经典电影等），以下是重排后的电影ID列表，最可能观看的放前面：

1590: Event Horizon  
161: Crimson Tide  
1103: Rebel Without a Cause  
3258: Death Becomes Her  
1965: Repo Man  
2318: Happiness  
3710: Action Jackson  
2210: Sabotage  
1880: Lawn Dogs  
2637: Mummy's Hand, The  
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The  
396: Fall Time  
3413: Impact  
2970: Fitzcarraldo  
3723: Hamlet  
876: Police Story 4: Project S (Chao ji ji hua)  
2144: Sixteen Candles  
1251: 8 1/2  
3245: I Am Cuba (Soy Cuba/Ya Kuba)  
381: When a Man Loves a Woman
2025-05-09 22:44:43,536 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（科幻、动作、黑色幽默、心理惊悚、经典电影等），以下是重排后的电影ID列表，最可能观看的放前面：

1590: Event Horizon  
161: Crimson Tide  
1103: Rebel Without a Cause  
3258: Death Becomes Her  
1965: Repo Man  
2318: Happiness  
3710: Action Jackson  
2210: Sabotage  
1880: Lawn Dogs  
2637: Mummy's Hand, The  
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The  
396: Fall Time  
3413: Impact  
2970: Fitzcarraldo  
3723: Hamlet  
876: Police Story 4: Project S (Chao ji ji hua)  
2144: Sixteen Candles  
1251: 8 1/2  
3245: I Am Cuba (Soy Cuba/Ya Kuba)  
381: When a Man Loves a Woman
2025-05-09 22:44:43,536 - INFO - 模型输出解析 - 解析后电影ID列表: [1590, 161, 1103, 3258, 1965, 2318, 3710, 2210, 1880, 2637, 3695, 396, 3413, 2970, 3723, 876, 4, 2144, 1251, 8, 1, 2, 3245, 381]
2025-05-09 22:44:43,536 - INFO - NDCG计算 - 预测列表前10项: [1590, 161, 1103, 3258, 1965, 2318, 3710, 2210, 1880, 2637], 真实目标: 1965, NDCG@10: 0.38685280723454163
2025-05-09 22:44:43,536 - INFO - 样本 9 (Trial 9): NDCG@10 = 0.3869
2025-05-09 22:44:43,690 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近观看的电影列表，可以看出用户偏好独立电影、文艺片、带有社会议题或情感深度的作品，以及一些经典文学改编电影。基于这些特点，我将候选电影重新排序，将最可能观看的放在前面：

3251: Agnes of God
887: Talk of Angels
271: Losing Isaiah
372: Reality Bites
1815: Eden
359: I Like It Like That
3859: Eyes of Tammy Faye, The
3626: 8 1/2 Women
2249: My Blue Heaven
1259: Stand by Me
2960: Beefcake
2137: Charlotte's Web
3378: Ogre, The (Der Unhold)
3312: McCullochs, The
185: Net, The
3614: Honeymoon in Vegas
2452: Gate II: Trespassers, The
1375: Star Trek III: The Search for Spock
2409: Rocky II
758: Jar, The (Khomreh)
2025-05-09 22:44:43,690 - INFO - 模型输出解析 - 原始输出:
根据用户最近观看的电影列表，可以看出用户偏好独立电影、文艺片、带有社会议题或情感深度的作品，以及一些经典文学改编电影。基于这些特点，我将候选电影重新排序，将最可能观看的放在前面：

3251: Agnes of God
887: Talk of Angels
271: Losing Isaiah
372: Reality Bites
1815: Eden
359: I Like It Like That
3859: Eyes of Tammy Faye, The
3626: 8 1/2 Women
2249: My Blue Heaven
1259: Stand by Me
2960: Beefcake
2137: Charlotte's Web
3378: Ogre, The (Der Unhold)
3312: McCullochs, The
185: Net, The
3614: Honeymoon in Vegas
2452: Gate II: Trespassers, The
1375: Star Trek III: The Search for Spock
2409: Rocky II
758: Jar, The (Khomreh)
2025-05-09 22:44:43,690 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 1815, 359, 3859, 3626, 8, 1, 2, 2249, 1259, 2960, 2137, 3378, 3312, 185, 3614, 2452, 1375, 2409, 758]
2025-05-09 22:44:43,690 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 1815, 359, 3859, 3626, 8, 1], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:44:43,690 - INFO - 样本 6 (Trial 9): NDCG@10 = 0.4307
2025-05-09 22:44:44,458 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近观看的电影列表，可以看出用户偏好科幻、动作、冒险类电影，尤其是带有经典科幻元素（如《星际之门》《超人2》《星际迷航》）、反乌托邦设定（《疯狂的麦克斯》）以及外星/超自然主题（《独立日》《X档案》）。以下是重排后的电影ID列表，最可能观看的放在前面：

3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
2562: Bandits
3557: Jennifer 8
515: Remains of the Day, The
1541: Addicted to Love
1257: Better Off Dead...
2467: Name of the Rose, The
2482: Still Crazy
2703: Broken Vessels
1357: Shine
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 22:44:44,458 - INFO - 模型输出解析 - 原始输出:
根据用户最近观看的电影列表，可以看出用户偏好科幻、动作、冒险类电影，尤其是带有经典科幻元素（如《星际之门》《超人2》《星际迷航》）、反乌托邦设定（《疯狂的麦克斯》）以及外星/超自然主题（《独立日》《X档案》）。以下是重排后的电影ID列表，最可能观看的放在前面：

3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
2562: Bandits
3557: Jennifer 8
515: Remains of the Day, The
1541: Addicted to Love
1257: Better Off Dead...
2467: Name of the Rose, The
2482: Still Crazy
2703: Broken Vessels
1357: Shine
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 22:44:44,458 - INFO - 模型输出解析 - 解析后电影ID列表: [2, 3699, 2011, 2532, 555, 2562, 3557, 8, 515, 1541, 1257, 2467, 2482, 2703, 1357, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 22:44:44,458 - INFO - NDCG计算 - 预测列表前10项: [2, 3699, 2011, 2532, 555, 2562, 3557, 8, 515, 1541], 真实目标: 2011, NDCG@10: 0.5
2025-05-09 22:44:44,458 - INFO - 样本 2 (Trial 9): NDCG@10 = 0.5000
2025-05-09 22:44:45,067 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色幽默/犯罪（American Psycho）、惊悚/恐怖（Final Destination）、喜剧（Meet the Parents, Big Momma's House）以及一些cult风格作品（Showgirls, Supernova）。以下是重排后的推荐列表，优先考虑类似风格的电影：

370: Naked Gun 33 1/3: The Final Insult
21: Get Shorty
122: Boomerang
1722: Tomorrow Never Dies
3768: Braddock: Missing in Action III
2367: King Kong
3701: Alien Nation
1539: Twin Town
428: Bronx Tale, A
1563: Dream With the Fishes
1555: To Have, or Not
3420: ...And Justice for All
447: Favor, The
818: Very Brady Sequel, A
691: Mrs. Winterbourne
567: Kika
3824: Autumn in New York
1913: Picnic at Hanging Rock
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:44:45,067 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好混合了动作片（Gladiator）、黑色幽默/犯罪（American Psycho）、惊悚/恐怖（Final Destination）、喜剧（Meet the Parents, Big Momma's House）以及一些cult风格作品（Showgirls, Supernova）。以下是重排后的推荐列表，优先考虑类似风格的电影：

370: Naked Gun 33 1/3: The Final Insult
21: Get Shorty
122: Boomerang
1722: Tomorrow Never Dies
3768: Braddock: Missing in Action III
2367: King Kong
3701: Alien Nation
1539: Twin Town
428: Bronx Tale, A
1563: Dream With the Fishes
1555: To Have, or Not
3420: ...And Justice for All
447: Favor, The
818: Very Brady Sequel, A
691: Mrs. Winterbourne
567: Kika
3824: Autumn in New York
1913: Picnic at Hanging Rock
2609: King of Masks, The (Bian Lian)
3756: Golden Bowl, The
2025-05-09 22:44:45,067 - INFO - 模型输出解析 - 解析后电影ID列表: [370, 33, 1, 3, 21, 122, 1722, 3768, 2367, 3701, 1539, 428, 1563, 1555, 3420, 447, 818, 691, 567, 3824, 1913, 2609, 3756]
2025-05-09 22:44:45,067 - INFO - NDCG计算 - 预测列表前10项: [370, 33, 1, 3, 21, 122, 1722, 3768, 2367, 3701], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:44:45,067 - INFO - 样本 3 (Trial 9): NDCG@10 = 0.0000
2025-05-09 22:44:45,593 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近观看的电影列表，可以看出用户偏好动作/冒险类（Mission to Mars, Gone in 60 Seconds, Romeo Must Die）、剧情/传记类（Erin Brockovich, Remember the Titans）、以及带有紧张刺激元素的电影（Perfect Storm, The, Boiler Room, Shaft）。以下是重排后的候选电影ID列表，最可能观看的放在最前：

3107: Backdraft
1858: Mr. Nice Guy
1343: Cape Fear
373: Red Rock West
1758: Dangerous Beauty
1236: Trust
614: Loaded
1053: Normal Life
3145: Cradle Will Rock, The
2507: Breakfast of Champions
2997: Being John Malkovich
1537: Shall We Dance? (Shall We Dansu?)
971: Cat on a Hot Tin Roof
3325: Next Best Thing, The
3864: Godzilla 2000 (Gojira ni-sen mireniamu)
3933: Killer Shrews, The
3672: Benji
2566: Doug's 1st Movie
2049: Happiest Millionaire, The
1024: Three Caballeros, The
2025-05-09 22:44:45,593 - INFO - 模型输出解析 - 原始输出:
根据用户最近观看的电影列表，可以看出用户偏好动作/冒险类（Mission to Mars, Gone in 60 Seconds, Romeo Must Die）、剧情/传记类（Erin Brockovich, Remember the Titans）、以及带有紧张刺激元素的电影（Perfect Storm, The, Boiler Room, Shaft）。以下是重排后的候选电影ID列表，最可能观看的放在最前：

3107: Backdraft
1858: Mr. Nice Guy
1343: Cape Fear
373: Red Rock West
1758: Dangerous Beauty
1236: Trust
614: Loaded
1053: Normal Life
3145: Cradle Will Rock, The
2507: Breakfast of Champions
2997: Being John Malkovich
1537: Shall We Dance? (Shall We Dansu?)
971: Cat on a Hot Tin Roof
3325: Next Best Thing, The
3864: Godzilla 2000 (Gojira ni-sen mireniamu)
3933: Killer Shrews, The
3672: Benji
2566: Doug's 1st Movie
2049: Happiest Millionaire, The
1024: Three Caballeros, The
2025-05-09 22:44:45,593 - INFO - 模型输出解析 - 解析后电影ID列表: [60, 3107, 1858, 1343, 373, 1758, 1236, 614, 1053, 3145, 2507, 2997, 1537, 971, 3325, 3864, 2000, 3933, 3672, 2566, 1, 2049, 1024]
2025-05-09 22:44:45,593 - INFO - NDCG计算 - 预测列表前10项: [60, 3107, 1858, 1343, 373, 1758, 1236, 614, 1053, 3145], 真实目标: 1758, NDCG@10: 0.3562071871080222
2025-05-09 22:44:45,593 - INFO - 样本 8 (Trial 9): NDCG@10 = 0.3562
2025-05-09 22:44:49,813 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好喜剧、荒诞幽默和经典喜剧片，特别是带有恶搞或讽刺性质的电影（如《Animal House》《Blazing Saddles》《Monty Python》系列）。以下是重排后的推荐顺序：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
945: Top Hat
3667: Rent-A-Cop
3768: Braddock: Missing in Action III
3709: Sleepwalkers
2438: Outside Ozona
3474: Retroactive
1365: Ridicule
29: City of Lost Children, The
3822: Girl on the Bridge, The (La Fille sur le Pont)
194: Smoke
2858: American Beauty
2022: Last Temptation of Christ, The
2705: Late August, Early September (Fin août, début septembre)
1263: Deer Hunter, The
2311: 2010
1797: Everest
1145: Snowriders

优先推荐理由：
1. 《Up in Smoke》和《Kingpin》是经典无厘头喜剧，符合用户对《The Jerk》等片的喜好
2. 《Great Race》和《Top Hat》是经典歌舞喜剧，接近《Grease》风格
3. 动作喜剧如《Rent-A-Cop》《Braddock》满足《Kelly's Heroes》的战争喜剧元素
4. 超现实/黑色幽默类（如《City of Lost Children》）排在中间位置
5. 严肃剧情片（《Deer Hunter》《American Beauty》）和艺术片排在最后
2025-05-09 22:44:49,813 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好喜剧、荒诞幽默和经典喜剧片，特别是带有恶搞或讽刺性质的电影（如《Animal House》《Blazing Saddles》《Monty Python》系列）。以下是重排后的推荐顺序：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
945: Top Hat
3667: Rent-A-Cop
3768: Braddock: Missing in Action III
3709: Sleepwalkers
2438: Outside Ozona
3474: Retroactive
1365: Ridicule
29: City of Lost Children, The
3822: Girl on the Bridge, The (La Fille sur le Pont)
194: Smoke
2858: American Beauty
2022: Last Temptation of Christ, The
2705: Late August, Early September (Fin août, début septembre)
1263: Deer Hunter, The
2311: 2010
1797: Everest
1145: Snowriders

优先推荐理由：
1. 《Up in Smoke》和《Kingpin》是经典无厘头喜剧，符合用户对《The Jerk》等片的喜好
2. 《Great Race》和《Top Hat》是经典歌舞喜剧，接近《Grease》风格
3. 动作喜剧如《Rent-A-Cop》《Braddock》满足《Kelly's Heroes》的战争喜剧元素
4. 超现实/黑色幽默类（如《City of Lost Children》）排在中间位置
5. 严肃剧情片（《Deer Hunter》《American Beauty》）和艺术片排在最后
2025-05-09 22:44:49,814 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 3667, 3768, 3709, 2438, 3474, 1365, 29, 3822, 194, 2858, 2022, 2705, 1263, 2311, 2010, 1797, 1145, 1, 2, 3, 4, 5]
2025-05-09 22:44:49,814 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 3667, 3768, 3709, 2438, 3474, 1365], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:44:49,814 - INFO - 样本 1 (Trial 9): NDCG@10 = 1.0000
2025-05-09 22:44:49,814 - INFO - 开始第 10/10 次评估
2025-05-09 22:44:49,865 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:49,867 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:49,868 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:49,938 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:49,938 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:49,941 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:49,942 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:49,942 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:49,946 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:44:49,952 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:00,237 - INFO - DeepSeek API 异步请求 - 模型输出:
3948: Meet the Parents
516: Renaissance Man
3618: Small Time Crooks
1824: Homegrown
145: Bad Boys
2227: Lodger, The
2160: Rosemary's Baby
1671: Deceiver
1822: Meet the Deedles
8: Tom and Huck
2620: This Is My Father
1528: Intimate Relations
3313: Class Reunion
1317: I'm Not Rappaport
2374: Gung Ho
2869: Separation, The (La Séparation)
863: Celestial Clockwork
2993: Thunderball
2074: Night Porter, The (Il Portiere di notte)
2025-05-09 22:45:00,237 - INFO - 模型输出解析 - 原始输出:
3948: Meet the Parents
516: Renaissance Man
3618: Small Time Crooks
1824: Homegrown
145: Bad Boys
2227: Lodger, The
2160: Rosemary's Baby
1671: Deceiver
1822: Meet the Deedles
8: Tom and Huck
2620: This Is My Father
1528: Intimate Relations
3313: Class Reunion
1317: I'm Not Rappaport
2374: Gung Ho
2869: Separation, The (La Séparation)
863: Celestial Clockwork
2993: Thunderball
2074: Night Porter, The (Il Portiere di notte)
2025-05-09 22:45:00,237 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 3618, 1824, 145, 2227, 2160, 1671, 1822, 8, 2620, 1528, 3313, 1317, 2374, 2869, 863, 2993, 2074]
2025-05-09 22:45:00,237 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 3618, 1824, 145, 2227, 2160, 1671, 1822, 8], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:45:00,237 - INFO - 样本 4 (Trial 10): NDCG@10 = 1.0000
2025-05-09 22:45:01,784 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好剧情片、情感深刻的电影以及文学改编作品。以下是重排后的电影ID列表，最可能观看的放最前：

534: Shadowlands
3183: Third Miracle, The
3449: Good Mother, The
280: Murder in the First
1187: Passion Fish
3801: Anatomy of a Murder
1458: Touch
3497: Max Dugan Returns
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
2644: Dracula
1232: Stalker
607: Century
823: Collectionneuse, La
537: Sirens
2261: One Crazy Summer
3247: Sister Act
2791: Airplane!
370: Naked Gun 33 1/3: The Final Insult
1523: Truth or Consequences, N.M.
3790: Groove
2025-05-09 22:45:01,784 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好剧情片、情感深刻的电影以及文学改编作品。以下是重排后的电影ID列表，最可能观看的放最前：

534: Shadowlands
3183: Third Miracle, The
3449: Good Mother, The
280: Murder in the First
1187: Passion Fish
3801: Anatomy of a Murder
1458: Touch
3497: Max Dugan Returns
3761: Blood In, Blood Out (a.k.a. Bound by Honor)
2644: Dracula
1232: Stalker
607: Century
823: Collectionneuse, La
537: Sirens
2261: One Crazy Summer
3247: Sister Act
2791: Airplane!
370: Naked Gun 33 1/3: The Final Insult
1523: Truth or Consequences, N.M.
3790: Groove
2025-05-09 22:45:01,784 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3183, 3449, 280, 1187, 3801, 1458, 3497, 3761, 2644, 1232, 607, 823, 537, 2261, 3247, 2791, 370, 33, 1, 3, 1523, 3790]
2025-05-09 22:45:01,784 - INFO - NDCG计算 - 预测列表前10项: [534, 3183, 3449, 280, 1187, 3801, 1458, 3497, 3761, 2644], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:45:01,784 - INFO - 样本 5 (Trial 10): NDCG@10 = 1.0000
2025-05-09 22:45:02,115 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好经典喜剧、无厘头幽默和轻松愉快的电影风格。以下是重排后的推荐列表：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
1145: Snowriders
945: Top Hat
3768: Braddock: Missing in Action III
3667: Rent-A-Cop
3709: Sleepwalkers
3474: Retroactive
2438: Outside Ozona
1365: Ridicule
29: City of Lost Children, The
3822: Girl on the Bridge, The (La Fille sur le Pont)
194: Smoke
2858: American Beauty
2022: Last Temptation of Christ, The
2705: Late August, Early September (Fin août, début septembre)
1263: Deer Hunter, The
2311: 2010
1797: Everest
2025-05-09 22:45:02,115 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好经典喜剧、无厘头幽默和轻松愉快的电影风格。以下是重排后的推荐列表：

1194: Up in Smoke
785: Kingpin
1083: Great Race, The
1145: Snowriders
945: Top Hat
3768: Braddock: Missing in Action III
3667: Rent-A-Cop
3709: Sleepwalkers
3474: Retroactive
2438: Outside Ozona
1365: Ridicule
29: City of Lost Children, The
3822: Girl on the Bridge, The (La Fille sur le Pont)
194: Smoke
2858: American Beauty
2022: Last Temptation of Christ, The
2705: Late August, Early September (Fin août, début septembre)
1263: Deer Hunter, The
2311: 2010
1797: Everest
2025-05-09 22:45:02,115 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 1145, 945, 3768, 3667, 3709, 3474, 2438, 1365, 29, 3822, 194, 2858, 2022, 2705, 1263, 2311, 2010, 1797]
2025-05-09 22:45:02,115 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 1145, 945, 3768, 3667, 3709, 3474, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:45:02,115 - INFO - 样本 1 (Trial 10): NDCG@10 = 1.0000
2025-05-09 22:45:02,159 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出用户偏好剧情片、文艺片和有一定深度的电影，同时包含一些经典作品和欧洲电影。以下是重排后的推荐列表：

1695: Artemisia
1656: Swept from the Sea
1844: Live Flesh
3221: Draughtsman's Contract, The
41: Richard III
1829: Chinese Box
2813: Source, The
3516: Bell, Book and Candle
3497: Max Dugan Returns
2579: Following
3606: On the Town
2755: Light of Day
3858: Cecil B. Demented
396: Fall Time
3303: Black Tar Heroin: The Dark End of the Street
328: Tales From the Crypt Presents: Demon Knight
2123: All Dogs Go to Heaven
2720: Inspector Gadget
1731: Mr. Magoo
2795: Vacation
2025-05-09 22:45:02,159 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出用户偏好剧情片、文艺片和有一定深度的电影，同时包含一些经典作品和欧洲电影。以下是重排后的推荐列表：

1695: Artemisia
1656: Swept from the Sea
1844: Live Flesh
3221: Draughtsman's Contract, The
41: Richard III
1829: Chinese Box
2813: Source, The
3516: Bell, Book and Candle
3497: Max Dugan Returns
2579: Following
3606: On the Town
2755: Light of Day
3858: Cecil B. Demented
396: Fall Time
3303: Black Tar Heroin: The Dark End of the Street
328: Tales From the Crypt Presents: Demon Knight
2123: All Dogs Go to Heaven
2720: Inspector Gadget
1731: Mr. Magoo
2795: Vacation
2025-05-09 22:45:02,159 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 3221, 41, 1829, 2813, 3516, 3497, 2579, 3606, 2755, 3858, 396, 3303, 328, 2123, 2720, 1731, 2795]
2025-05-09 22:45:02,159 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 3221, 41, 1829, 2813, 3516, 3497, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:45:02,159 - INFO - 样本 0 (Trial 10): NDCG@10 = 1.0000
2025-05-09 22:45:02,342 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（动作冒险、惊悚、经典电影、奇幻元素），以下是重排后的电影ID列表，最可能观看的放最前：

2571: Matrix, The
3623: Mission: Impossible 2
2867: Fright Night
2550: Haunting, The
1483: Crash
3176: Talented Mr. Ripley, The
3219: Pacific Heights
1965: Repo Man
3360: Hoosiers
249: Immortal Beloved
381: When a Man Loves a Woman
2154: How Stella Got Her Groove Back
1611: My Own Private Idaho
3878: X: The Unknown
2943: Indochine
730: Low Life, The
803: Walking and Talking
146: Amazing Panda Adventure, The
3590: Lords of Flatbush, The
2129: Saltmen of Tibet, The
2025-05-09 22:45:02,342 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（动作冒险、惊悚、经典电影、奇幻元素），以下是重排后的电影ID列表，最可能观看的放最前：

2571: Matrix, The
3623: Mission: Impossible 2
2867: Fright Night
2550: Haunting, The
1483: Crash
3176: Talented Mr. Ripley, The
3219: Pacific Heights
1965: Repo Man
3360: Hoosiers
249: Immortal Beloved
381: When a Man Loves a Woman
2154: How Stella Got Her Groove Back
1611: My Own Private Idaho
3878: X: The Unknown
2943: Indochine
730: Low Life, The
803: Walking and Talking
146: Amazing Panda Adventure, The
3590: Lords of Flatbush, The
2129: Saltmen of Tibet, The
2025-05-09 22:45:02,343 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2, 2867, 2550, 1483, 3176, 3219, 1965, 3360, 249, 381, 2154, 1611, 3878, 2943, 730, 803, 146, 3590, 2129]
2025-05-09 22:45:02,343 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2, 2867, 2550, 1483, 3176, 3219, 1965, 3360], 真实目标: 3176, NDCG@10: 0.3333333333333333
2025-05-09 22:45:02,343 - INFO - 样本 7 (Trial 10): NDCG@10 = 0.3333
2025-05-09 22:45:02,343 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近观看的电影列表，可以看出用户偏好偏向于独立电影、文艺片、剧情片以及一些具有深刻情感或社会议题的作品。以下是根据这些偏好对候选电影的重排推荐：

3251: Agnes of God  
887: Talk of Angels  
271: Losing Isaiah  
372: Reality Bites  
1259: Stand by Me  
1815: Eden  
359: I Like It Like That  
3626: 8 1/2 Women  
2249: My Blue Heaven  
3859: Eyes of Tammy Faye, The  
2960: Beefcake  
3378: Ogre, The (Der Unhold)  
3312: McCullochs, The  
185: Net, The  
3614: Honeymoon in Vegas  
2452: Gate II: Trespassers, The  
1375: Star Trek III: The Search for Spock  
2409: Rocky II  
2137: Charlotte's Web  
758: Jar, The (Khomreh)
2025-05-09 22:45:02,344 - INFO - 模型输出解析 - 原始输出:
根据用户最近观看的电影列表，可以看出用户偏好偏向于独立电影、文艺片、剧情片以及一些具有深刻情感或社会议题的作品。以下是根据这些偏好对候选电影的重排推荐：

3251: Agnes of God  
887: Talk of Angels  
271: Losing Isaiah  
372: Reality Bites  
1259: Stand by Me  
1815: Eden  
359: I Like It Like That  
3626: 8 1/2 Women  
2249: My Blue Heaven  
3859: Eyes of Tammy Faye, The  
2960: Beefcake  
3378: Ogre, The (Der Unhold)  
3312: McCullochs, The  
185: Net, The  
3614: Honeymoon in Vegas  
2452: Gate II: Trespassers, The  
1375: Star Trek III: The Search for Spock  
2409: Rocky II  
2137: Charlotte's Web  
758: Jar, The (Khomreh)
2025-05-09 22:45:02,344 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 1259, 1815, 359, 3626, 8, 1, 2, 2249, 3859, 2960, 3378, 3312, 185, 3614, 2452, 1375, 2409, 2137, 758]
2025-05-09 22:45:02,344 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 1259, 1815, 359, 3626, 8, 1], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:45:02,344 - INFO - 样本 6 (Trial 10): NDCG@10 = 0.4307
2025-05-09 22:45:02,885 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史，可以看出他们偏好动作片、黑色幽默、惊悚元素和带有暴力/犯罪主题的电影（如《角斗士》《美国精神病人》《死神来了》），同时也喜欢一些轻松喜剧（如《拜见岳父大人》《大妈妈之家》）。以下是重排序后的电影ID列表，最可能观看的放在前面：

21
370
1722
2367
122
1563
428
1555
1539
447
818
691
3420
3701
3768
567
1913
3824
2609
3756

这个排序将动作片（《007之明日帝国》《金刚》）、黑色幽默（《矮子当道》《白头神探3》）、犯罪题材（《布朗克斯的故事》）和轻松喜剧（《布oomerang》）优先排列，而将文艺片和严肃剧情片放在后面。
2025-05-09 22:45:02,886 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史，可以看出他们偏好动作片、黑色幽默、惊悚元素和带有暴力/犯罪主题的电影（如《角斗士》《美国精神病人》《死神来了》），同时也喜欢一些轻松喜剧（如《拜见岳父大人》《大妈妈之家》）。以下是重排序后的电影ID列表，最可能观看的放在前面：

21
370
1722
2367
122
1563
428
1555
1539
447
818
691
3420
3701
3768
567
1913
3824
2609
3756

这个排序将动作片（《007之明日帝国》《金刚》）、黑色幽默（《矮子当道》《白头神探3》）、犯罪题材（《布朗克斯的故事》）和轻松喜剧（《布oomerang》）优先排列，而将文艺片和严肃剧情片放在后面。
2025-05-09 22:45:02,886 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 1722, 2367, 122, 1563, 428, 1555, 1539, 447, 818, 691, 3420, 3701, 3768, 567, 1913, 3824, 2609, 3756, 7, 3]
2025-05-09 22:45:02,886 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 1722, 2367, 122, 1563, 428, 1555, 1539, 447], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:45:02,886 - INFO - 样本 3 (Trial 10): NDCG@10 = 0.0000
2025-05-09 22:45:03,757 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户观看历史中展现的偏好（科幻、动作、黑色幽默、心理惊悚、经典电影等），以下是重排后的电影ID列表，最可能观看的放最前：

1590: Event Horizon  
161: Crimson Tide  
3258: Death Becomes Her  
2210: Sabotage  
3710: Action Jackson  
1965: Repo Man  
1103: Rebel Without a Cause  
2318: Happiness  
2637: Mummy's Hand, The  
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The  
1880: Lawn Dogs  
396: Fall Time  
381: When a Man Loves a Woman  
2144: Sixteen Candles  
3723: Hamlet  
1251: 8 1/2  
3245: I Am Cuba (Soy Cuba/Ya Kuba)  
876: Police Story 4: Project S (Chao ji ji hua)  
2970: Fitzcarraldo  
3413: Impact
2025-05-09 22:45:03,757 - INFO - 模型输出解析 - 原始输出:
根据用户观看历史中展现的偏好（科幻、动作、黑色幽默、心理惊悚、经典电影等），以下是重排后的电影ID列表，最可能观看的放最前：

1590: Event Horizon  
161: Crimson Tide  
3258: Death Becomes Her  
2210: Sabotage  
3710: Action Jackson  
1965: Repo Man  
1103: Rebel Without a Cause  
2318: Happiness  
2637: Mummy's Hand, The  
3695: Toxic Avenger Part III: The Last Temptation of Toxie, The  
1880: Lawn Dogs  
396: Fall Time  
381: When a Man Loves a Woman  
2144: Sixteen Candles  
3723: Hamlet  
1251: 8 1/2  
3245: I Am Cuba (Soy Cuba/Ya Kuba)  
876: Police Story 4: Project S (Chao ji ji hua)  
2970: Fitzcarraldo  
3413: Impact
2025-05-09 22:45:03,757 - INFO - 模型输出解析 - 解析后电影ID列表: [1590, 161, 3258, 2210, 3710, 1965, 1103, 2318, 2637, 3695, 1880, 396, 381, 2144, 3723, 1251, 8, 1, 2, 3245, 876, 4, 2970, 3413]
2025-05-09 22:45:03,757 - INFO - NDCG计算 - 预测列表前10项: [1590, 161, 3258, 2210, 3710, 1965, 1103, 2318, 2637, 3695], 真实目标: 1965, NDCG@10: 0.3562071871080222
2025-05-09 22:45:03,757 - INFO - 样本 9 (Trial 10): NDCG@10 = 0.3562
2025-05-09 22:45:04,305 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户近期观看的电影列表，可以看出用户偏好科幻、动作冒险、经典科幻续集以及带有神秘/超自然元素的电影。以下是重排后的候选电影ID列表，最可能观看的放最前：

3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
3557: Jennifer 8
2562: Bandits
515: Remains of the Day, The
2467: Name of the Rose, The
1541: Addicted to Love
1257: Better Off Dead...
2482: Still Crazy
2703: Broken Vessels
1357: Shine
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 22:45:04,305 - INFO - 模型输出解析 - 原始输出:
根据用户近期观看的电影列表，可以看出用户偏好科幻、动作冒险、经典科幻续集以及带有神秘/超自然元素的电影。以下是重排后的候选电影ID列表，最可能观看的放最前：

3699: Starman
2011: Back to the Future Part II
2532: Conquest of the Planet of the Apes
555: True Romance
3557: Jennifer 8
2562: Bandits
515: Remains of the Day, The
2467: Name of the Rose, The
1541: Addicted to Love
1257: Better Off Dead...
2482: Still Crazy
2703: Broken Vessels
1357: Shine
1102: American Strays
1420: Message to Love: The Isle of Wight Festival
421: Black Beauty
1174: Grosse Fatigue
310: Rent-a-Kid
576: Fausto
3739: Trouble in Paradise
2025-05-09 22:45:04,305 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 3557, 8, 2562, 515, 2467, 1541, 1257, 2482, 2703, 1357, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 22:45:04,305 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 3557, 8, 2562, 515, 2467, 1541], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:45:04,305 - INFO - 样本 2 (Trial 10): NDCG@10 = 0.6309
2025-05-09 22:45:04,506 - INFO - DeepSeek API 异步请求 - 模型输出:
根据用户最近的观影记录，可以看出他们偏好动作片、犯罪剧情片和带有紧张刺激元素的电影（如《Mission to Mars》《Boiler Room》《Gone in 60 Seconds》《Shaft》《Romeo Must Die》），同时也对一些情感剧情片有兴趣（如《Erin Brockovich》《Remember the Titans》）。

以下是重排后的电影ID列表，最可能观看的放在最前：

3107: Backdraft
1858: Mr. Nice Guy
373: Red Rock West
1343: Cape Fear
1236: Trust
1758: Dangerous Beauty
614: Loaded
2507: Breakfast of Champions
971: Cat on a Hot Tin Roof
1053: Normal Life
3145: Cradle Will Rock, The
1537: Shall We Dance? (Shall We Dansu?)
2997: Being John Malkovich
3864: Godzilla 2000 (Gojira ni-sen mireniamu)
3933: Killer Shrews, The
3325: Next Best Thing, The
3672: Benji
2566: Doug's 1st Movie
2049: Happiest Millionaire, The
1024: Three Caballeros, The
2025-05-09 22:45:04,506 - INFO - 模型输出解析 - 原始输出:
根据用户最近的观影记录，可以看出他们偏好动作片、犯罪剧情片和带有紧张刺激元素的电影（如《Mission to Mars》《Boiler Room》《Gone in 60 Seconds》《Shaft》《Romeo Must Die》），同时也对一些情感剧情片有兴趣（如《Erin Brockovich》《Remember the Titans》）。

以下是重排后的电影ID列表，最可能观看的放在最前：

3107: Backdraft
1858: Mr. Nice Guy
373: Red Rock West
1343: Cape Fear
1236: Trust
1758: Dangerous Beauty
614: Loaded
2507: Breakfast of Champions
971: Cat on a Hot Tin Roof
1053: Normal Life
3145: Cradle Will Rock, The
1537: Shall We Dance? (Shall We Dansu?)
2997: Being John Malkovich
3864: Godzilla 2000 (Gojira ni-sen mireniamu)
3933: Killer Shrews, The
3325: Next Best Thing, The
3672: Benji
2566: Doug's 1st Movie
2049: Happiest Millionaire, The
1024: Three Caballeros, The
2025-05-09 22:45:04,506 - INFO - 模型输出解析 - 解析后电影ID列表: [60, 3107, 1858, 373, 1343, 1236, 1758, 614, 2507, 971, 1053, 3145, 1537, 2997, 3864, 2000, 3933, 3325, 3672, 2566, 1, 2049, 1024]
2025-05-09 22:45:04,508 - INFO - NDCG计算 - 预测列表前10项: [60, 3107, 1858, 373, 1343, 1236, 1758, 614, 2507, 971], 真实目标: 1758, NDCG@10: 0.3333333333333333
2025-05-09 22:45:04,508 - INFO - 样本 8 (Trial 10): NDCG@10 = 0.3333
2025-05-09 22:45:04,508 - INFO - Trial 1 平均 NDCG@10: 0.6044
2025-05-09 22:45:04,509 - INFO - Trial 2 平均 NDCG@10: 0.5359
2025-05-09 22:45:04,509 - INFO - Trial 3 平均 NDCG@10: 0.5693
2025-05-09 22:45:04,509 - INFO - Trial 4 平均 NDCG@10: 0.6034
2025-05-09 22:45:04,509 - INFO - Trial 5 平均 NDCG@10: 0.6159
2025-05-09 22:45:04,510 - INFO - Trial 6 平均 NDCG@10: 0.5751
2025-05-09 22:45:04,510 - INFO - Trial 7 平均 NDCG@10: 0.5698
2025-05-09 22:45:04,510 - INFO - Trial 8 平均 NDCG@10: 0.6251
2025-05-09 22:45:04,510 - INFO - Trial 9 平均 NDCG@10: 0.5620
2025-05-09 22:45:04,510 - INFO - Trial 10 平均 NDCG@10: 0.6084
2025-05-09 22:45:04,510 - INFO - 策略 expert_instruction_id_first_plain 总体平均 NDCG@10: 0.5869
2025-05-09 22:45:04,510 - INFO - 样本 0: 平均 NDCG@10 = 0.8667, 标准差 = 0.2667
2025-05-09 22:45:04,510 - INFO - 样本 1: 平均 NDCG@10 = 0.8524, 标准差 = 0.1808
2025-05-09 22:45:04,511 - INFO - 样本 2: 平均 NDCG@10 = 0.7896, 标准差 = 0.2762
2025-05-09 22:45:04,511 - INFO - 样本 3: 平均 NDCG@10 = 0.6726, 标准差 = 0.2885
2025-05-09 22:45:04,511 - INFO - 样本 4: 平均 NDCG@10 = 0.5177, 标准差 = 0.1988
2025-05-09 22:45:04,511 - INFO - 样本 5: 平均 NDCG@10 = 0.4887, 标准差 = 0.2960
2025-05-09 22:45:04,511 - INFO - 样本 6: 平均 NDCG@10 = 0.4954, 标准差 = 0.3648
2025-05-09 22:45:04,511 - INFO - 样本 7: 平均 NDCG@10 = 0.3799, 标准差 = 0.2620
2025-05-09 22:45:04,512 - INFO - 样本 8: 平均 NDCG@10 = 0.3130, 标准差 = 0.3137
2025-05-09 22:45:04,512 - INFO - 样本 9: 平均 NDCG@10 = 0.4934, 标准差 = 0.3036
2025-05-09 22:45:04,513 - INFO - 详细结果已保存至: results_detailed\eval_expert_instruction_id_first_plain_20250509_224504.json
2025-05-09 22:45:04,513 - INFO - 样本得分CSV已保存至: results_detailed\sample_scores_expert_instruction_id_first_plain.csv
2025-05-09 22:45:04,513 - INFO - 
===== 评估策略: analyst_question_name_first_timestamped ======
2025-05-09 22:45:04,513 - INFO - 
===== 开始评估策略: analyst_question_name_first_timestamped ======
2025-05-09 22:45:04,534 - INFO - 开始第 1/10 次评估
2025-05-09 22:45:04,737 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:04,737 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:04,737 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:04,738 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:04,738 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:04,738 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:04,738 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:04,739 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:04,739 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:04,739 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:17,207 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、经典电影和奇幻类），以下是重新排序的候选电影ID列表：

[3623, 2571, 2867, 3176, 2550, 3219, 1483, 1965, 2154, 381, 249, 3360, 2129, 2943, 3878, 803, 1611, 146, 3590, 730]

排序理由：
1. 优先推荐动作/惊悚类电影（Mission: Impossible 2, The Matrix）
2. 其次是悬疑惊悚类（The Talented Mr. Ripley, The Haunting）
3. 然后是剧情类但有一定紧张感的电影（Crash, Pacific Heights）
4. 最后是文艺片和纪录片等与用户历史偏好差异较大的类型
2025-05-09 22:45:17,207 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、经典电影和奇幻类），以下是重新排序的候选电影ID列表：

[3623, 2571, 2867, 3176, 2550, 3219, 1483, 1965, 2154, 381, 249, 3360, 2129, 2943, 3878, 803, 1611, 146, 3590, 730]

排序理由：
1. 优先推荐动作/惊悚类电影（Mission: Impossible 2, The Matrix）
2. 其次是悬疑惊悚类（The Talented Mr. Ripley, The Haunting）
3. 然后是剧情类但有一定紧张感的电影（Crash, Pacific Heights）
4. 最后是文艺片和纪录片等与用户历史偏好差异较大的类型
2025-05-09 22:45:17,207 - INFO - 模型输出解析 - 解析后电影ID列表: [3623, 2571, 2867, 3176, 2550, 3219, 1483, 1965, 2154, 381, 249, 3360, 2129, 2943, 3878, 803, 1611, 146, 3590, 730, 1, 2, 2, 3, 4]
2025-05-09 22:45:17,207 - INFO - NDCG计算 - 预测列表前10项: [3623, 2571, 2867, 3176, 2550, 3219, 1483, 1965, 2154, 381], 真实目标: 3176, NDCG@10: 0.43067655807339306
2025-05-09 22:45:17,207 - INFO - 样本 7 (Trial 1): NDCG@10 = 0.4307
2025-05-09 22:45:17,686 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文学改编作品和带有社会议题的电影。以下是重排后的候选电影ID列表：

[534, 1187, 3183, 3449, 280, 537, 607, 823, 1232, 1458, 1523, 2261, 2644, 3247, 370, 3790, 3497, 3761, 2791, 3801]

排序理由：
1. 优先选择剧情深刻、文学改编或社会议题相关的电影（如Shadowlands, Passion Fish等）
2. 其次考虑轻喜剧和轻松题材（如Sister Act）
3. 最后是动作/犯罪类和纯喜剧类电影
4. 非常风格化或类型特殊的电影（如Airplane!）排在较后位置
2025-05-09 22:45:17,686 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文学改编作品和带有社会议题的电影。以下是重排后的候选电影ID列表：

[534, 1187, 3183, 3449, 280, 537, 607, 823, 1232, 1458, 1523, 2261, 2644, 3247, 370, 3790, 3497, 3761, 2791, 3801]

排序理由：
1. 优先选择剧情深刻、文学改编或社会议题相关的电影（如Shadowlands, Passion Fish等）
2. 其次考虑轻喜剧和轻松题材（如Sister Act）
3. 最后是动作/犯罪类和纯喜剧类电影
4. 非常风格化或类型特殊的电影（如Airplane!）排在较后位置
2025-05-09 22:45:17,686 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 1187, 3183, 3449, 280, 537, 607, 823, 1232, 1458, 1523, 2261, 2644, 3247, 370, 3790, 3497, 3761, 2791, 3801, 1, 2, 3, 4]
2025-05-09 22:45:17,686 - INFO - NDCG计算 - 预测列表前10项: [534, 1187, 3183, 3449, 280, 537, 607, 823, 1232, 1458], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:45:17,686 - INFO - 样本 5 (Trial 1): NDCG@10 = 1.0000
2025-05-09 22:45:20,004 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的喜剧/幽默风格电影（Animal House, Monty Python, Blazing Saddles等），我将优先推荐同类型的喜剧电影，并考虑年代相近（1970-1980年代）的作品。以下是重排序的ID列表：

[785, 1194, 1083, 945, 194, 3822, 1365, 29, 1263, 2311, 2022, 2858, 2438, 3709, 3474, 1797, 3768, 2705, 3667, 1145]

推荐理由：
1. Kingpin (785) - 与用户观看的Blazing Saddles同属荒诞喜剧
2. Up in Smoke (1194) - 与Animal House同类型的青春喜剧
3. Great Race (1083) - 经典喜剧，年代与用户偏好匹配
4. Top Hat (945) - 经典音乐喜剧，与Grease类型相似
5. Smoke (194) - 文艺喜剧，作为类型补充

后续ID保持原候选集顺序，但优先级低于明显匹配的喜剧类型电影。
2025-05-09 22:45:20,004 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的喜剧/幽默风格电影（Animal House, Monty Python, Blazing Saddles等），我将优先推荐同类型的喜剧电影，并考虑年代相近（1970-1980年代）的作品。以下是重排序的ID列表：

[785, 1194, 1083, 945, 194, 3822, 1365, 29, 1263, 2311, 2022, 2858, 2438, 3709, 3474, 1797, 3768, 2705, 3667, 1145]

推荐理由：
1. Kingpin (785) - 与用户观看的Blazing Saddles同属荒诞喜剧
2. Up in Smoke (1194) - 与Animal House同类型的青春喜剧
3. Great Race (1083) - 经典喜剧，年代与用户偏好匹配
4. Top Hat (945) - 经典音乐喜剧，与Grease类型相似
5. Smoke (194) - 文艺喜剧，作为类型补充

后续ID保持原候选集顺序，但优先级低于明显匹配的喜剧类型电影。
2025-05-09 22:45:20,004 - INFO - 模型输出解析 - 解析后电影ID列表: [1970, 1980, 785, 1194, 1083, 945, 194, 3822, 1365, 29, 1263, 2311, 2022, 2858, 2438, 3709, 3474, 1797, 3768, 2705, 3667, 1145, 1, 785, 2, 1194, 3, 1083, 4, 945, 5, 194]
2025-05-09 22:45:20,004 - INFO - NDCG计算 - 预测列表前10项: [1970, 1980, 785, 1194, 1083, 945, 194, 3822, 1365, 29], 真实目标: 1194, NDCG@10: 0.43067655807339306
2025-05-09 22:45:20,004 - INFO - 样本 1 (Trial 1): NDCG@10 = 0.4307
2025-05-09 22:45:20,465 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看记录的分析，这些电影主要涵盖历史剧情、浪漫喜剧、惊悚悬疑等类型。以下是重排后的候选电影ID列表，综合考虑了类型匹配、年代特征和用户可能的观影偏好：

[3948, 3882, 2160, 145, 2993, 516, 1824, 1671, 2227, 3618, 8, 1528, 1317, 2374, 2074, 2620, 1822, 2869, 3313, 863]

排序理由：
1. Meet the Parents (3948) - 浪漫喜剧，类似Runaway Bride
2. Bring It On (3882) - 青春喜剧，类似South Park的轻松风格
3. Rosemary's Baby (2160) - 心理惊悚，类似The Sixth Sense
4. Bad Boys (145) - 动作犯罪，类似The Thomas Crown Affair
5. Thunderball (2993) - 经典谍战，类似The Talented Mr. Ripley
6-20位继续按类型相似度和年代匹配度排列
2025-05-09 22:45:20,465 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看记录的分析，这些电影主要涵盖历史剧情、浪漫喜剧、惊悚悬疑等类型。以下是重排后的候选电影ID列表，综合考虑了类型匹配、年代特征和用户可能的观影偏好：

[3948, 3882, 2160, 145, 2993, 516, 1824, 1671, 2227, 3618, 8, 1528, 1317, 2374, 2074, 2620, 1822, 2869, 3313, 863]

排序理由：
1. Meet the Parents (3948) - 浪漫喜剧，类似Runaway Bride
2. Bring It On (3882) - 青春喜剧，类似South Park的轻松风格
3. Rosemary's Baby (2160) - 心理惊悚，类似The Sixth Sense
4. Bad Boys (145) - 动作犯罪，类似The Thomas Crown Affair
5. Thunderball (2993) - 经典谍战，类似The Talented Mr. Ripley
6-20位继续按类型相似度和年代匹配度排列
2025-05-09 22:45:20,465 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 3882, 2160, 145, 2993, 516, 1824, 1671, 2227, 3618, 8, 1528, 1317, 2374, 2074, 2620, 1822, 2869, 3313, 863, 1, 3948, 2, 3882, 3, 2160, 4, 145, 5, 2993, 6, 20]
2025-05-09 22:45:20,465 - INFO - NDCG计算 - 预测列表前10项: [3948, 3882, 2160, 145, 2993, 516, 1824, 1671, 2227, 3618], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:45:20,465 - INFO - 样本 4 (Trial 1): NDCG@10 = 1.0000
2025-05-09 22:45:21,498 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好混合了动作片（Gladiator）、惊悚片（American Psycho, Final Destination）、喜剧片（Meet the Parents, Big Momma's House）和一些另类电影（Showgirls, Supernova）。以下是重排后的候选电影ID列表：

[370, 21, 122, 1722, 428, 447, 691, 818, 1555, 1539, 1563, 1913, 2367, 2609, 3420, 3756, 3768, 3824, 567, 3701]

排序理由：
1. Naked Gun 33 1/3 (370) - 与Meet the Parents类似的喜剧
2. Get Shorty (21) - 犯罪喜剧，类似American Psycho的黑色幽默
3. Boomerang (122) - 浪漫喜剧，类似Big Momma's House
4. Tomorrow Never Dies (1722) - 动作片，类似Gladiator
5. Bronx Tale (428) - 犯罪剧情片，类似American Psycho
6. The Favor (447) - 黑色喜剧，类似American Psycho
7. Mrs. Winterbourne (691) - 浪漫喜剧
8. Very Brady Sequel (818) - 家庭喜剧
9-20. 其余电影按类型相似度排序
2025-05-09 22:45:21,498 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好混合了动作片（Gladiator）、惊悚片（American Psycho, Final Destination）、喜剧片（Meet the Parents, Big Momma's House）和一些另类电影（Showgirls, Supernova）。以下是重排后的候选电影ID列表：

[370, 21, 122, 1722, 428, 447, 691, 818, 1555, 1539, 1563, 1913, 2367, 2609, 3420, 3756, 3768, 3824, 567, 3701]

排序理由：
1. Naked Gun 33 1/3 (370) - 与Meet the Parents类似的喜剧
2. Get Shorty (21) - 犯罪喜剧，类似American Psycho的黑色幽默
3. Boomerang (122) - 浪漫喜剧，类似Big Momma's House
4. Tomorrow Never Dies (1722) - 动作片，类似Gladiator
5. Bronx Tale (428) - 犯罪剧情片，类似American Psycho
6. The Favor (447) - 黑色喜剧，类似American Psycho
7. Mrs. Winterbourne (691) - 浪漫喜剧
8. Very Brady Sequel (818) - 家庭喜剧
9-20. 其余电影按类型相似度排序
2025-05-09 22:45:21,498 - INFO - 模型输出解析 - 解析后电影ID列表: [370, 21, 122, 1722, 428, 447, 691, 818, 1555, 1539, 1563, 1913, 2367, 2609, 3420, 3756, 3768, 3824, 567, 3701, 1, 33, 1, 3, 370, 2, 21, 3, 122, 4, 1722, 5, 428, 6, 447, 7, 691, 8, 818, 9, 20]
2025-05-09 22:45:21,498 - INFO - NDCG计算 - 预测列表前10项: [370, 21, 122, 1722, 428, 447, 691, 818, 1555, 1539], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:45:21,498 - INFO - 样本 3 (Trial 1): NDCG@10 = 0.0000
2025-05-09 22:45:21,502 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户观看历史中的文艺片、独立电影和剧情片偏好，我重新排序候选电影如下：

1. Agnes of God (ID:3251) - 宗教题材剧情片，符合用户偏好的严肃主题
2. Talk of Angels (ID:887) - 文艺剧情片，与用户观看的《Little Women》等风格相似
3. I Like It Like That (ID:359) - 都市剧情片，类似用户看过的《SLC Punk!》的城市题材
4. Reality Bites (ID:372) - 90年代文艺片，符合用户对《High Art》等独立电影的偏好
5. Eden (ID:1815) - 文艺剧情片
6. 8 1/2 Women (ID:3626) - 艺术电影，但可能过于实验性
7. Losing Isaiah (ID:271) - 剧情片但偏主流
8. The Net (ID:185) - 科技惊悚片，与用户历史关联度较低
9. Stand by Me (ID:1259) - 经典成长故事但风格不符
10. My Blue Heaven (ID:2249) - 喜剧片，偏离用户偏好

剩余ID因类型差异过大未列入主要推荐。这个排序优先考虑了与用户历史观看中展现的文艺片、独立电影和严肃剧情片偏好相匹配的作品。
2025-05-09 22:45:21,502 - INFO - 模型输出解析 - 原始输出:
基于用户观看历史中的文艺片、独立电影和剧情片偏好，我重新排序候选电影如下：

1. Agnes of God (ID:3251) - 宗教题材剧情片，符合用户偏好的严肃主题
2. Talk of Angels (ID:887) - 文艺剧情片，与用户观看的《Little Women》等风格相似
3. I Like It Like That (ID:359) - 都市剧情片，类似用户看过的《SLC Punk!》的城市题材
4. Reality Bites (ID:372) - 90年代文艺片，符合用户对《High Art》等独立电影的偏好
5. Eden (ID:1815) - 文艺剧情片
6. 8 1/2 Women (ID:3626) - 艺术电影，但可能过于实验性
7. Losing Isaiah (ID:271) - 剧情片但偏主流
8. The Net (ID:185) - 科技惊悚片，与用户历史关联度较低
9. Stand by Me (ID:1259) - 经典成长故事但风格不符
10. My Blue Heaven (ID:2249) - 喜剧片，偏离用户偏好

剩余ID因类型差异过大未列入主要推荐。这个排序优先考虑了与用户历史观看中展现的文艺片、独立电影和严肃剧情片偏好相匹配的作品。
2025-05-09 22:45:21,502 - INFO - 模型输出解析 - 解析后电影ID列表: [1, 3251, 2, 887, 3, 359, 4, 372, 90, 5, 1815, 6, 8, 1, 2, 3626, 7, 271, 8, 185, 9, 1259, 10, 2249]
2025-05-09 22:45:21,502 - INFO - NDCG计算 - 预测列表前10项: [1, 3251, 2, 887, 3, 359, 4, 372, 90, 5], 真实目标: 372, NDCG@10: 0.31546487678572877
2025-05-09 22:45:21,502 - INFO - 样本 6 (Trial 1): NDCG@10 = 0.3155
2025-05-09 22:45:22,297 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、犯罪片和剧情片。以下是重排后的候选电影ID列表：

[1858, 1343, 3107, 1236, 373, 1758, 3325, 1537, 2997, 971, 3145, 2507, 1024, 3864, 2049, 2566, 3933, 3672, 1053, 614]

排序理由：
1. Mr. Nice Guy (1858) - 动作片，符合用户近期观看的Romeo Must Die等动作片偏好
2. Cape Fear (1343) - 犯罪惊悚片，与Shaft等犯罪题材相似
3. Backdraft (3107) - 动作剧情片，类似Perfect Storm的灾难动作元素
4. Trust (1236) - 犯罪剧情片
5. Red Rock West (373) - 犯罪惊悚片
6. Dangerous Beauty (1758) - 剧情片，类似Erin Brockovich的女性主角剧情
7. Next Best Thing (3325) - 剧情片
8. Shall We Dance? (1537) - 剧情片
9. Being John Malkovich (2997) - 独特剧情片
10. Cat on a Hot Tin Roof (971) - 经典剧情片
其余电影根据类型相似度降序排列
2025-05-09 22:45:22,297 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、犯罪片和剧情片。以下是重排后的候选电影ID列表：

[1858, 1343, 3107, 1236, 373, 1758, 3325, 1537, 2997, 971, 3145, 2507, 1024, 3864, 2049, 2566, 3933, 3672, 1053, 614]

排序理由：
1. Mr. Nice Guy (1858) - 动作片，符合用户近期观看的Romeo Must Die等动作片偏好
2. Cape Fear (1343) - 犯罪惊悚片，与Shaft等犯罪题材相似
3. Backdraft (3107) - 动作剧情片，类似Perfect Storm的灾难动作元素
4. Trust (1236) - 犯罪剧情片
5. Red Rock West (373) - 犯罪惊悚片
6. Dangerous Beauty (1758) - 剧情片，类似Erin Brockovich的女性主角剧情
7. Next Best Thing (3325) - 剧情片
8. Shall We Dance? (1537) - 剧情片
9. Being John Malkovich (2997) - 独特剧情片
10. Cat on a Hot Tin Roof (971) - 经典剧情片
其余电影根据类型相似度降序排列
2025-05-09 22:45:22,297 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 1343, 3107, 1236, 373, 1758, 3325, 1537, 2997, 971, 3145, 2507, 1024, 3864, 2049, 2566, 3933, 3672, 1053, 614, 1, 1858, 2, 1343, 3, 3107, 4, 1236, 5, 373, 6, 1758, 7, 3325, 8, 1537, 9, 2997, 10, 971]
2025-05-09 22:45:22,297 - INFO - NDCG计算 - 预测列表前10项: [1858, 1343, 3107, 1236, 373, 1758, 3325, 1537, 2997, 971], 真实目标: 1758, NDCG@10: 0.3562071871080222
2025-05-09 22:45:22,297 - INFO - 样本 8 (Trial 1): NDCG@10 = 0.3562
2025-05-09 22:45:23,783 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate, Tron, Independence Day, Star Trek等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的电影：

[2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482, 2703, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739]

排序理由：
1. Back to the Future Part II (2011) - 经典科幻续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/冒险元素
5. Jennifer 8 (3557) - 惊悚/科幻元素
6. Addicted to Love (1541) - 轻松浪漫喜剧
7. The Remains of the Day (515) - 剧情片
8. Shine (1357) - 传记剧情片
9. The Name of the Rose (2467) - 历史悬疑
10. Still Crazy (2482) - 音乐喜剧
2025-05-09 22:45:23,783 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate, Tron, Independence Day, Star Trek等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的电影：

[2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482, 2703, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739]

排序理由：
1. Back to the Future Part II (2011) - 经典科幻续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/冒险元素
5. Jennifer 8 (3557) - 惊悚/科幻元素
6. Addicted to Love (1541) - 轻松浪漫喜剧
7. The Remains of the Day (515) - 剧情片
8. Shine (1357) - 传记剧情片
9. The Name of the Rose (2467) - 历史悬疑
10. Still Crazy (2482) - 音乐喜剧
2025-05-09 22:45:23,783 - INFO - 模型输出解析 - 解析后电影ID列表: [2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482, 2703, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739, 1, 2011, 2, 3699, 3, 2532, 4, 555, 5, 8, 3557, 6, 1541, 7, 515, 8, 1357, 9, 2467, 10, 2482]
2025-05-09 22:45:23,783 - INFO - NDCG计算 - 预测列表前10项: [2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482], 真实目标: 2011, NDCG@10: 1.0
2025-05-09 22:45:23,783 - INFO - 样本 2 (Trial 1): NDCG@10 = 1.0000
2025-05-09 22:45:25,606 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户观看历史中的电影类型和风格，我注意到用户偏好混合了科幻、黑色幽默、经典剧情片和惊悚元素。以下是重排后的候选电影ID列表：

[1590, 161, 1103, 2318, 1880, 3258, 1251, 2144, 1965, 2970, 2210, 396, 3710, 2637, 3695, 381, 3413, 3723, 876, 3245]

排序理由：
1. Event Horizon (1590) - 科幻惊悚，类似Terminator 2和28 Days
2. Crimson Tide (161) - 紧张剧情片，类似From Russia with Love
3. Rebel Without a Cause (1103) - 经典剧情片，类似Edward Scissorhands
4. Happiness (2318) - 黑色幽默，类似Boogie Nights和High Fidelity
5. Lawn Dogs (1880) - 另类剧情片，类似After Life
6. Death Becomes Her (3258) - 黑色喜剧，类似Edward Scissorhands风格
7. 8 1/2 (1251) - 艺术电影，类似After Life的哲思性
8. Sixteen Candles (2144) - 青春喜剧，类似High Fidelity的调性
2025-05-09 22:45:25,606 - INFO - 模型输出解析 - 原始输出:
基于用户观看历史中的电影类型和风格，我注意到用户偏好混合了科幻、黑色幽默、经典剧情片和惊悚元素。以下是重排后的候选电影ID列表：

[1590, 161, 1103, 2318, 1880, 3258, 1251, 2144, 1965, 2970, 2210, 396, 3710, 2637, 3695, 381, 3413, 3723, 876, 3245]

排序理由：
1. Event Horizon (1590) - 科幻惊悚，类似Terminator 2和28 Days
2. Crimson Tide (161) - 紧张剧情片，类似From Russia with Love
3. Rebel Without a Cause (1103) - 经典剧情片，类似Edward Scissorhands
4. Happiness (2318) - 黑色幽默，类似Boogie Nights和High Fidelity
5. Lawn Dogs (1880) - 另类剧情片，类似After Life
6. Death Becomes Her (3258) - 黑色喜剧，类似Edward Scissorhands风格
7. 8 1/2 (1251) - 艺术电影，类似After Life的哲思性
8. Sixteen Candles (2144) - 青春喜剧，类似High Fidelity的调性
2025-05-09 22:45:25,606 - INFO - 模型输出解析 - 解析后电影ID列表: [1590, 161, 1103, 2318, 1880, 3258, 1251, 2144, 1965, 2970, 2210, 396, 3710, 2637, 3695, 381, 3413, 3723, 876, 3245, 1, 1590, 2, 28, 2, 161, 3, 1103, 4, 2318, 5, 1880, 6, 3258, 7, 8, 1, 2, 1251, 8, 2144]
2025-05-09 22:45:25,606 - INFO - NDCG计算 - 预测列表前10项: [1590, 161, 1103, 2318, 1880, 3258, 1251, 2144, 1965, 2970], 真实目标: 1965, NDCG@10: 0.3010299956639812
2025-05-09 22:45:25,606 - INFO - 样本 9 (Trial 1): NDCG@10 = 0.3010
2025-05-09 22:45:28,297 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有轻松喜剧（如《The Money Pit》《Speechless》）和女性视角作品（如《Antonia's Line》《Belle de jour》）。以下是重排后的候选电影ID列表：

[1844, 1695, 1829, 2813, 41, 3221, 1656, 3516, 3858, 2579, 2755, 3497, 396, 3606, 2795, 328, 2123, 2720, 1731, 3303]

排序理由：
1. **Live Flesh (1844)** - 阿莫多瓦作品，与《Belle de jour》同属欧洲艺术电影
2. **Artemisia (1695)** - 女性艺术家传记片，类似《Antonia's Line》的性别视角
3. **Chinese Box (1829)** - 王家卫参与，文艺风格匹配《Il Postino》
4. **The Source (2813)** - 作家传记片，呼应《Leaving Las Vegas》的深沉主题
5. **Richard III (41)** - 莎士比亚改编，符合《The Green Mile》的严肃戏剧性
6. **The Draughtsman's Contract (3221)** - 英国艺术电影，匹配用户的艺术片偏好
7. **Swept from the Sea (1656)** - 文学改编爱情片，接近《The Postman》的浪漫主义
8. **Bell, Book and Candle (3516)** - 经典浪漫喜剧，类似《The Money Pit》的轻松调性
9-10. 保留部分cult电影和喜剧作为多样性补充
2025-05-09 22:45:28,297 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有轻松喜剧（如《The Money Pit》《Speechless》）和女性视角作品（如《Antonia's Line》《Belle de jour》）。以下是重排后的候选电影ID列表：

[1844, 1695, 1829, 2813, 41, 3221, 1656, 3516, 3858, 2579, 2755, 3497, 396, 3606, 2795, 328, 2123, 2720, 1731, 3303]

排序理由：
1. **Live Flesh (1844)** - 阿莫多瓦作品，与《Belle de jour》同属欧洲艺术电影
2. **Artemisia (1695)** - 女性艺术家传记片，类似《Antonia's Line》的性别视角
3. **Chinese Box (1829)** - 王家卫参与，文艺风格匹配《Il Postino》
4. **The Source (2813)** - 作家传记片，呼应《Leaving Las Vegas》的深沉主题
5. **Richard III (41)** - 莎士比亚改编，符合《The Green Mile》的严肃戏剧性
6. **The Draughtsman's Contract (3221)** - 英国艺术电影，匹配用户的艺术片偏好
7. **Swept from the Sea (1656)** - 文学改编爱情片，接近《The Postman》的浪漫主义
8. **Bell, Book and Candle (3516)** - 经典浪漫喜剧，类似《The Money Pit》的轻松调性
9-10. 保留部分cult电影和喜剧作为多样性补充
2025-05-09 22:45:28,297 - INFO - 模型输出解析 - 解析后电影ID列表: [1844, 1695, 1829, 2813, 41, 3221, 1656, 3516, 3858, 2579, 2755, 3497, 396, 3606, 2795, 328, 2123, 2720, 1731, 3303, 1, 1844, 2, 1695, 3, 1829, 4, 2813, 5, 41, 6, 3221, 7, 1656, 8, 3516, 9, 10]
2025-05-09 22:45:28,297 - INFO - NDCG计算 - 预测列表前10项: [1844, 1695, 1829, 2813, 41, 3221, 1656, 3516, 3858, 2579], 真实目标: 1695, NDCG@10: 0.6309297535714575
2025-05-09 22:45:28,297 - INFO - 样本 0 (Trial 1): NDCG@10 = 0.6309
2025-05-09 22:45:28,297 - INFO - 开始第 2/10 次评估
2025-05-09 22:45:28,357 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:28,357 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:28,399 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:28,423 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:28,428 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:28,430 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:28,431 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:28,433 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:28,434 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:28,435 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:40,101 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、经典电影和奇幻类），以下是重新排序的候选电影ID列表：

3623, 2571, 2867, 2550, 3176, 3219, 1483, 381, 2154, 249, 3360, 1965, 1611, 730, 803, 2129, 2943, 3878, 146, 3590

排序理由：
1. 动作/惊悚类优先（Mission: Impossible 2, The Matrix）
2. 恐怖/悬疑类次之（Fright Night, The Haunting）
3. 心理惊悚/剧情类（The Talented Mr. Ripley, Pacific Heights）
4. 其他类型电影按相关性排序
2025-05-09 22:45:40,101 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、经典电影和奇幻类），以下是重新排序的候选电影ID列表：

3623, 2571, 2867, 2550, 3176, 3219, 1483, 381, 2154, 249, 3360, 1965, 1611, 730, 803, 2129, 2943, 3878, 146, 3590

排序理由：
1. 动作/惊悚类优先（Mission: Impossible 2, The Matrix）
2. 恐怖/悬疑类次之（Fright Night, The Haunting）
3. 心理惊悚/剧情类（The Talented Mr. Ripley, Pacific Heights）
4. 其他类型电影按相关性排序
2025-05-09 22:45:40,101 - INFO - 模型输出解析 - 解析后电影ID列表: [3623, 2571, 2867, 2550, 3176, 3219, 1483, 381, 2154, 249, 3360, 1965, 1611, 730, 803, 2129, 2943, 3878, 146, 3590, 1, 2, 2, 3, 4]
2025-05-09 22:45:40,101 - INFO - NDCG计算 - 预测列表前10项: [3623, 2571, 2867, 2550, 3176, 3219, 1483, 381, 2154, 249], 真实目标: 3176, NDCG@10: 0.38685280723454163
2025-05-09 22:45:40,101 - INFO - 样本 7 (Trial 2): NDCG@10 = 0.3869
2025-05-09 22:45:43,544 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的喜剧/幽默风格电影（Animal House, Monty Python, Blazing Saddles等）和怀旧经典（Grease, Pink Panther等），以下是重排后的候选电影ID列表，优先推荐风格相近的喜剧和经典作品：

[785, 1194, 945, 1083, 194, 3822, 29, 1263, 2022, 2858, 2438, 1365, 3709, 3474, 2311, 1797, 3768, 2705, 3667, 1145]

推荐理由：
1. Kingpin (785) - 荒诞喜剧，与Blazing Saddles同类型
2. Up in Smoke (1194) - 经典喜剧，符合用户近期偏好
3. Top Hat (945) - 经典歌舞喜剧，与Grease风格呼应
4. Great Race (1083) - 经典冒险喜剧
5. Smoke (194) - 文艺片，作为风格调剂
后续推荐混合了少量其他类型但质量较高的作品作为多样性补充
2025-05-09 22:45:43,544 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的喜剧/幽默风格电影（Animal House, Monty Python, Blazing Saddles等）和怀旧经典（Grease, Pink Panther等），以下是重排后的候选电影ID列表，优先推荐风格相近的喜剧和经典作品：

[785, 1194, 945, 1083, 194, 3822, 29, 1263, 2022, 2858, 2438, 1365, 3709, 3474, 2311, 1797, 3768, 2705, 3667, 1145]

推荐理由：
1. Kingpin (785) - 荒诞喜剧，与Blazing Saddles同类型
2. Up in Smoke (1194) - 经典喜剧，符合用户近期偏好
3. Top Hat (945) - 经典歌舞喜剧，与Grease风格呼应
4. Great Race (1083) - 经典冒险喜剧
5. Smoke (194) - 文艺片，作为风格调剂
后续推荐混合了少量其他类型但质量较高的作品作为多样性补充
2025-05-09 22:45:43,545 - INFO - 模型输出解析 - 解析后电影ID列表: [785, 1194, 945, 1083, 194, 3822, 29, 1263, 2022, 2858, 2438, 1365, 3709, 3474, 2311, 1797, 3768, 2705, 3667, 1145, 1, 785, 2, 1194, 3, 945, 4, 1083, 5, 194]
2025-05-09 22:45:43,545 - INFO - NDCG计算 - 预测列表前10项: [785, 1194, 945, 1083, 194, 3822, 29, 1263, 2022, 2858], 真实目标: 1194, NDCG@10: 0.6309297535714575
2025-05-09 22:45:43,545 - INFO - 样本 1 (Trial 2): NDCG@10 = 0.6309
2025-05-09 22:45:44,459 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的电影风格（包含文艺片、独立电影、女性视角故事和90年代剧情片），以下是重排后的候选电影ID列表：

372, 359, 887, 3251, 3626, 1815, 271, 2249, 1259, 185, 2409, 1375, 2452, 3614, 2137, 3378, 3312, 2960, 3859, 758

排序理由：
1. Reality Bites (372) - 90年代经典文艺片，与用户观看的High Art等风格匹配
2. I Like It Like That (359) - 都市女性成长故事，类似Little Women主题
3. Talk of Angels (887) - 文艺剧情片，与Angels and Insects风格相似
4. Agnes of God (3251) - 心理剧情片，符合用户偏好的深刻主题
5. 8 1/2 Women (3626) - 艺术电影，与欧洲文艺片口味契合
6-20位保持了类型相似性的递减排序，将商业性较强的影片排在后面
2025-05-09 22:45:44,459 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的电影风格（包含文艺片、独立电影、女性视角故事和90年代剧情片），以下是重排后的候选电影ID列表：

372, 359, 887, 3251, 3626, 1815, 271, 2249, 1259, 185, 2409, 1375, 2452, 3614, 2137, 3378, 3312, 2960, 3859, 758

排序理由：
1. Reality Bites (372) - 90年代经典文艺片，与用户观看的High Art等风格匹配
2. I Like It Like That (359) - 都市女性成长故事，类似Little Women主题
3. Talk of Angels (887) - 文艺剧情片，与Angels and Insects风格相似
4. Agnes of God (3251) - 心理剧情片，符合用户偏好的深刻主题
5. 8 1/2 Women (3626) - 艺术电影，与欧洲文艺片口味契合
6-20位保持了类型相似性的递减排序，将商业性较强的影片排在后面
2025-05-09 22:45:44,459 - INFO - 模型输出解析 - 解析后电影ID列表: [90, 372, 359, 887, 3251, 3626, 1815, 271, 2249, 1259, 185, 2409, 1375, 2452, 3614, 2137, 3378, 3312, 2960, 3859, 758, 1, 372, 90, 2, 359, 3, 887, 4, 3251, 5, 8, 1, 2, 3626, 6, 20]
2025-05-09 22:45:44,459 - INFO - NDCG计算 - 预测列表前10项: [90, 372, 359, 887, 3251, 3626, 1815, 271, 2249, 1259], 真实目标: 372, NDCG@10: 0.6309297535714575
2025-05-09 22:45:44,459 - INFO - 样本 6 (Trial 2): NDCG@10 = 0.6309
2025-05-09 22:45:45,583 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文学改编作品和带有社会议题的电影（如《The Client》《Philadelphia》《Cider House Rules》）。以下是重排后的候选电影ID列表，按照与用户历史偏好的匹配度排序：

[534, 3449, 3183, 1187, 280, 1458, 537, 607, 370, 823, 2261, 2791, 3247, 2644, 1523, 3790, 3497, 3761, 1232, 3801]

排序理由：
1. Shadowlands (534) - 文学改编剧情片，符合用户对《Great Expectations》等作品的偏好
2. Good Mother, The (3449) - 家庭剧情片，类似《A Thousand Acres》
3. Third Miracle, The (3183) - 宗教题材剧情片，接近《Philadelphia》的社会议题
4. Passion Fish (1187) - 女性成长故事，类似《Sliding Doors》
5. Murder in the First (280) - 法庭剧情片，类似《The Client》
6-20：其余电影按类型相似度降序排列，喜剧和动作类排在较后位置
2025-05-09 22:45:45,583 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文学改编作品和带有社会议题的电影（如《The Client》《Philadelphia》《Cider House Rules》）。以下是重排后的候选电影ID列表，按照与用户历史偏好的匹配度排序：

[534, 3449, 3183, 1187, 280, 1458, 537, 607, 370, 823, 2261, 2791, 3247, 2644, 1523, 3790, 3497, 3761, 1232, 3801]

排序理由：
1. Shadowlands (534) - 文学改编剧情片，符合用户对《Great Expectations》等作品的偏好
2. Good Mother, The (3449) - 家庭剧情片，类似《A Thousand Acres》
3. Third Miracle, The (3183) - 宗教题材剧情片，接近《Philadelphia》的社会议题
4. Passion Fish (1187) - 女性成长故事，类似《Sliding Doors》
5. Murder in the First (280) - 法庭剧情片，类似《The Client》
6-20：其余电影按类型相似度降序排列，喜剧和动作类排在较后位置
2025-05-09 22:45:45,583 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 1187, 280, 1458, 537, 607, 370, 823, 2261, 2791, 3247, 2644, 1523, 3790, 3497, 3761, 1232, 3801, 1, 534, 2, 3449, 3, 3183, 4, 1187, 5, 280, 6, 20]
2025-05-09 22:45:45,583 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 1187, 280, 1458, 537, 607, 370, 823], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:45:45,583 - INFO - 样本 5 (Trial 2): NDCG@10 = 1.0000
2025-05-09 22:45:46,022 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的电影类型和风格，我注意到用户偏好历史剧情片(Patriot, Shakespeare in Love)、悬疑惊悚片(Sixth Sense, Talented Mr. Ripley)、以及一些黑色幽默作品(South Park)。以下是重排后的推荐顺序：

[2160, 1671, 3948, 145, 1824, 516, 3618, 8, 3882, 2227, 2993, 2074, 1528, 1317, 2374, 1822, 2869, 3313, 2620, 863]

推荐理由：
1. Rosemary's Baby (2160) - 经典悬疑惊悚片，符合用户对Sixth Sense和Talented Mr. Ripley的兴趣
2. Deceiver (1671) - 心理惊悚片
3. Meet the Parents (3948) - 带有黑色幽默的喜剧
4. Bad Boys (145) - 动作喜剧，类似Thomas Crown Affair的犯罪元素
5. Homegrown (1824) - 犯罪剧情片
6. Renaissance Man (516) - 类似Shakespeare in Love的教育剧情片
7. Small Time Crooks (3618) - 犯罪喜剧
8. Tom and Huck (8) - 历史冒险片
9. Bring It On (3882) - 青春喜剧
10. The Lodger (2227) - 悬疑片
2025-05-09 22:45:46,022 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的电影类型和风格，我注意到用户偏好历史剧情片(Patriot, Shakespeare in Love)、悬疑惊悚片(Sixth Sense, Talented Mr. Ripley)、以及一些黑色幽默作品(South Park)。以下是重排后的推荐顺序：

[2160, 1671, 3948, 145, 1824, 516, 3618, 8, 3882, 2227, 2993, 2074, 1528, 1317, 2374, 1822, 2869, 3313, 2620, 863]

推荐理由：
1. Rosemary's Baby (2160) - 经典悬疑惊悚片，符合用户对Sixth Sense和Talented Mr. Ripley的兴趣
2. Deceiver (1671) - 心理惊悚片
3. Meet the Parents (3948) - 带有黑色幽默的喜剧
4. Bad Boys (145) - 动作喜剧，类似Thomas Crown Affair的犯罪元素
5. Homegrown (1824) - 犯罪剧情片
6. Renaissance Man (516) - 类似Shakespeare in Love的教育剧情片
7. Small Time Crooks (3618) - 犯罪喜剧
8. Tom and Huck (8) - 历史冒险片
9. Bring It On (3882) - 青春喜剧
10. The Lodger (2227) - 悬疑片
2025-05-09 22:45:46,022 - INFO - 模型输出解析 - 解析后电影ID列表: [2160, 1671, 3948, 145, 1824, 516, 3618, 8, 3882, 2227, 2993, 2074, 1528, 1317, 2374, 1822, 2869, 3313, 2620, 863, 1, 2160, 2, 1671, 3, 3948, 4, 145, 5, 1824, 6, 516, 7, 3618, 8, 8, 9, 3882, 10, 2227]
2025-05-09 22:45:46,022 - INFO - NDCG计算 - 预测列表前10项: [2160, 1671, 3948, 145, 1824, 516, 3618, 8, 3882, 2227], 真实目标: 3948, NDCG@10: 0.5
2025-05-09 22:45:46,022 - INFO - 样本 4 (Trial 2): NDCG@10 = 0.5000
2025-05-09 22:45:46,711 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户的观影偏好主要集中在动作片、惊悚片、黑色喜剧和犯罪题材（如《Gladiator》《American Psycho》《Final Destination》），同时也包含一些轻松喜剧（如《Meet the Parents》《Big Momma's House》）。以下是重排后的候选电影ID列表，优先推荐与用户历史行为最匹配的电影：

[370, 21, 122, 1722, 428, 447, 818, 691, 3824, 1555, 1539, 2609, 1913, 3756, 3768, 3420, 567, 3701, 2367, 1563]

推荐理由：
1. 《Naked Gun 33 1/3》（370）和《Get Shorty》（21）是黑色幽默/犯罪喜剧，类似《American Psycho》《Screwed》的调性
2. 《Boomerang》（122）和《A Very Brady Sequel》（818）是轻松喜剧，匹配《Meet the Parents》等
3. 《Tomorrow Never Dies》（1722）是动作片，延续《Gladiator》偏好
4. 《A Bronx Tale》（428）和《The Favor》（447）是犯罪剧情片
5. 中后段安排了相对文艺的选项（如《King of Masks》《Picnic at Hanging Rock》），虽然与用户近期偏好关联较弱，但作为多样性补充
2025-05-09 22:45:46,711 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户的观影偏好主要集中在动作片、惊悚片、黑色喜剧和犯罪题材（如《Gladiator》《American Psycho》《Final Destination》），同时也包含一些轻松喜剧（如《Meet the Parents》《Big Momma's House》）。以下是重排后的候选电影ID列表，优先推荐与用户历史行为最匹配的电影：

[370, 21, 122, 1722, 428, 447, 818, 691, 3824, 1555, 1539, 2609, 1913, 3756, 3768, 3420, 567, 3701, 2367, 1563]

推荐理由：
1. 《Naked Gun 33 1/3》（370）和《Get Shorty》（21）是黑色幽默/犯罪喜剧，类似《American Psycho》《Screwed》的调性
2. 《Boomerang》（122）和《A Very Brady Sequel》（818）是轻松喜剧，匹配《Meet the Parents》等
3. 《Tomorrow Never Dies》（1722）是动作片，延续《Gladiator》偏好
4. 《A Bronx Tale》（428）和《The Favor》（447）是犯罪剧情片
5. 中后段安排了相对文艺的选项（如《King of Masks》《Picnic at Hanging Rock》），虽然与用户近期偏好关联较弱，但作为多样性补充
2025-05-09 22:45:46,711 - INFO - 模型输出解析 - 解析后电影ID列表: [370, 21, 122, 1722, 428, 447, 818, 691, 3824, 1555, 1539, 2609, 1913, 3756, 3768, 3420, 567, 3701, 2367, 1563, 1, 33, 1, 3, 370, 21, 2, 122, 818, 3, 1722, 4, 428, 447, 5]
2025-05-09 22:45:46,711 - INFO - NDCG计算 - 预测列表前10项: [370, 21, 122, 1722, 428, 447, 818, 691, 3824, 1555], 真实目标: 3824, NDCG@10: 0.3010299956639812
2025-05-09 22:45:46,711 - INFO - 样本 3 (Trial 2): NDCG@10 = 0.3010
2025-05-09 22:45:46,990 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、犯罪片和剧情片。以下是重排后的候选电影ID列表：

[1858, 1343, 3107, 1236, 1758, 373, 1537, 3325, 2997, 971, 3145, 2507, 1024, 2049, 2566, 3672, 1053, 614, 3864, 3933]

排序理由：
1. Mr. Nice Guy (1858) - 动作片，与用户最近观看的Romeo Must Die等动作片风格相似
2. Cape Fear (1343) - 犯罪惊悚片，符合用户对犯罪题材的兴趣
3. Backdraft (3107) - 动作剧情片，与Perfect Storm等灾难/动作片类似
4. Trust (1236) - 犯罪剧情片
5. Dangerous Beauty (1758) - 剧情片，类似Erin Brockovich的女性主角剧情片
6. Red Rock West (373) - 犯罪惊悚片
7. Shall We Dance? (1537) - 剧情片
8. Next Best Thing (3325) - 剧情片
9. Being John Malkovich (2997) - 独特剧情片
10. Cat on a Hot Tin Roof (971) - 经典剧情片
其余电影根据类型相关性降序排列
2025-05-09 22:45:46,991 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、犯罪片和剧情片。以下是重排后的候选电影ID列表：

[1858, 1343, 3107, 1236, 1758, 373, 1537, 3325, 2997, 971, 3145, 2507, 1024, 2049, 2566, 3672, 1053, 614, 3864, 3933]

排序理由：
1. Mr. Nice Guy (1858) - 动作片，与用户最近观看的Romeo Must Die等动作片风格相似
2. Cape Fear (1343) - 犯罪惊悚片，符合用户对犯罪题材的兴趣
3. Backdraft (3107) - 动作剧情片，与Perfect Storm等灾难/动作片类似
4. Trust (1236) - 犯罪剧情片
5. Dangerous Beauty (1758) - 剧情片，类似Erin Brockovich的女性主角剧情片
6. Red Rock West (373) - 犯罪惊悚片
7. Shall We Dance? (1537) - 剧情片
8. Next Best Thing (3325) - 剧情片
9. Being John Malkovich (2997) - 独特剧情片
10. Cat on a Hot Tin Roof (971) - 经典剧情片
其余电影根据类型相关性降序排列
2025-05-09 22:45:46,991 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 1343, 3107, 1236, 1758, 373, 1537, 3325, 2997, 971, 3145, 2507, 1024, 2049, 2566, 3672, 1053, 614, 3864, 3933, 1, 1858, 2, 1343, 3, 3107, 4, 1236, 5, 1758, 6, 373, 7, 1537, 8, 3325, 9, 2997, 10, 971]
2025-05-09 22:45:46,991 - INFO - NDCG计算 - 预测列表前10项: [1858, 1343, 3107, 1236, 1758, 373, 1537, 3325, 2997, 971], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 22:45:46,991 - INFO - 样本 8 (Trial 2): NDCG@10 = 0.3869
2025-05-09 22:45:46,996 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户观看历史中展现的多元化品味（包含科幻、经典、惊悚、剧情片等），我为您推荐以下排序的候选电影：

1. Event Horizon (ID:1590) - 科幻惊悚，类似《Terminator 2》的科幻元素
2. Crimson Tide (ID:161) - 紧张剧情，类似《From Russia with Love》的紧张氛围
3. Rebel Without a Cause (ID:1103) - 经典影片，符合用户对《Edward Scissorhands》等经典电影的喜好
4. Happiness (ID:2318) - 黑色幽默剧情片，类似《Boogie Nights》的复杂人物刻画
5. 8 1/2 (ID:1251) - 艺术电影，匹配《After Life》的哲思风格
6. Death Becomes Her (ID:3258) - 黑色喜剧，类似《Edward Scissorhands》的奇幻风格
7. Repo Man (ID:1965) - 另类cult电影，符合用户对《Big Kahuna》等非主流影片的兴趣
8. Lawn Dogs (ID:1880) - 独立剧情片，类似《High Fidelity》的人物驱动故事
9. Sabotage (ID:2210) - 惊悚元素，呼应《Rosemary's Baby》的悬疑感
10. I Am Cuba (ID:3245) - 艺术电影，匹配用户对《After Life》的艺术片偏好
2025-05-09 22:45:46,996 - INFO - 模型输出解析 - 原始输出:
基于用户观看历史中展现的多元化品味（包含科幻、经典、惊悚、剧情片等），我为您推荐以下排序的候选电影：

1. Event Horizon (ID:1590) - 科幻惊悚，类似《Terminator 2》的科幻元素
2. Crimson Tide (ID:161) - 紧张剧情，类似《From Russia with Love》的紧张氛围
3. Rebel Without a Cause (ID:1103) - 经典影片，符合用户对《Edward Scissorhands》等经典电影的喜好
4. Happiness (ID:2318) - 黑色幽默剧情片，类似《Boogie Nights》的复杂人物刻画
5. 8 1/2 (ID:1251) - 艺术电影，匹配《After Life》的哲思风格
6. Death Becomes Her (ID:3258) - 黑色喜剧，类似《Edward Scissorhands》的奇幻风格
7. Repo Man (ID:1965) - 另类cult电影，符合用户对《Big Kahuna》等非主流影片的兴趣
8. Lawn Dogs (ID:1880) - 独立剧情片，类似《High Fidelity》的人物驱动故事
9. Sabotage (ID:2210) - 惊悚元素，呼应《Rosemary's Baby》的悬疑感
10. I Am Cuba (ID:3245) - 艺术电影，匹配用户对《After Life》的艺术片偏好
2025-05-09 22:45:46,996 - INFO - 模型输出解析 - 解析后电影ID列表: [1, 1590, 2, 2, 161, 3, 1103, 4, 2318, 5, 8, 1, 2, 1251, 6, 3258, 7, 1965, 8, 1880, 9, 2210, 10, 3245]
2025-05-09 22:45:46,996 - INFO - NDCG计算 - 预测列表前10项: [1, 1590, 2, 2, 161, 3, 1103, 4, 2318, 5], 真实目标: 1965, NDCG@10: 0.0
2025-05-09 22:45:46,996 - INFO - 样本 9 (Trial 2): NDCG@10 = 0.0000
2025-05-09 22:45:47,667 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate、Tron、Independence Day、Star Trek等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的电影：

[2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482, 2703, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739]

排序理由：
1. Back to the Future Part II (2011) - 经典科幻续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/犯罪题材
5. Jennifer 8 (3557) - 惊悚/犯罪
6. Addicted to Love (1541) - 包含科幻元素
7. The Remains of the Day (515) - 剧情片
8. Shine (1357) - 传记剧情
9. The Name of the Rose (2467) - 中世纪悬疑
10. Still Crazy (2482) - 音乐喜剧
2025-05-09 22:45:47,667 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate、Tron、Independence Day、Star Trek等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的电影：

[2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482, 2703, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739]

排序理由：
1. Back to the Future Part II (2011) - 经典科幻续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/犯罪题材
5. Jennifer 8 (3557) - 惊悚/犯罪
6. Addicted to Love (1541) - 包含科幻元素
7. The Remains of the Day (515) - 剧情片
8. Shine (1357) - 传记剧情
9. The Name of the Rose (2467) - 中世纪悬疑
10. Still Crazy (2482) - 音乐喜剧
2025-05-09 22:45:47,667 - INFO - 模型输出解析 - 解析后电影ID列表: [2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482, 2703, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739, 1, 2011, 2, 3699, 3, 2532, 4, 555, 5, 8, 3557, 6, 1541, 7, 515, 8, 1357, 9, 2467, 10, 2482]
2025-05-09 22:45:47,667 - INFO - NDCG计算 - 预测列表前10项: [2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482], 真实目标: 2011, NDCG@10: 1.0
2025-05-09 22:45:47,667 - INFO - 样本 2 (Trial 2): NDCG@10 = 1.0000
2025-05-09 22:45:50,310 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有轻松喜剧（如《The Money Pit》《Speechless》）和女性视角作品（如《Antonia's Line》《Belle de jour》）。以下是重排后的候选电影ID列表：

[1844, 1695, 2813, 1829, 1656, 2579, 3221, 41, 3516, 2755, 3858, 396, 328, 2123, 2720, 1731, 2795, 3606, 3303, 3497]

排序理由：
1. **Live Flesh (1844)** - 阿莫多瓦作品，与《Belle de jour》同属欧洲艺术电影
2. **Artemisia (1695)** - 女性艺术家传记片，类似《Antonia's Line》的女性视角
3. **The Source (2813)** - 文艺剧情片，匹配用户对深度电影的偏好
4. **Chinese Box (1829)** - 王家卫参与的跨文化剧情片
5. **Swept from the Sea (1656)** - 文学改编剧情片
6. **Following (2579)** - 诺兰早期悬疑作品，适合喜欢剧情深度的用户
7. **The Draughtsman's Contract (3221)** - 英国艺术电影
8. **Richard III (41)** - 莎士比亚改编经典
9. **Bell, Book and Candle (3516)** - 浪漫奇幻轻喜剧
10. **Light of Day (2755)** - 家庭剧情片
...（后续为更商业化的影片，按艺术性递减排列）
2025-05-09 22:45:50,310 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有轻松喜剧（如《The Money Pit》《Speechless》）和女性视角作品（如《Antonia's Line》《Belle de jour》）。以下是重排后的候选电影ID列表：

[1844, 1695, 2813, 1829, 1656, 2579, 3221, 41, 3516, 2755, 3858, 396, 328, 2123, 2720, 1731, 2795, 3606, 3303, 3497]

排序理由：
1. **Live Flesh (1844)** - 阿莫多瓦作品，与《Belle de jour》同属欧洲艺术电影
2. **Artemisia (1695)** - 女性艺术家传记片，类似《Antonia's Line》的女性视角
3. **The Source (2813)** - 文艺剧情片，匹配用户对深度电影的偏好
4. **Chinese Box (1829)** - 王家卫参与的跨文化剧情片
5. **Swept from the Sea (1656)** - 文学改编剧情片
6. **Following (2579)** - 诺兰早期悬疑作品，适合喜欢剧情深度的用户
7. **The Draughtsman's Contract (3221)** - 英国艺术电影
8. **Richard III (41)** - 莎士比亚改编经典
9. **Bell, Book and Candle (3516)** - 浪漫奇幻轻喜剧
10. **Light of Day (2755)** - 家庭剧情片
...（后续为更商业化的影片，按艺术性递减排列）
2025-05-09 22:45:50,310 - INFO - 模型输出解析 - 解析后电影ID列表: [1844, 1695, 2813, 1829, 1656, 2579, 3221, 41, 3516, 2755, 3858, 396, 328, 2123, 2720, 1731, 2795, 3606, 3303, 3497, 1, 1844, 2, 1695, 3, 2813, 4, 1829, 5, 1656, 6, 2579, 7, 3221, 8, 41, 9, 3516, 10, 2755]
2025-05-09 22:45:50,310 - INFO - NDCG计算 - 预测列表前10项: [1844, 1695, 2813, 1829, 1656, 2579, 3221, 41, 3516, 2755], 真实目标: 1695, NDCG@10: 0.6309297535714575
2025-05-09 22:45:50,310 - INFO - 样本 0 (Trial 2): NDCG@10 = 0.6309
2025-05-09 22:45:50,310 - INFO - 开始第 3/10 次评估
2025-05-09 22:45:50,369 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:50,370 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:50,370 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:50,371 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:50,374 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:50,376 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:50,381 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:50,444 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:50,449 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:45:50,457 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:04,825 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的喜剧片（特别是荒诞喜剧和经典喜剧）为主的特点，我将候选电影按最可能观看的顺序排列如下：

[1194, 785, 945, 1083, 194, 3822, 29, 1365, 2022, 2858, 1263, 2311, 1797, 2438, 2705, 3474, 3667, 3709, 3768, 1145]

排序理由：
1. Up in Smoke (1194) 和 Kingpin (785) - 与用户喜欢的荒诞喜剧风格高度匹配
2. Top Hat (945) 和 Great Race (1083) - 经典喜剧/歌舞片，类似Grease和早期喜剧
3. Smoke (194) - 文艺但带有幽默元素
4. 其他喜剧元素较少的电影排在后面
5. 恐怖/动作类电影(Sleepwalkers等)排在最后
2025-05-09 22:46:04,825 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的喜剧片（特别是荒诞喜剧和经典喜剧）为主的特点，我将候选电影按最可能观看的顺序排列如下：

[1194, 785, 945, 1083, 194, 3822, 29, 1365, 2022, 2858, 1263, 2311, 1797, 2438, 2705, 3474, 3667, 3709, 3768, 1145]

排序理由：
1. Up in Smoke (1194) 和 Kingpin (785) - 与用户喜欢的荒诞喜剧风格高度匹配
2. Top Hat (945) 和 Great Race (1083) - 经典喜剧/歌舞片，类似Grease和早期喜剧
3. Smoke (194) - 文艺但带有幽默元素
4. 其他喜剧元素较少的电影排在后面
5. 恐怖/动作类电影(Sleepwalkers等)排在最后
2025-05-09 22:46:04,825 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 945, 1083, 194, 3822, 29, 1365, 2022, 2858, 1263, 2311, 1797, 2438, 2705, 3474, 3667, 3709, 3768, 1145, 1, 1194, 785, 2, 945, 1083, 3, 194, 4, 5]
2025-05-09 22:46:04,825 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 945, 1083, 194, 3822, 29, 1365, 2022, 2858], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:46:04,825 - INFO - 样本 1 (Trial 3): NDCG@10 = 1.0000
2025-05-09 22:46:05,504 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户观看历史中展现的多元化电影品味（包含科幻、经典、惊悚、剧情片等），以下是重排后的候选电影ID列表：

[1103, 1590, 2318, 161, 1880, 3258, 396, 3723, 1251, 2144, 2210, 2637, 3695, 381, 3413, 2970, 1965, 876, 3245]

排序理由：
1. Rebel Without a Cause (1103) - 经典剧情片，符合用户对Edward Scissorhands等经典电影的偏好
2. Event Horizon (1590) - 科幻惊悚，匹配Terminator 2和Rosemary's Baby的喜好
3. Happiness (2318) - 黑色幽默剧情片，类似Boogie Nights和High Fidelity的成人主题
4. Crimson Tide (161) - 紧张剧情片，呼应Braveheart的动作元素
5. Lawn Dogs (1880) - 另类剧情片，符合After Life等文艺向选择
6-10位保持了类型多样性，同时优先考虑用户历史中展现的偏好评级较高的相似类型
2025-05-09 22:46:05,504 - INFO - 模型输出解析 - 原始输出:
基于用户观看历史中展现的多元化电影品味（包含科幻、经典、惊悚、剧情片等），以下是重排后的候选电影ID列表：

[1103, 1590, 2318, 161, 1880, 3258, 396, 3723, 1251, 2144, 2210, 2637, 3695, 381, 3413, 2970, 1965, 876, 3245]

排序理由：
1. Rebel Without a Cause (1103) - 经典剧情片，符合用户对Edward Scissorhands等经典电影的偏好
2. Event Horizon (1590) - 科幻惊悚，匹配Terminator 2和Rosemary's Baby的喜好
3. Happiness (2318) - 黑色幽默剧情片，类似Boogie Nights和High Fidelity的成人主题
4. Crimson Tide (161) - 紧张剧情片，呼应Braveheart的动作元素
5. Lawn Dogs (1880) - 另类剧情片，符合After Life等文艺向选择
6-10位保持了类型多样性，同时优先考虑用户历史中展现的偏好评级较高的相似类型
2025-05-09 22:46:05,504 - INFO - 模型输出解析 - 解析后电影ID列表: [1103, 1590, 2318, 161, 1880, 3258, 396, 3723, 1251, 2144, 2210, 2637, 3695, 381, 3413, 2970, 1965, 876, 3245, 1, 1103, 2, 1590, 2, 3, 2318, 4, 161, 5, 1880, 6, 10]
2025-05-09 22:46:05,505 - INFO - NDCG计算 - 预测列表前10项: [1103, 1590, 2318, 161, 1880, 3258, 396, 3723, 1251, 2144], 真实目标: 1965, NDCG@10: 0.0
2025-05-09 22:46:05,505 - INFO - 样本 9 (Trial 3): NDCG@10 = 0.0000
2025-05-09 22:46:06,531 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、浪漫剧情片、文学改编作品以及带有社会议题的电影。以下是重排后的候选电影ID列表：

[534, 1187, 3449, 3183, 280, 537, 1458, 607, 1232, 370, 2791, 2261, 3247, 2644, 823, 3790, 1523, 3497, 3761, 3801]

排序理由：
1. Shadowlands (534) - 文学改编剧情片，符合用户偏好
2. Passion Fish (1187) - 女性主角的剧情片
3. Good Mother, The (3449) - 家庭剧情片
4. Third Miracle, The (3183) - 宗教题材剧情片
5. Murder in the First (280) - 法庭剧情片
6. Sirens (537) - 艺术题材剧情片
7. Touch (1458) - 温情剧情片
8. Century (607) - 历史剧情片
9. Stalker (1232) - 艺术电影
10. Naked Gun喜剧系列作为调剂
11-20: 其他类型电影按相关性排序
2025-05-09 22:46:06,532 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、浪漫剧情片、文学改编作品以及带有社会议题的电影。以下是重排后的候选电影ID列表：

[534, 1187, 3449, 3183, 280, 537, 1458, 607, 1232, 370, 2791, 2261, 3247, 2644, 823, 3790, 1523, 3497, 3761, 3801]

排序理由：
1. Shadowlands (534) - 文学改编剧情片，符合用户偏好
2. Passion Fish (1187) - 女性主角的剧情片
3. Good Mother, The (3449) - 家庭剧情片
4. Third Miracle, The (3183) - 宗教题材剧情片
5. Murder in the First (280) - 法庭剧情片
6. Sirens (537) - 艺术题材剧情片
7. Touch (1458) - 温情剧情片
8. Century (607) - 历史剧情片
9. Stalker (1232) - 艺术电影
10. Naked Gun喜剧系列作为调剂
11-20: 其他类型电影按相关性排序
2025-05-09 22:46:06,532 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 1187, 3449, 3183, 280, 537, 1458, 607, 1232, 370, 2791, 2261, 3247, 2644, 823, 3790, 1523, 3497, 3761, 3801, 1, 534, 2, 1187, 3, 3449, 4, 3183, 5, 280, 6, 537, 7, 1458, 8, 607, 9, 1232, 10, 11, 20]
2025-05-09 22:46:06,532 - INFO - NDCG计算 - 预测列表前10项: [534, 1187, 3449, 3183, 280, 537, 1458, 607, 1232, 370], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:46:06,532 - INFO - 样本 5 (Trial 3): NDCG@10 = 1.0000
2025-05-09 22:46:07,467 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户的观影偏好主要集中在动作片、惊悚片、黑色喜剧和轻松喜剧等类型。以下是重排后的候选电影ID列表：

[370, 21, 1722, 428, 122, 447, 691, 818, 1555, 1539, 1563, 1913, 2609, 3756, 3824, 567, 3420, 3768, 3701, 2367]

排序理由：
1. Naked Gun 33 1/3: The Final Insult (370) - 与Meet the Parents类似的喜剧
2. Get Shorty (21) - 黑色幽默犯罪片，类似American Psycho
3. Tomorrow Never Dies (1722) - 动作片，类似Gladiator
4. Bronx Tale, A (428) - 犯罪剧情片
5. Boomerang (122) - 轻松喜剧
6. Favor, The (447) - 黑色喜剧
7. Mrs. Winterbourne (691) - 轻松喜剧
8. Very Brady Sequel, A (818) - 家庭喜剧
9. To Have, or Not (1555) - 剧情片
10. Twin Town (1539) - 黑色喜剧
其余电影按类型相似度递减排列
2025-05-09 22:46:07,467 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户的观影偏好主要集中在动作片、惊悚片、黑色喜剧和轻松喜剧等类型。以下是重排后的候选电影ID列表：

[370, 21, 1722, 428, 122, 447, 691, 818, 1555, 1539, 1563, 1913, 2609, 3756, 3824, 567, 3420, 3768, 3701, 2367]

排序理由：
1. Naked Gun 33 1/3: The Final Insult (370) - 与Meet the Parents类似的喜剧
2. Get Shorty (21) - 黑色幽默犯罪片，类似American Psycho
3. Tomorrow Never Dies (1722) - 动作片，类似Gladiator
4. Bronx Tale, A (428) - 犯罪剧情片
5. Boomerang (122) - 轻松喜剧
6. Favor, The (447) - 黑色喜剧
7. Mrs. Winterbourne (691) - 轻松喜剧
8. Very Brady Sequel, A (818) - 家庭喜剧
9. To Have, or Not (1555) - 剧情片
10. Twin Town (1539) - 黑色喜剧
其余电影按类型相似度递减排列
2025-05-09 22:46:07,467 - INFO - 模型输出解析 - 解析后电影ID列表: [370, 21, 1722, 428, 122, 447, 691, 818, 1555, 1539, 1563, 1913, 2609, 3756, 3824, 567, 3420, 3768, 3701, 2367, 1, 33, 1, 3, 370, 2, 21, 3, 1722, 4, 428, 5, 122, 6, 447, 7, 691, 8, 818, 9, 1555, 10, 1539]
2025-05-09 22:46:07,467 - INFO - NDCG计算 - 预测列表前10项: [370, 21, 1722, 428, 122, 447, 691, 818, 1555, 1539], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:46:07,467 - INFO - 样本 3 (Trial 3): NDCG@10 = 0.0000
2025-05-09 22:46:07,588 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户观看历史中的文艺片、独立电影和剧情片偏好，我重新排序候选电影如下：

1. Agnes of God (ID:3251) - 宗教题材剧情片，符合用户观看的严肃文艺片偏好
2. Talk of Angels (ID:887) - 文艺剧情片，类似用户看过的"The Secret Garden"和"Little Women"
3. 8 1/2 Women (ID:3626) - 艺术电影大师作品，适合喜欢"High Art"的用户
4. I Like It Like That (ID:359) - 都市剧情片，类似"SLC Punk!"的青春题材
5. Losing Isaiah (ID:271) - 严肃社会题材，类似"Sleepers"和"Cop Land"
6. Eden (ID:1815) - 独立制作文艺片
7. Reality Bites (ID:372) - 90年代青春片，与"Last Days of Disco"时期相近
8. My Blue Heaven (ID:2249) - 轻松喜剧，作为调剂
9. The Net (ID:185) - 90年代惊悚片
10. Stand by Me (ID:1259) - 经典成长故事

其余动作片、科幻片和恐怖片(如Star Trek, Rocky II, Gate II)与用户历史偏好不符，故排在后面。
2025-05-09 22:46:07,588 - INFO - 模型输出解析 - 原始输出:
基于用户观看历史中的文艺片、独立电影和剧情片偏好，我重新排序候选电影如下：

1. Agnes of God (ID:3251) - 宗教题材剧情片，符合用户观看的严肃文艺片偏好
2. Talk of Angels (ID:887) - 文艺剧情片，类似用户看过的"The Secret Garden"和"Little Women"
3. 8 1/2 Women (ID:3626) - 艺术电影大师作品，适合喜欢"High Art"的用户
4. I Like It Like That (ID:359) - 都市剧情片，类似"SLC Punk!"的青春题材
5. Losing Isaiah (ID:271) - 严肃社会题材，类似"Sleepers"和"Cop Land"
6. Eden (ID:1815) - 独立制作文艺片
7. Reality Bites (ID:372) - 90年代青春片，与"Last Days of Disco"时期相近
8. My Blue Heaven (ID:2249) - 轻松喜剧，作为调剂
9. The Net (ID:185) - 90年代惊悚片
10. Stand by Me (ID:1259) - 经典成长故事

其余动作片、科幻片和恐怖片(如Star Trek, Rocky II, Gate II)与用户历史偏好不符，故排在后面。
2025-05-09 22:46:07,588 - INFO - 模型输出解析 - 解析后电影ID列表: [1, 3251, 2, 887, 3, 8, 1, 2, 3626, 4, 359, 5, 271, 6, 1815, 7, 372, 90, 8, 2249, 9, 185, 90, 10, 1259]
2025-05-09 22:46:07,588 - INFO - NDCG计算 - 预测列表前10项: [1, 3251, 2, 887, 3, 8, 1, 2, 3626, 4], 真实目标: 372, NDCG@10: 0.0
2025-05-09 22:46:07,588 - INFO - 样本 6 (Trial 3): NDCG@10 = 0.0000
2025-05-09 22:46:07,675 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate, Tron, Independence Day, Star Trek等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的电影：

[2011, 3699, 2532, 555, 3557, 1541, 1257, 515, 1357, 2467, 2482, 2703, 1102, 1420, 421, 2562, 1174, 310, 576, 3739]

排序理由：
1. Back to the Future Part II (2011) - 科幻经典续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/冒险
5. Jennifer 8 (3557) - 惊悚/科幻元素
6. Addicted to Love (1541) - 轻松浪漫喜剧
7. Better Off Dead... (1257) - 80年代经典喜剧
8. The Remains of the Day (515) - 剧情片
9. Shine (1357) - 传记剧情片
10. The Name of the Rose (2467) - 中世纪悬疑
2025-05-09 22:46:07,675 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate, Tron, Independence Day, Star Trek等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的电影：

[2011, 3699, 2532, 555, 3557, 1541, 1257, 515, 1357, 2467, 2482, 2703, 1102, 1420, 421, 2562, 1174, 310, 576, 3739]

排序理由：
1. Back to the Future Part II (2011) - 科幻经典续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/冒险
5. Jennifer 8 (3557) - 惊悚/科幻元素
6. Addicted to Love (1541) - 轻松浪漫喜剧
7. Better Off Dead... (1257) - 80年代经典喜剧
8. The Remains of the Day (515) - 剧情片
9. Shine (1357) - 传记剧情片
10. The Name of the Rose (2467) - 中世纪悬疑
2025-05-09 22:46:07,676 - INFO - 模型输出解析 - 解析后电影ID列表: [2011, 3699, 2532, 555, 3557, 1541, 1257, 515, 1357, 2467, 2482, 2703, 1102, 1420, 421, 2562, 1174, 310, 576, 3739, 1, 2011, 2, 3699, 3, 2532, 4, 555, 5, 8, 3557, 6, 1541, 7, 1257, 80, 8, 515, 9, 1357, 10, 2467]
2025-05-09 22:46:07,676 - INFO - NDCG计算 - 预测列表前10项: [2011, 3699, 2532, 555, 3557, 1541, 1257, 515, 1357, 2467], 真实目标: 2011, NDCG@10: 1.0
2025-05-09 22:46:07,676 - INFO - 样本 2 (Trial 3): NDCG@10 = 1.0000
2025-05-09 22:46:08,719 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好动作冒险类（如The Mummy, Golden Voyage of Sinbad）、惊悚动作片（如Eraser, Air Force One）、经典犯罪片（如The Godfather Part III）以及带有奇幻/恐怖元素的电影（如The Crow, Arachnophobia）。以下是重排后的候选电影ID列表：

1. 2571 (The Matrix) - 动作科幻，符合用户对Eraser/Air Force One的偏好
2. 3623 (Mission: Impossible 2) - 高能量动作片
3. 2867 (Fright Night) - 恐怖惊悚元素，类似Arachnophobia/The Crow
4. 2550 (The Haunting) - 经典恐怖片
5. 3176 (The Talented Mr. Ripley) - 犯罪心理惊悚，类似Godfather元素
6. 3219 (Pacific Heights) - 心理惊悚片
7. 1483 (Crash) - 犯罪剧情片
8. 381 (When a Man Loves a Woman) - 作为情感类调剂
9. 249 (Immortal Beloved) - 传记剧情片
10. 2943 (Indochine) - 历史剧情片

其他电影与用户近期观看记录的相关性较低，因此排序靠后。最推荐的Top5都紧密契合用户对动作、惊悚和犯罪类型的一贯偏好。
2025-05-09 22:46:08,719 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好动作冒险类（如The Mummy, Golden Voyage of Sinbad）、惊悚动作片（如Eraser, Air Force One）、经典犯罪片（如The Godfather Part III）以及带有奇幻/恐怖元素的电影（如The Crow, Arachnophobia）。以下是重排后的候选电影ID列表：

1. 2571 (The Matrix) - 动作科幻，符合用户对Eraser/Air Force One的偏好
2. 3623 (Mission: Impossible 2) - 高能量动作片
3. 2867 (Fright Night) - 恐怖惊悚元素，类似Arachnophobia/The Crow
4. 2550 (The Haunting) - 经典恐怖片
5. 3176 (The Talented Mr. Ripley) - 犯罪心理惊悚，类似Godfather元素
6. 3219 (Pacific Heights) - 心理惊悚片
7. 1483 (Crash) - 犯罪剧情片
8. 381 (When a Man Loves a Woman) - 作为情感类调剂
9. 249 (Immortal Beloved) - 传记剧情片
10. 2943 (Indochine) - 历史剧情片

其他电影与用户近期观看记录的相关性较低，因此排序靠后。最推荐的Top5都紧密契合用户对动作、惊悚和犯罪类型的一贯偏好。
2025-05-09 22:46:08,719 - INFO - 模型输出解析 - 解析后电影ID列表: [1, 2571, 2, 3623, 2, 3, 2867, 4, 2550, 5, 3176, 6, 3219, 7, 1483, 8, 381, 9, 249, 10, 2943, 5]
2025-05-09 22:46:08,719 - INFO - NDCG计算 - 预测列表前10项: [1, 2571, 2, 3623, 2, 3, 2867, 4, 2550, 5], 真实目标: 3176, NDCG@10: 0.0
2025-05-09 22:46:08,719 - INFO - 样本 7 (Trial 3): NDCG@10 = 0.0000
2025-05-09 22:46:08,868 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的电影类型和风格，我注意到用户偏好历史剧情片(Patriot, Shakespeare in Love)、心理惊悚片(Sixth Sense, Talented Mr. Ripley)、浪漫喜剧(Runaway Bride)和黑色幽默(South Park)。以下是重新排序的候选电影ID列表：

[3948, 2160, 145, 1671, 516, 1824, 2227, 3618, 8, 3882, 2620, 1317, 2374, 1528, 3313, 2869, 863, 2993, 2074, 1822]

排序理由：
1. Meet the Parents (3948) - 浪漫喜剧，类似Runaway Bride
2. Rosemary's Baby (2160) - 心理惊悚，类似Sixth Sense
3. Bad Boys (145) - 动作/犯罪，类似Thomas Crown Affair
4. Deceiver (1671) - 心理惊悚，类似Talented Mr. Ripley
5. Renaissance Man (516) - 剧情/喜剧，类似Shakespeare in Love
6. Homegrown (1824) - 犯罪喜剧，类似South Park的黑色幽默
7. Lodger (2227) - 心理惊悚
8. Small Time Crooks (3618) - 喜剧
9. Tom and Huck (8) - 历史冒险
10. Bring It On (3882) - 青春喜剧
2025-05-09 22:46:08,868 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的电影类型和风格，我注意到用户偏好历史剧情片(Patriot, Shakespeare in Love)、心理惊悚片(Sixth Sense, Talented Mr. Ripley)、浪漫喜剧(Runaway Bride)和黑色幽默(South Park)。以下是重新排序的候选电影ID列表：

[3948, 2160, 145, 1671, 516, 1824, 2227, 3618, 8, 3882, 2620, 1317, 2374, 1528, 3313, 2869, 863, 2993, 2074, 1822]

排序理由：
1. Meet the Parents (3948) - 浪漫喜剧，类似Runaway Bride
2. Rosemary's Baby (2160) - 心理惊悚，类似Sixth Sense
3. Bad Boys (145) - 动作/犯罪，类似Thomas Crown Affair
4. Deceiver (1671) - 心理惊悚，类似Talented Mr. Ripley
5. Renaissance Man (516) - 剧情/喜剧，类似Shakespeare in Love
6. Homegrown (1824) - 犯罪喜剧，类似South Park的黑色幽默
7. Lodger (2227) - 心理惊悚
8. Small Time Crooks (3618) - 喜剧
9. Tom and Huck (8) - 历史冒险
10. Bring It On (3882) - 青春喜剧
2025-05-09 22:46:08,868 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 2160, 145, 1671, 516, 1824, 2227, 3618, 8, 3882, 2620, 1317, 2374, 1528, 3313, 2869, 863, 2993, 2074, 1822, 1, 3948, 2, 2160, 3, 145, 4, 1671, 5, 516, 6, 1824, 7, 2227, 8, 3618, 9, 8, 10, 3882]
2025-05-09 22:46:08,868 - INFO - NDCG计算 - 预测列表前10项: [3948, 2160, 145, 1671, 516, 1824, 2227, 3618, 8, 3882], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:46:08,868 - INFO - 样本 4 (Trial 3): NDCG@10 = 1.0000
2025-05-09 22:46:08,869 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、犯罪片和剧情片。以下是重排后的候选电影ID列表：

[1858, 1343, 3107, 1236, 373, 1758, 1537, 3325, 2997, 971, 3145, 2507, 1024, 3864, 2049, 2566, 3933, 3672, 1053, 614]

排序理由：
1. Mr. Nice Guy (1858) - 动作片，与用户最近观看的Romeo Must Die等动作片风格相似
2. Cape Fear (1343) - 犯罪惊悚片，符合用户观看的犯罪题材偏好
3. Backdraft (3107) - 动作剧情片，与Perfect Storm等灾难/动作片类型相近
4. Trust (1236) - 犯罪剧情片
5. Red Rock West (373) - 犯罪惊悚片
6. Dangerous Beauty (1758) - 剧情片，类似Erin Brockovich的女性主角剧情
7. Shall We Dance? (1537) - 剧情片
8. Next Best Thing (3325) - 剧情片
9. Being John Malkovich (2997) - 独特剧情片
10. Cat on a Hot Tin Roof (971) - 经典剧情片
其余电影根据与用户历史偏好的相关性递减排列。
2025-05-09 22:46:08,869 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、犯罪片和剧情片。以下是重排后的候选电影ID列表：

[1858, 1343, 3107, 1236, 373, 1758, 1537, 3325, 2997, 971, 3145, 2507, 1024, 3864, 2049, 2566, 3933, 3672, 1053, 614]

排序理由：
1. Mr. Nice Guy (1858) - 动作片，与用户最近观看的Romeo Must Die等动作片风格相似
2. Cape Fear (1343) - 犯罪惊悚片，符合用户观看的犯罪题材偏好
3. Backdraft (3107) - 动作剧情片，与Perfect Storm等灾难/动作片类型相近
4. Trust (1236) - 犯罪剧情片
5. Red Rock West (373) - 犯罪惊悚片
6. Dangerous Beauty (1758) - 剧情片，类似Erin Brockovich的女性主角剧情
7. Shall We Dance? (1537) - 剧情片
8. Next Best Thing (3325) - 剧情片
9. Being John Malkovich (2997) - 独特剧情片
10. Cat on a Hot Tin Roof (971) - 经典剧情片
其余电影根据与用户历史偏好的相关性递减排列。
2025-05-09 22:46:08,869 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 1343, 3107, 1236, 373, 1758, 1537, 3325, 2997, 971, 3145, 2507, 1024, 3864, 2049, 2566, 3933, 3672, 1053, 614, 1, 1858, 2, 1343, 3, 3107, 4, 1236, 5, 373, 6, 1758, 7, 1537, 8, 3325, 9, 2997, 10, 971]
2025-05-09 22:46:08,869 - INFO - NDCG计算 - 预测列表前10项: [1858, 1343, 3107, 1236, 373, 1758, 1537, 3325, 2997, 971], 真实目标: 1758, NDCG@10: 0.3562071871080222
2025-05-09 22:46:08,869 - INFO - 样本 8 (Trial 3): NDCG@10 = 0.3562
2025-05-09 22:46:11,814 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有一些轻松幽默的作品（如《The Money Pit》《Speechless》）。以下是重排后的候选电影ID列表，综合考虑了题材相似性、风格匹配度和用户可能的兴趣点：

[1844, 1695, 2579, 2813, 1656, 1829, 3221, 41, 3516, 3858, 2755, 396, 328, 2123, 2720, 1731, 2795, 3606, 3497, 3303]

排序理由：
1. 《Live Flesh》(1844) - 西班牙文艺片，类似《Il Postino》的国际视角
2. 《Artemisia》(1695) - 女性视角的艺术传记片，类似《Antonia's Line》
3. 《Following》(2579) - 犯罪剧情片，类似《The Fugitive》的悬疑元素
4. 《The Source》(2813) - 文艺纪录片，匹配用户对严肃题材的兴趣
5. 《Swept from the Sea》(1656) - 文学改编剧情片
6. 《Chinese Box》(1829) - 国际背景的文艺片
7. 《The Draughtsman's Contract》(3221) - 艺术性强的历史剧情片
8. 《Richard III》(41) - 莎士比亚改编经典
9. 《Bell, Book and Candle》(3516) - 轻松浪漫的奇幻喜剧
10. 《Cecil B. Demented》(3858) - 另类喜剧
11-20名主要是相对更商业或类型化的作品，按艺术性递减排列
2025-05-09 22:46:11,814 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有一些轻松幽默的作品（如《The Money Pit》《Speechless》）。以下是重排后的候选电影ID列表，综合考虑了题材相似性、风格匹配度和用户可能的兴趣点：

[1844, 1695, 2579, 2813, 1656, 1829, 3221, 41, 3516, 3858, 2755, 396, 328, 2123, 2720, 1731, 2795, 3606, 3497, 3303]

排序理由：
1. 《Live Flesh》(1844) - 西班牙文艺片，类似《Il Postino》的国际视角
2. 《Artemisia》(1695) - 女性视角的艺术传记片，类似《Antonia's Line》
3. 《Following》(2579) - 犯罪剧情片，类似《The Fugitive》的悬疑元素
4. 《The Source》(2813) - 文艺纪录片，匹配用户对严肃题材的兴趣
5. 《Swept from the Sea》(1656) - 文学改编剧情片
6. 《Chinese Box》(1829) - 国际背景的文艺片
7. 《The Draughtsman's Contract》(3221) - 艺术性强的历史剧情片
8. 《Richard III》(41) - 莎士比亚改编经典
9. 《Bell, Book and Candle》(3516) - 轻松浪漫的奇幻喜剧
10. 《Cecil B. Demented》(3858) - 另类喜剧
11-20名主要是相对更商业或类型化的作品，按艺术性递减排列
2025-05-09 22:46:11,814 - INFO - 模型输出解析 - 解析后电影ID列表: [1844, 1695, 2579, 2813, 1656, 1829, 3221, 41, 3516, 3858, 2755, 396, 328, 2123, 2720, 1731, 2795, 3606, 3497, 3303, 1, 1844, 2, 1695, 3, 2579, 4, 2813, 5, 1656, 6, 1829, 7, 3221, 8, 41, 9, 3516, 10, 3858, 11, 20]
2025-05-09 22:46:11,814 - INFO - NDCG计算 - 预测列表前10项: [1844, 1695, 2579, 2813, 1656, 1829, 3221, 41, 3516, 3858], 真实目标: 1695, NDCG@10: 0.6309297535714575
2025-05-09 22:46:11,814 - INFO - 样本 0 (Trial 3): NDCG@10 = 0.6309
2025-05-09 22:46:11,815 - INFO - 开始第 4/10 次评估
2025-05-09 22:46:11,874 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:11,875 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:11,882 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:11,882 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:11,883 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:11,883 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:11,886 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:11,955 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:11,957 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:11,957 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:24,267 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、经典电影和奇幻题材），以下是重新排序的候选电影ID列表：

[3623, 2571, 2867, 3176, 2550, 3219, 1483, 381, 2154, 249, 3360, 2129, 2943, 1965, 1611, 3878, 803, 730, 146, 3590]

排序理由：
1. 动作/惊悚类优先（Mission: Impossible 2, The Matrix）
2. 悬疑/犯罪类次之（The Talented Mr. Ripley, Crash）
3. 恐怖/惊悚类（Fright Night, The Haunting）
4. 剧情类中较有戏剧性的作品
5. 文艺片和纪录片靠后
2025-05-09 22:46:24,268 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、经典电影和奇幻题材），以下是重新排序的候选电影ID列表：

[3623, 2571, 2867, 3176, 2550, 3219, 1483, 381, 2154, 249, 3360, 2129, 2943, 1965, 1611, 3878, 803, 730, 146, 3590]

排序理由：
1. 动作/惊悚类优先（Mission: Impossible 2, The Matrix）
2. 悬疑/犯罪类次之（The Talented Mr. Ripley, Crash）
3. 恐怖/惊悚类（Fright Night, The Haunting）
4. 剧情类中较有戏剧性的作品
5. 文艺片和纪录片靠后
2025-05-09 22:46:24,268 - INFO - 模型输出解析 - 解析后电影ID列表: [3623, 2571, 2867, 3176, 2550, 3219, 1483, 381, 2154, 249, 3360, 2129, 2943, 1965, 1611, 3878, 803, 730, 146, 3590, 1, 2, 2, 3, 4, 5]
2025-05-09 22:46:24,268 - INFO - NDCG计算 - 预测列表前10项: [3623, 2571, 2867, 3176, 2550, 3219, 1483, 381, 2154, 249], 真实目标: 3176, NDCG@10: 0.43067655807339306
2025-05-09 22:46:24,268 - INFO - 样本 7 (Trial 4): NDCG@10 = 0.4307
2025-05-09 22:46:26,062 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的喜剧/幽默风格电影（Animal House, Monty Python, Blazing Saddles等）和怀旧经典（Grease, Pink Panther等），以下是重排后的候选电影ID列表，优先推荐与用户观影偏好最匹配的作品：

[785, 1194, 1083, 945, 194, 3822, 29, 1365, 2022, 2858, 1263, 2438, 2311, 1797, 3709, 3474, 3768, 3667, 2705, 1145]

推荐逻辑：
1. 首推同类型喜剧（Kingpin, Up in Smoke延续用户喜欢的荒诞幽默风格）
2. 经典歌舞片（Top Hat）和怀旧作品（Great Race）匹配Grease等老片偏好
3. 法式幽默（City of Lost Children, Ridicule）衔接Monty Python的英式幽默
4. 其他类型根据用户历史数据匹配度降序排列
2025-05-09 22:46:26,062 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的喜剧/幽默风格电影（Animal House, Monty Python, Blazing Saddles等）和怀旧经典（Grease, Pink Panther等），以下是重排后的候选电影ID列表，优先推荐与用户观影偏好最匹配的作品：

[785, 1194, 1083, 945, 194, 3822, 29, 1365, 2022, 2858, 1263, 2438, 2311, 1797, 3709, 3474, 3768, 3667, 2705, 1145]

推荐逻辑：
1. 首推同类型喜剧（Kingpin, Up in Smoke延续用户喜欢的荒诞幽默风格）
2. 经典歌舞片（Top Hat）和怀旧作品（Great Race）匹配Grease等老片偏好
3. 法式幽默（City of Lost Children, Ridicule）衔接Monty Python的英式幽默
4. 其他类型根据用户历史数据匹配度降序排列
2025-05-09 22:46:26,062 - INFO - 模型输出解析 - 解析后电影ID列表: [785, 1194, 1083, 945, 194, 3822, 29, 1365, 2022, 2858, 1263, 2438, 2311, 1797, 3709, 3474, 3768, 3667, 2705, 1145, 1, 2, 3, 4]
2025-05-09 22:46:26,062 - INFO - NDCG计算 - 预测列表前10项: [785, 1194, 1083, 945, 194, 3822, 29, 1365, 2022, 2858], 真实目标: 1194, NDCG@10: 0.6309297535714575
2025-05-09 22:46:26,062 - INFO - 样本 1 (Trial 4): NDCG@10 = 0.6309
2025-05-09 22:46:28,089 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate、Tron、Independence Day、Star Trek等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的科幻/动作类电影：

[2011, 3699, 2532, 555, 3557, 515, 1541, 1257, 2467, 2482, 2703, 1357, 1102, 1420, 421, 2562, 1174, 310, 576, 3739]

推荐理由：
1. Back to the Future Part II (2011) - 经典科幻续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/犯罪题材
5. Jennifer 8 (3557) - 惊悚/犯罪题材
6. The Remains of the Day (515) - 虽然非科幻但质量较高
7. Addicted to Love (1541) - 爱情喜剧作为调剂
其余电影按类型相关性和评分排序
2025-05-09 22:46:28,089 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate、Tron、Independence Day、Star Trek等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的科幻/动作类电影：

[2011, 3699, 2532, 555, 3557, 515, 1541, 1257, 2467, 2482, 2703, 1357, 1102, 1420, 421, 2562, 1174, 310, 576, 3739]

推荐理由：
1. Back to the Future Part II (2011) - 经典科幻续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/犯罪题材
5. Jennifer 8 (3557) - 惊悚/犯罪题材
6. The Remains of the Day (515) - 虽然非科幻但质量较高
7. Addicted to Love (1541) - 爱情喜剧作为调剂
其余电影按类型相关性和评分排序
2025-05-09 22:46:28,089 - INFO - 模型输出解析 - 解析后电影ID列表: [2011, 3699, 2532, 555, 3557, 515, 1541, 1257, 2467, 2482, 2703, 1357, 1102, 1420, 421, 2562, 1174, 310, 576, 3739, 1, 2011, 2, 3699, 3, 2532, 4, 555, 5, 8, 3557, 6, 515, 7, 1541]
2025-05-09 22:46:28,089 - INFO - NDCG计算 - 预测列表前10项: [2011, 3699, 2532, 555, 3557, 515, 1541, 1257, 2467, 2482], 真实目标: 2011, NDCG@10: 1.0
2025-05-09 22:46:28,089 - INFO - 样本 2 (Trial 4): NDCG@10 = 1.0000
2025-05-09 22:46:30,112 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、犯罪片和剧情片（如《Mission to Mars》《Boiler Room》《Gone in 60 Seconds》《Shaft》《Romeo Must Die》等）。以下是按相关性排序的候选电影ID列表：

[1343, 1858, 373, 1758, 3107, 1236, 1537, 3325, 2997, 971, 3145, 3864, 1053, 614, 2507, 1024, 2049, 2566, 3933, 3672]

排序理由：
1. 《Cape Fear》(1343) - 犯罪惊悚片，符合用户近期偏好
2. 《Mr. Nice Guy》(1858) - 动作片，成龙主演
3. 《Red Rock West》(373) - 犯罪惊悚片
4. 《Dangerous Beauty》(1758) - 剧情片，类似《Erin Brockovich》
5. 《Backdraft》(3107) - 动作/剧情片
6. 《Trust》(1236) - 犯罪剧情片
7. 《Shall We Dance?》(1537) - 剧情片，有一定情感元素
8. 《Next Best Thing》(3325) - 剧情片
9. 《Being John Malkovich》(2997) - 独特剧情片
10. 其余电影按类型相关性递减排列
2025-05-09 22:46:30,112 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、犯罪片和剧情片（如《Mission to Mars》《Boiler Room》《Gone in 60 Seconds》《Shaft》《Romeo Must Die》等）。以下是按相关性排序的候选电影ID列表：

[1343, 1858, 373, 1758, 3107, 1236, 1537, 3325, 2997, 971, 3145, 3864, 1053, 614, 2507, 1024, 2049, 2566, 3933, 3672]

排序理由：
1. 《Cape Fear》(1343) - 犯罪惊悚片，符合用户近期偏好
2. 《Mr. Nice Guy》(1858) - 动作片，成龙主演
3. 《Red Rock West》(373) - 犯罪惊悚片
4. 《Dangerous Beauty》(1758) - 剧情片，类似《Erin Brockovich》
5. 《Backdraft》(3107) - 动作/剧情片
6. 《Trust》(1236) - 犯罪剧情片
7. 《Shall We Dance?》(1537) - 剧情片，有一定情感元素
8. 《Next Best Thing》(3325) - 剧情片
9. 《Being John Malkovich》(2997) - 独特剧情片
10. 其余电影按类型相关性递减排列
2025-05-09 22:46:30,112 - INFO - 模型输出解析 - 解析后电影ID列表: [60, 1343, 1858, 373, 1758, 3107, 1236, 1537, 3325, 2997, 971, 3145, 3864, 1053, 614, 2507, 1024, 2049, 2566, 3933, 3672, 1, 1343, 2, 1858, 3, 373, 4, 1758, 5, 3107, 6, 1236, 7, 1537, 8, 3325, 9, 2997, 10]
2025-05-09 22:46:30,112 - INFO - NDCG计算 - 预测列表前10项: [60, 1343, 1858, 373, 1758, 3107, 1236, 1537, 3325, 2997], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 22:46:30,112 - INFO - 样本 8 (Trial 4): NDCG@10 = 0.3869
2025-05-09 22:46:32,561 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的电影类型和风格，我分析出用户偏好以下几个方向：
1. 历史/战争题材（The Patriot）
2. 文艺剧情片（Shakespeare in Love, Snow Falling on Cedars）
3. 悬疑惊悚（The Sixth Sense, The Talented Mr. Ripley）
4. 轻喜剧（Runaway Bride）
5. 犯罪剧情（The Thomas Crown Affair）

根据这些偏好，我对候选电影的推荐排序如下：

[2160, 1671, 145, 3948, 516, 1824, 3618, 3882, 2993, 8, 2227, 1317, 1528, 1822, 2074, 2620, 2869, 3313, 863, 2374]

推荐理由：
1. Rosemary's Baby (2160) - 经典悬疑惊悚片，符合用户对悬疑类型的偏好
2. Deceiver (1671) - 犯罪悬疑题材
3. Bad Boys (145) - 动作犯罪片
4. Meet the Parents (3948) - 优质喜剧
5. Renaissance Man (516) - 轻喜剧+军事题材
6. Homegrown (1824) - 犯罪剧情片
7. Small Time Crooks (3618) - 犯罪喜剧
8. Bring It On (3882) - 青春喜剧
9. Thunderball (2993) - 经典007动作片
10. Tom and Huck (8) - 轻松冒险题材

这个排序综合考虑了用户偏好的多个维度，优先推荐与用户历史观看最相似的类型。
2025-05-09 22:46:32,561 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的电影类型和风格，我分析出用户偏好以下几个方向：
1. 历史/战争题材（The Patriot）
2. 文艺剧情片（Shakespeare in Love, Snow Falling on Cedars）
3. 悬疑惊悚（The Sixth Sense, The Talented Mr. Ripley）
4. 轻喜剧（Runaway Bride）
5. 犯罪剧情（The Thomas Crown Affair）

根据这些偏好，我对候选电影的推荐排序如下：

[2160, 1671, 145, 3948, 516, 1824, 3618, 3882, 2993, 8, 2227, 1317, 1528, 1822, 2074, 2620, 2869, 3313, 863, 2374]

推荐理由：
1. Rosemary's Baby (2160) - 经典悬疑惊悚片，符合用户对悬疑类型的偏好
2. Deceiver (1671) - 犯罪悬疑题材
3. Bad Boys (145) - 动作犯罪片
4. Meet the Parents (3948) - 优质喜剧
5. Renaissance Man (516) - 轻喜剧+军事题材
6. Homegrown (1824) - 犯罪剧情片
7. Small Time Crooks (3618) - 犯罪喜剧
8. Bring It On (3882) - 青春喜剧
9. Thunderball (2993) - 经典007动作片
10. Tom and Huck (8) - 轻松冒险题材

这个排序综合考虑了用户偏好的多个维度，优先推荐与用户历史观看最相似的类型。
2025-05-09 22:46:32,561 - INFO - 模型输出解析 - 解析后电影ID列表: [1, 2, 3, 4, 5, 2160, 1671, 145, 3948, 516, 1824, 3618, 3882, 2993, 8, 2227, 1317, 1528, 1822, 2074, 2620, 2869, 3313, 863, 2374, 1, 2160, 2, 1671, 3, 145, 4, 3948, 5, 516, 6, 1824, 7, 3618, 8, 3882, 9, 2993, 7, 10, 8]
2025-05-09 22:46:32,561 - INFO - NDCG计算 - 预测列表前10项: [1, 2, 3, 4, 5, 2160, 1671, 145, 3948, 516], 真实目标: 3948, NDCG@10: 0.3010299956639812
2025-05-09 22:46:32,561 - INFO - 样本 4 (Trial 4): NDCG@10 = 0.3010
2025-05-09 22:46:32,563 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好偏向于剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有少量轻松喜剧（如《The Money Pit》）。以下是重排后的候选电影ID列表：

[1844, 1695, 2813, 1829, 1656, 2579, 3221, 41, 3516, 3858, 2755, 396, 2720, 1731, 328, 2123, 3606, 2795, 3303, 3497]

排序理由：
1. **Live Flesh (1844)** - 阿莫多瓦导演的剧情片，符合用户文艺片偏好
2. **Artemisia (1695)** - 艺术传记片，类似《Antonia's Line》的艺术风格
3. **The Source (2813)** - 思想性纪录片，匹配用户观看深度电影的习惯
4. **Chinese Box (1829)** - 王家卫参与的文艺片
5. **Swept from the Sea (1656)** - 文学改编剧情片
6. **Following (2579)** - 诺兰早期悬疑作品，有一定深度
7. **The Draughtsman's Contract (3221)** - 艺术性强的历史剧情片
8. **Richard III (41)** - 莎士比亚改编经典
9. **Bell, Book and Candle (3516)** - 经典浪漫喜剧
10. **Cecil B. Demented (3858)** - 另类cult电影
...后续为更商业或类型片倾向的作品
2025-05-09 22:46:32,563 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好偏向于剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有少量轻松喜剧（如《The Money Pit》）。以下是重排后的候选电影ID列表：

[1844, 1695, 2813, 1829, 1656, 2579, 3221, 41, 3516, 3858, 2755, 396, 2720, 1731, 328, 2123, 3606, 2795, 3303, 3497]

排序理由：
1. **Live Flesh (1844)** - 阿莫多瓦导演的剧情片，符合用户文艺片偏好
2. **Artemisia (1695)** - 艺术传记片，类似《Antonia's Line》的艺术风格
3. **The Source (2813)** - 思想性纪录片，匹配用户观看深度电影的习惯
4. **Chinese Box (1829)** - 王家卫参与的文艺片
5. **Swept from the Sea (1656)** - 文学改编剧情片
6. **Following (2579)** - 诺兰早期悬疑作品，有一定深度
7. **The Draughtsman's Contract (3221)** - 艺术性强的历史剧情片
8. **Richard III (41)** - 莎士比亚改编经典
9. **Bell, Book and Candle (3516)** - 经典浪漫喜剧
10. **Cecil B. Demented (3858)** - 另类cult电影
...后续为更商业或类型片倾向的作品
2025-05-09 22:46:32,563 - INFO - 模型输出解析 - 解析后电影ID列表: [1844, 1695, 2813, 1829, 1656, 2579, 3221, 41, 3516, 3858, 2755, 396, 2720, 1731, 328, 2123, 3606, 2795, 3303, 3497, 1, 1844, 2, 1695, 3, 2813, 4, 1829, 5, 1656, 6, 2579, 7, 3221, 8, 41, 9, 3516, 10, 3858]
2025-05-09 22:46:32,563 - INFO - NDCG计算 - 预测列表前10项: [1844, 1695, 2813, 1829, 1656, 2579, 3221, 41, 3516, 3858], 真实目标: 1695, NDCG@10: 0.6309297535714575
2025-05-09 22:46:32,563 - INFO - 样本 0 (Trial 4): NDCG@10 = 0.6309
2025-05-09 22:46:32,895 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好偏向于文艺片、独立电影和剧情片，特别是那些带有文学改编、情感深度和社会议题的作品（如《Little Women》《The Secret Garden》《Angels and Insects》）。以下是重排后的候选电影ID列表，优先推荐与用户历史观影风格契合度高的作品：

1. Agnes of God (ID:3251) - 宗教/心理剧情片，符合《Angels and Insects》的严肃主题
2. Talk of Angels (ID:887) - 文学风格战争剧情片，类似《Little Women》的历史背景
3. Eden (ID:1815) - 独立电影气质，接近《High Art》的文艺调性
4. I Like It Like That (ID:359) - 都市剧情片，呼应《SLC Punk!》的社会视角
5. Losing Isaiah (ID:271) - 情感驱动剧情片，类似《The Spitfire Grill》的人文关怀
6. 8 1/2 Women (ID:3626) - 艺术电影，适合喜欢《Love and Death on Long Island》的观众
7. Reality Bites (ID:372) - 90年代青年文化，与《Last Days of Disco》年代感呼应
8. The Net (ID:185) - 90年代惊悚片，作为类型片调剂
9. Stand by Me (ID:1259) - 经典成长故事，保守选择
10. My Blue Heaven (ID:2249) - 喜剧调剂

其余ID保持原顺序。这个排序优先考虑了：1) 文艺片/独立电影 2) 文学改编作品 3) 情感深刻的剧情片 4) 90年代时代特色影片。
2025-05-09 22:46:32,895 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好偏向于文艺片、独立电影和剧情片，特别是那些带有文学改编、情感深度和社会议题的作品（如《Little Women》《The Secret Garden》《Angels and Insects》）。以下是重排后的候选电影ID列表，优先推荐与用户历史观影风格契合度高的作品：

1. Agnes of God (ID:3251) - 宗教/心理剧情片，符合《Angels and Insects》的严肃主题
2. Talk of Angels (ID:887) - 文学风格战争剧情片，类似《Little Women》的历史背景
3. Eden (ID:1815) - 独立电影气质，接近《High Art》的文艺调性
4. I Like It Like That (ID:359) - 都市剧情片，呼应《SLC Punk!》的社会视角
5. Losing Isaiah (ID:271) - 情感驱动剧情片，类似《The Spitfire Grill》的人文关怀
6. 8 1/2 Women (ID:3626) - 艺术电影，适合喜欢《Love and Death on Long Island》的观众
7. Reality Bites (ID:372) - 90年代青年文化，与《Last Days of Disco》年代感呼应
8. The Net (ID:185) - 90年代惊悚片，作为类型片调剂
9. Stand by Me (ID:1259) - 经典成长故事，保守选择
10. My Blue Heaven (ID:2249) - 喜剧调剂

其余ID保持原顺序。这个排序优先考虑了：1) 文艺片/独立电影 2) 文学改编作品 3) 情感深刻的剧情片 4) 90年代时代特色影片。
2025-05-09 22:46:32,895 - INFO - 模型输出解析 - 解析后电影ID列表: [1, 3251, 2, 887, 3, 1815, 4, 359, 5, 271, 6, 8, 1, 2, 3626, 7, 372, 90, 8, 185, 90, 9, 1259, 10, 2249, 1, 2, 3, 4, 90]
2025-05-09 22:46:32,895 - INFO - NDCG计算 - 预测列表前10项: [1, 3251, 2, 887, 3, 1815, 4, 359, 5, 271], 真实目标: 372, NDCG@10: 0.0
2025-05-09 22:46:32,895 - INFO - 样本 6 (Trial 4): NDCG@10 = 0.0000
2025-05-09 22:46:32,919 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户观看历史，我们可以观察到以下偏好：
1. 混合了经典动作片(T2, Braveheart)、黑色幽默/另类电影(Boogie Nights, Edward Scissorhands)、心理惊悚(Rosemary's Baby)和文艺片(After Life)
2. 包含一些年代跨度较大的作品(From Russia with Love到High Fidelity)

推荐排序如下(优先考虑类型混合和风格匹配)：

[1103, 1590, 2318, 161, 1880, 1965, 1251, 3258, 3723, 876, 2144, 396, 2210, 381, 2970, 3695, 2637, 3710, 3413, 3245]

具体理由：
1. Rebel Without a Cause(1103) - 经典cult片，符合用户另类口味
2. Event Horizon(1590) - 科幻惊悚，类似Terminator和Rosemary's Baby的结合
3. Happiness(2318) - 黑色幽默，类似Boogie Nights风格
4. Crimson Tide(161) - 动作/剧情，类似Braveheart的男性导向电影
5. Lawn Dogs(1880) - 文艺剧情片，类似After Life的沉思风格
6. Repo Man(1965) - 另类cult经典
7. 8 1/2(1251) - 艺术电影，提升片单多样性
8. Death Becomes Her(3258) - 黑色喜剧，类似Edward Scissorhands
9-20位保持类型多样性同时逐渐降低匹配度
2025-05-09 22:46:32,919 - INFO - 模型输出解析 - 原始输出:
基于用户观看历史，我们可以观察到以下偏好：
1. 混合了经典动作片(T2, Braveheart)、黑色幽默/另类电影(Boogie Nights, Edward Scissorhands)、心理惊悚(Rosemary's Baby)和文艺片(After Life)
2. 包含一些年代跨度较大的作品(From Russia with Love到High Fidelity)

推荐排序如下(优先考虑类型混合和风格匹配)：

[1103, 1590, 2318, 161, 1880, 1965, 1251, 3258, 3723, 876, 2144, 396, 2210, 381, 2970, 3695, 2637, 3710, 3413, 3245]

具体理由：
1. Rebel Without a Cause(1103) - 经典cult片，符合用户另类口味
2. Event Horizon(1590) - 科幻惊悚，类似Terminator和Rosemary's Baby的结合
3. Happiness(2318) - 黑色幽默，类似Boogie Nights风格
4. Crimson Tide(161) - 动作/剧情，类似Braveheart的男性导向电影
5. Lawn Dogs(1880) - 文艺剧情片，类似After Life的沉思风格
6. Repo Man(1965) - 另类cult经典
7. 8 1/2(1251) - 艺术电影，提升片单多样性
8. Death Becomes Her(3258) - 黑色喜剧，类似Edward Scissorhands
9-20位保持类型多样性同时逐渐降低匹配度
2025-05-09 22:46:32,919 - INFO - 模型输出解析 - 解析后电影ID列表: [1, 2, 2, 1103, 1590, 2318, 161, 1880, 1965, 1251, 3258, 3723, 876, 2144, 396, 2210, 381, 2970, 3695, 2637, 3710, 3413, 3245, 1, 1103, 2, 1590, 3, 2318, 4, 161, 5, 1880, 6, 1965, 7, 8, 1, 2, 1251, 8, 3258, 9, 20]
2025-05-09 22:46:32,919 - INFO - NDCG计算 - 预测列表前10项: [1, 2, 2, 1103, 1590, 2318, 161, 1880, 1965, 1251], 真实目标: 1965, NDCG@10: 0.3010299956639812
2025-05-09 22:46:32,919 - INFO - 样本 9 (Trial 4): NDCG@10 = 0.3010
2025-05-09 22:46:35,388 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影类型和风格分析（政治剧情片、文学改编、社会议题、浪漫喜剧等），我将候选电影按相关性排序如下：

1. Shadowlands (ID:534) - 文学改编/情感剧情片
2. Passion Fish (ID:1187) - 社会议题/女性剧情片
3. Murder in the First (ID:280) - 法庭剧情片
4. Good Mother, The (ID:3449) - 家庭伦理剧情片
5. Third Miracle, The (ID:3183) - 宗教剧情片
6. Anatomy of a Murder (ID:3801) - 经典法庭剧情片
7. Max Dugan Returns (ID:3497) - 家庭剧情片
8. Sirens (ID:537) - 艺术剧情片
9. Touch (ID:1458) - 社会议题剧情片
10. Dracula (ID:2644) - 文学改编

次要推荐（风格差异较大）：
11. Sister Act (ID:3247)
12. Airplane! (ID:2791)
13. Naked Gun 33 1/3: The Final Insult (ID:370)
14. One Crazy Summer (ID:2261)
15. Groove (ID:3790)

最不相关：
16. Century (ID:607)
17. Collectionneuse, La (ID:823)
18. Truth or Consequences, N.M. (ID:1523)
19. Blood In, Blood Out (a.k.a. Bound by Honor) (ID:3761)
20. Stalker (ID:1232)

最终排序ID列表：
[534, 1187, 280, 3449, 3183, 3801, 3497, 537, 1458, 2644, 3247, 2791, 370, 2261, 3790, 607, 823, 1523, 3761, 1232]
2025-05-09 22:46:35,388 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影类型和风格分析（政治剧情片、文学改编、社会议题、浪漫喜剧等），我将候选电影按相关性排序如下：

1. Shadowlands (ID:534) - 文学改编/情感剧情片
2. Passion Fish (ID:1187) - 社会议题/女性剧情片
3. Murder in the First (ID:280) - 法庭剧情片
4. Good Mother, The (ID:3449) - 家庭伦理剧情片
5. Third Miracle, The (ID:3183) - 宗教剧情片
6. Anatomy of a Murder (ID:3801) - 经典法庭剧情片
7. Max Dugan Returns (ID:3497) - 家庭剧情片
8. Sirens (ID:537) - 艺术剧情片
9. Touch (ID:1458) - 社会议题剧情片
10. Dracula (ID:2644) - 文学改编

次要推荐（风格差异较大）：
11. Sister Act (ID:3247)
12. Airplane! (ID:2791)
13. Naked Gun 33 1/3: The Final Insult (ID:370)
14. One Crazy Summer (ID:2261)
15. Groove (ID:3790)

最不相关：
16. Century (ID:607)
17. Collectionneuse, La (ID:823)
18. Truth or Consequences, N.M. (ID:1523)
19. Blood In, Blood Out (a.k.a. Bound by Honor) (ID:3761)
20. Stalker (ID:1232)

最终排序ID列表：
[534, 1187, 280, 3449, 3183, 3801, 3497, 537, 1458, 2644, 3247, 2791, 370, 2261, 3790, 607, 823, 1523, 3761, 1232]
2025-05-09 22:46:35,388 - INFO - 模型输出解析 - 解析后电影ID列表: [1, 534, 2, 1187, 3, 280, 4, 3449, 5, 3183, 6, 3801, 7, 3497, 8, 537, 9, 1458, 10, 2644, 11, 3247, 12, 2791, 13, 33, 1, 3, 370, 14, 2261, 15, 3790, 16, 607, 17, 823, 18, 1523, 19, 3761, 20, 1232, 534, 1187, 280, 3449, 3183, 3801, 3497, 537, 1458, 2644, 3247, 2791, 370, 2261, 3790, 607, 823, 1523, 3761, 1232]
2025-05-09 22:46:35,388 - INFO - NDCG计算 - 预测列表前10项: [1, 534, 2, 1187, 3, 280, 4, 3449, 5, 3183], 真实目标: 534, NDCG@10: 0.6309297535714575
2025-05-09 22:46:35,388 - INFO - 样本 5 (Trial 4): NDCG@10 = 0.6309
2025-05-09 22:46:38,659 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户的观影偏好主要集中在动作片、惊悚片、黑色喜剧和犯罪题材（如《Gladiator》《American Psycho》《Final Destination》），同时也包含一些轻松喜剧（如《Meet the Parents》《Big Momma's House》）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣匹配度高的影片：

1. Get Shorty (ID:21) - 犯罪喜剧，与《American Psycho》《Duets》调性相似
2. Naked Gun 33 1/3: The Final Insult (ID:370) - 无厘头喜剧，匹配《Meet the Parents》偏好
3. Boomerang (ID:122) - 浪漫喜剧，类似《Big Momma's House》的轻松风格
4. Tomorrow Never Dies (ID:1722) - 动作片，延续《Gladiator》《Replacements》的兴趣
5. Alien Nation (ID:3701) - 科幻动作，呼应《Supernova》《Final Destination》
6. Bronx Tale, A (ID:428) - 犯罪成长故事，类似《American Psycho》的黑暗气质
7. King Kong (ID:2367) - 冒险动作，匹配《Gladiator》的大片偏好
8. Braddock: Missing in Action III (ID:3768) - 硬派动作，延续《Replacements》风格
9. Favor, The (ID:447) - 黑色喜剧，接近《Screwed》《American Psycho》
10. Twin Town (ID:1539) - 英国犯罪喜剧，类似《Screwed》的荒诞感

次要推荐（文艺/严肃题材）：
11. Mrs. Winterbourne (ID:691)
12. Dream With the Fishes (ID:1563)
13. ...And Justice for All (ID:3420)
14. Picnic at Hanging Rock (ID:1913)
15. King of Masks, The (Bian Lian) (ID:2609)

不推荐优先展示：
- 纯爱情片（《Autumn in New York》）
- 艺术电影（《Kika》《Golden Bowl》）
- 无关联题材（《To Have, or Not》《Very Brady Sequel》）
2025-05-09 22:46:38,659 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户的观影偏好主要集中在动作片、惊悚片、黑色喜剧和犯罪题材（如《Gladiator》《American Psycho》《Final Destination》），同时也包含一些轻松喜剧（如《Meet the Parents》《Big Momma's House》）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣匹配度高的影片：

1. Get Shorty (ID:21) - 犯罪喜剧，与《American Psycho》《Duets》调性相似
2. Naked Gun 33 1/3: The Final Insult (ID:370) - 无厘头喜剧，匹配《Meet the Parents》偏好
3. Boomerang (ID:122) - 浪漫喜剧，类似《Big Momma's House》的轻松风格
4. Tomorrow Never Dies (ID:1722) - 动作片，延续《Gladiator》《Replacements》的兴趣
5. Alien Nation (ID:3701) - 科幻动作，呼应《Supernova》《Final Destination》
6. Bronx Tale, A (ID:428) - 犯罪成长故事，类似《American Psycho》的黑暗气质
7. King Kong (ID:2367) - 冒险动作，匹配《Gladiator》的大片偏好
8. Braddock: Missing in Action III (ID:3768) - 硬派动作，延续《Replacements》风格
9. Favor, The (ID:447) - 黑色喜剧，接近《Screwed》《American Psycho》
10. Twin Town (ID:1539) - 英国犯罪喜剧，类似《Screwed》的荒诞感

次要推荐（文艺/严肃题材）：
11. Mrs. Winterbourne (ID:691)
12. Dream With the Fishes (ID:1563)
13. ...And Justice for All (ID:3420)
14. Picnic at Hanging Rock (ID:1913)
15. King of Masks, The (Bian Lian) (ID:2609)

不推荐优先展示：
- 纯爱情片（《Autumn in New York》）
- 艺术电影（《Kika》《Golden Bowl》）
- 无关联题材（《To Have, or Not》《Very Brady Sequel》）
2025-05-09 22:46:38,659 - INFO - 模型输出解析 - 解析后电影ID列表: [1, 21, 2, 33, 1, 3, 370, 3, 122, 4, 1722, 5, 3701, 6, 428, 7, 2367, 8, 3768, 9, 447, 10, 1539, 11, 691, 12, 1563, 13, 3420, 14, 1913, 15, 2609]
2025-05-09 22:46:38,660 - INFO - NDCG计算 - 预测列表前10项: [1, 21, 2, 33, 1, 3, 370, 3, 122, 4], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:46:38,660 - INFO - 样本 3 (Trial 4): NDCG@10 = 0.0000
2025-05-09 22:46:38,660 - INFO - 开始第 5/10 次评估
2025-05-09 22:46:38,733 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:38,733 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:38,818 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:38,819 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:38,823 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:38,824 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:38,827 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:38,830 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:38,831 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:38,834 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:50,498 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、经典电影和奇幻类），以下是重排后的候选电影ID列表：

3623, 2571, 2867, 2550, 3176, 3219, 1483, 381, 2154, 249, 3360, 146, 1965, 1611, 2129, 2943, 3878, 803, 3590, 730

排序理由：
1. 优先推荐动作/惊悚类（Mission: Impossible 2, The Matrix）
2. 其次是悬疑/犯罪类（The Talented Mr. Ripley, Crash）
3. 然后是恐怖/惊悚类（Fright Night, The Haunting）
4. 接着是剧情类（When a Man Loves a Woman等）
5. 最后是其他不太相关的类型
2025-05-09 22:46:50,499 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、经典电影和奇幻类），以下是重排后的候选电影ID列表：

3623, 2571, 2867, 2550, 3176, 3219, 1483, 381, 2154, 249, 3360, 146, 1965, 1611, 2129, 2943, 3878, 803, 3590, 730

排序理由：
1. 优先推荐动作/惊悚类（Mission: Impossible 2, The Matrix）
2. 其次是悬疑/犯罪类（The Talented Mr. Ripley, Crash）
3. 然后是恐怖/惊悚类（Fright Night, The Haunting）
4. 接着是剧情类（When a Man Loves a Woman等）
5. 最后是其他不太相关的类型
2025-05-09 22:46:50,499 - INFO - 模型输出解析 - 解析后电影ID列表: [3623, 2571, 2867, 2550, 3176, 3219, 1483, 381, 2154, 249, 3360, 146, 1965, 1611, 2129, 2943, 3878, 803, 3590, 730, 1, 2, 2, 3, 4, 5]
2025-05-09 22:46:50,499 - INFO - NDCG计算 - 预测列表前10项: [3623, 2571, 2867, 2550, 3176, 3219, 1483, 381, 2154, 249], 真实目标: 3176, NDCG@10: 0.38685280723454163
2025-05-09 22:46:50,499 - INFO - 样本 7 (Trial 5): NDCG@10 = 0.3869
2025-05-09 22:46:51,498 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、情感类电影以及有一定深度的故事片。以下是重排后的候选电影ID列表：

[534, 1187, 3183, 3449, 280, 537, 607, 823, 1232, 1458, 1523, 2261, 2644, 3247, 3497, 370, 3790, 3761, 3801, 2791]

排序理由：
1. 优先推荐与用户近期观看风格相似的剧情/情感类电影(Shadowlands, Passion Fish等)
2. 其次是带有一定社会议题或人性探讨的电影(Third Miracle, Good Mother等)
3. 然后是犯罪/悬疑类题材(Murder in the First等)
4. 最后是喜剧/动作类电影，虽然用户近期观看记录中这类题材较少
2025-05-09 22:46:51,498 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、情感类电影以及有一定深度的故事片。以下是重排后的候选电影ID列表：

[534, 1187, 3183, 3449, 280, 537, 607, 823, 1232, 1458, 1523, 2261, 2644, 3247, 3497, 370, 3790, 3761, 3801, 2791]

排序理由：
1. 优先推荐与用户近期观看风格相似的剧情/情感类电影(Shadowlands, Passion Fish等)
2. 其次是带有一定社会议题或人性探讨的电影(Third Miracle, Good Mother等)
3. 然后是犯罪/悬疑类题材(Murder in the First等)
4. 最后是喜剧/动作类电影，虽然用户近期观看记录中这类题材较少
2025-05-09 22:46:51,498 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 1187, 3183, 3449, 280, 537, 607, 823, 1232, 1458, 1523, 2261, 2644, 3247, 3497, 370, 3790, 3761, 3801, 2791, 1, 2, 3, 4]
2025-05-09 22:46:51,498 - INFO - NDCG计算 - 预测列表前10项: [534, 1187, 3183, 3449, 280, 537, 607, 823, 1232, 1458], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:46:51,498 - INFO - 样本 5 (Trial 5): NDCG@10 = 1.0000
2025-05-09 22:46:53,828 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户观看历史中的喜剧片和经典电影偏好，以下是重排后的候选电影ID列表：

[1194, 785, 1083, 945, 194, 3822, 1365, 29, 1263, 2022, 2858, 2438, 3709, 3474, 2311, 1797, 3768, 2705, 3667, 1145]

排序理由：
1. Up in Smoke (1194) - 与用户喜欢的Animal House等喜剧风格匹配
2. Kingpin (785) - 与Blazing Saddles类似的荒诞喜剧
3. Great Race, The (1083) - 经典喜剧冒险片，类似Kelly's Heroes
4. Top Hat (945) - 经典歌舞片，延续Grease的歌舞元素
5. Smoke (194) - 文艺片但带有喜剧元素
6. Girl on the Bridge (3822) - 法国浪漫喜剧
7. Ridicule (1365) - 历史背景的讽刺喜剧
8. City of Lost Children (29) - 奇幻风格，类似Monty Python的荒诞感
其余电影按类型相关度降序排列
2025-05-09 22:46:53,828 - INFO - 模型输出解析 - 原始输出:
基于用户观看历史中的喜剧片和经典电影偏好，以下是重排后的候选电影ID列表：

[1194, 785, 1083, 945, 194, 3822, 1365, 29, 1263, 2022, 2858, 2438, 3709, 3474, 2311, 1797, 3768, 2705, 3667, 1145]

排序理由：
1. Up in Smoke (1194) - 与用户喜欢的Animal House等喜剧风格匹配
2. Kingpin (785) - 与Blazing Saddles类似的荒诞喜剧
3. Great Race, The (1083) - 经典喜剧冒险片，类似Kelly's Heroes
4. Top Hat (945) - 经典歌舞片，延续Grease的歌舞元素
5. Smoke (194) - 文艺片但带有喜剧元素
6. Girl on the Bridge (3822) - 法国浪漫喜剧
7. Ridicule (1365) - 历史背景的讽刺喜剧
8. City of Lost Children (29) - 奇幻风格，类似Monty Python的荒诞感
其余电影按类型相关度降序排列
2025-05-09 22:46:53,828 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 194, 3822, 1365, 29, 1263, 2022, 2858, 2438, 3709, 3474, 2311, 1797, 3768, 2705, 3667, 1145, 1, 1194, 2, 785, 3, 1083, 4, 945, 5, 194, 6, 3822, 7, 1365, 8, 29]
2025-05-09 22:46:53,828 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 194, 3822, 1365, 29, 1263, 2022], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:46:53,828 - INFO - 样本 1 (Trial 5): NDCG@10 = 1.0000
2025-05-09 22:46:53,896 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的电影类型和风格，我分析出用户偏好历史剧情片、爱情片、悬疑惊悚片和黑色幽默类电影。以下是重排后的候选电影ID列表：

[2160, 3948, 145, 1824, 516, 1671, 2227, 2074, 3618, 2869, 1528, 8, 2620, 3313, 1317, 2374, 863, 2993, 1822, 3882]

排序理由：
1. 优先选择悬疑惊悚类(Rosemary's Baby)和历史剧情片，与用户观看的The Sixth Sense和The Talented Mr. Ripley等风格匹配
2. 其次推荐黑色幽默类(Meet the Parents)和犯罪剧情片，符合South Park和Summer of Sam的观看偏好
3. 然后选择浪漫剧情片，延续Shakespeare in Love和Runaway Bride的兴趣
4. 最后是其他类型中可能相关的电影
2025-05-09 22:46:53,896 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的电影类型和风格，我分析出用户偏好历史剧情片、爱情片、悬疑惊悚片和黑色幽默类电影。以下是重排后的候选电影ID列表：

[2160, 3948, 145, 1824, 516, 1671, 2227, 2074, 3618, 2869, 1528, 8, 2620, 3313, 1317, 2374, 863, 2993, 1822, 3882]

排序理由：
1. 优先选择悬疑惊悚类(Rosemary's Baby)和历史剧情片，与用户观看的The Sixth Sense和The Talented Mr. Ripley等风格匹配
2. 其次推荐黑色幽默类(Meet the Parents)和犯罪剧情片，符合South Park和Summer of Sam的观看偏好
3. 然后选择浪漫剧情片，延续Shakespeare in Love和Runaway Bride的兴趣
4. 最后是其他类型中可能相关的电影
2025-05-09 22:46:53,896 - INFO - 模型输出解析 - 解析后电影ID列表: [2160, 3948, 145, 1824, 516, 1671, 2227, 2074, 3618, 2869, 1528, 8, 2620, 3313, 1317, 2374, 863, 2993, 1822, 3882, 1, 2, 3, 4]
2025-05-09 22:46:53,896 - INFO - NDCG计算 - 预测列表前10项: [2160, 3948, 145, 1824, 516, 1671, 2227, 2074, 3618, 2869], 真实目标: 3948, NDCG@10: 0.6309297535714575
2025-05-09 22:46:53,896 - INFO - 样本 4 (Trial 5): NDCG@10 = 0.6309
2025-05-09 22:46:54,990 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate、Tron、Independence Day等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的电影：

[2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482, 2703, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739]

排序理由：
1. Back to the Future Part II (2011) - 经典科幻续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/犯罪题材
5. Jennifer 8 (3557) - 惊悚/犯罪
6. Addicted to Love (1541) - 现代爱情喜剧
7. The Remains of the Day (515) - 剧情片
8. Shine (1357) - 传记剧情片
9. The Name of the Rose (2467) - 中世纪悬疑
10. Still Crazy (2482) - 音乐喜剧
2025-05-09 22:46:54,990 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate、Tron、Independence Day等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的电影：

[2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482, 2703, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739]

排序理由：
1. Back to the Future Part II (2011) - 经典科幻续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/犯罪题材
5. Jennifer 8 (3557) - 惊悚/犯罪
6. Addicted to Love (1541) - 现代爱情喜剧
7. The Remains of the Day (515) - 剧情片
8. Shine (1357) - 传记剧情片
9. The Name of the Rose (2467) - 中世纪悬疑
10. Still Crazy (2482) - 音乐喜剧
2025-05-09 22:46:54,990 - INFO - 模型输出解析 - 解析后电影ID列表: [2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482, 2703, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739, 1, 2011, 2, 3699, 3, 2532, 4, 555, 5, 8, 3557, 6, 1541, 7, 515, 8, 1357, 9, 2467, 10, 2482]
2025-05-09 22:46:54,990 - INFO - NDCG计算 - 预测列表前10项: [2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482], 真实目标: 2011, NDCG@10: 1.0
2025-05-09 22:46:54,990 - INFO - 样本 2 (Trial 5): NDCG@10 = 1.0000
2025-05-09 22:46:56,120 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的电影风格（包含文艺片、独立电影、女性视角故事和90年代剧情片），以下是重新排序的候选电影ID列表：

372, 359, 887, 3251, 3626, 271, 1815, 2960, 3378, 2249, 185, 1259, 3614, 2409, 1375, 2452, 2137, 3312, 3859, 758

排序理由：
1. Reality Bites (372) - 90年代经典文艺片，与用户观看的High Art等风格匹配
2. I Like It Like That (359) - 都市女性成长故事，类似Little Women主题
3. Talk of Angels (887) - 文艺剧情片，符合用户历史偏好
4. Agnes of God (3251) - 心理剧情片，类似Angels and Insects的宗教主题
5. 8 1/2 Women (3626) - 艺术电影，适合喜欢欧洲文艺片的用户
6. Losing Isaiah (271) - 情感剧情片，类似The Secret Garden的家庭主题
7. Eden (1815) - 独立制作文艺片
8. Beefcake (2960) - 艺术题材，类似High Art的另类视角
9. The Ogre (3378) - 欧洲文艺片
10. My Blue Heaven (2249) - 轻松喜剧作为风格调剂
2025-05-09 22:46:56,120 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的电影风格（包含文艺片、独立电影、女性视角故事和90年代剧情片），以下是重新排序的候选电影ID列表：

372, 359, 887, 3251, 3626, 271, 1815, 2960, 3378, 2249, 185, 1259, 3614, 2409, 1375, 2452, 2137, 3312, 3859, 758

排序理由：
1. Reality Bites (372) - 90年代经典文艺片，与用户观看的High Art等风格匹配
2. I Like It Like That (359) - 都市女性成长故事，类似Little Women主题
3. Talk of Angels (887) - 文艺剧情片，符合用户历史偏好
4. Agnes of God (3251) - 心理剧情片，类似Angels and Insects的宗教主题
5. 8 1/2 Women (3626) - 艺术电影，适合喜欢欧洲文艺片的用户
6. Losing Isaiah (271) - 情感剧情片，类似The Secret Garden的家庭主题
7. Eden (1815) - 独立制作文艺片
8. Beefcake (2960) - 艺术题材，类似High Art的另类视角
9. The Ogre (3378) - 欧洲文艺片
10. My Blue Heaven (2249) - 轻松喜剧作为风格调剂
2025-05-09 22:46:56,120 - INFO - 模型输出解析 - 解析后电影ID列表: [90, 372, 359, 887, 3251, 3626, 271, 1815, 2960, 3378, 2249, 185, 1259, 3614, 2409, 1375, 2452, 2137, 3312, 3859, 758, 1, 372, 90, 2, 359, 3, 887, 4, 3251, 5, 8, 1, 2, 3626, 6, 271, 7, 1815, 8, 2960, 9, 3378, 10, 2249]
2025-05-09 22:46:56,120 - INFO - NDCG计算 - 预测列表前10项: [90, 372, 359, 887, 3251, 3626, 271, 1815, 2960, 3378], 真实目标: 372, NDCG@10: 0.6309297535714575
2025-05-09 22:46:56,120 - INFO - 样本 6 (Trial 5): NDCG@10 = 0.6309
2025-05-09 22:46:56,206 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、犯罪片和剧情片。以下是重排后的候选电影ID列表：

[1858, 1343, 3107, 1236, 373, 1758, 1537, 3325, 2997, 971, 3145, 2507, 3864, 3933, 1024, 2049, 2566, 3672, 1053, 614]

排序理由：
1. Mr. Nice Guy (1858) - 动作片，符合用户近期观看的Romeo Must Die等动作片偏好
2. Cape Fear (1343) - 惊悚犯罪片，与用户观看的Shaft等犯罪题材相符
3. Backdraft (3107) - 动作剧情片，类似Perfect Storm的灾难/救援主题
4. Trust (1236) - 犯罪剧情片
5. Red Rock West (373) - 犯罪惊悚片
6. Dangerous Beauty (1758) - 历史剧情片，类似Erin Brockovich的女性主角剧情片
7. Shall We Dance? (1537) - 剧情片
8. Next Best Thing (3325) - 剧情片
9. Being John Malkovich (2997) - 独特剧情片
10. Cat on a Hot Tin Roof (971) - 经典剧情片
其余电影根据类型相似度降序排列
2025-05-09 22:46:56,206 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、犯罪片和剧情片。以下是重排后的候选电影ID列表：

[1858, 1343, 3107, 1236, 373, 1758, 1537, 3325, 2997, 971, 3145, 2507, 3864, 3933, 1024, 2049, 2566, 3672, 1053, 614]

排序理由：
1. Mr. Nice Guy (1858) - 动作片，符合用户近期观看的Romeo Must Die等动作片偏好
2. Cape Fear (1343) - 惊悚犯罪片，与用户观看的Shaft等犯罪题材相符
3. Backdraft (3107) - 动作剧情片，类似Perfect Storm的灾难/救援主题
4. Trust (1236) - 犯罪剧情片
5. Red Rock West (373) - 犯罪惊悚片
6. Dangerous Beauty (1758) - 历史剧情片，类似Erin Brockovich的女性主角剧情片
7. Shall We Dance? (1537) - 剧情片
8. Next Best Thing (3325) - 剧情片
9. Being John Malkovich (2997) - 独特剧情片
10. Cat on a Hot Tin Roof (971) - 经典剧情片
其余电影根据类型相似度降序排列
2025-05-09 22:46:56,206 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 1343, 3107, 1236, 373, 1758, 1537, 3325, 2997, 971, 3145, 2507, 3864, 3933, 1024, 2049, 2566, 3672, 1053, 614, 1, 1858, 2, 1343, 3, 3107, 4, 1236, 5, 373, 6, 1758, 7, 1537, 8, 3325, 9, 2997, 10, 971]
2025-05-09 22:46:56,206 - INFO - NDCG计算 - 预测列表前10项: [1858, 1343, 3107, 1236, 373, 1758, 1537, 3325, 2997, 971], 真实目标: 1758, NDCG@10: 0.3562071871080222
2025-05-09 22:46:56,206 - INFO - 样本 8 (Trial 5): NDCG@10 = 0.3562
2025-05-09 22:46:56,562 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好混合了动作片(Gladiator, Final Destination)、黑色喜剧(American Psycho)、犯罪片(Screwed)、R级剧情片(Showgirls)、家庭喜剧(Meet the Parents, Big Momma's House)等类型。以下是重排后的候选电影ID列表：

[370, 21, 122, 428, 1722, 447, 691, 818, 1555, 1539, 1563, 1913, 2609, 3756, 3420, 567, 3768, 3824, 3701, 2367]

排序理由：
1. Naked Gun 33 1/3 (370) - 与Meet the Parents类似的喜剧
2. Get Shorty (21) - 犯罪喜剧，类似American Psycho和Screwed
3. Boomerang (122) - 浪漫喜剧，类似Big Momma's House
4. Bronx Tale (428) - 犯罪剧情片
5. Tomorrow Never Dies (1722) - 动作片
6. The Favor (447) - 黑色喜剧
7. Mrs. Winterbourne (691) - 浪漫喜剧
8. Very Brady Sequel (818) - 家庭喜剧
9-20: 其他类型匹配度较低的电影
2025-05-09 22:46:56,562 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好混合了动作片(Gladiator, Final Destination)、黑色喜剧(American Psycho)、犯罪片(Screwed)、R级剧情片(Showgirls)、家庭喜剧(Meet the Parents, Big Momma's House)等类型。以下是重排后的候选电影ID列表：

[370, 21, 122, 428, 1722, 447, 691, 818, 1555, 1539, 1563, 1913, 2609, 3756, 3420, 567, 3768, 3824, 3701, 2367]

排序理由：
1. Naked Gun 33 1/3 (370) - 与Meet the Parents类似的喜剧
2. Get Shorty (21) - 犯罪喜剧，类似American Psycho和Screwed
3. Boomerang (122) - 浪漫喜剧，类似Big Momma's House
4. Bronx Tale (428) - 犯罪剧情片
5. Tomorrow Never Dies (1722) - 动作片
6. The Favor (447) - 黑色喜剧
7. Mrs. Winterbourne (691) - 浪漫喜剧
8. Very Brady Sequel (818) - 家庭喜剧
9-20: 其他类型匹配度较低的电影
2025-05-09 22:46:56,562 - INFO - 模型输出解析 - 解析后电影ID列表: [370, 21, 122, 428, 1722, 447, 691, 818, 1555, 1539, 1563, 1913, 2609, 3756, 3420, 567, 3768, 3824, 3701, 2367, 1, 33, 1, 3, 370, 2, 21, 3, 122, 4, 428, 5, 1722, 6, 447, 7, 691, 8, 818, 9, 20]
2025-05-09 22:46:56,562 - INFO - NDCG计算 - 预测列表前10项: [370, 21, 122, 428, 1722, 447, 691, 818, 1555, 1539], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:46:56,562 - INFO - 样本 3 (Trial 5): NDCG@10 = 0.0000
2025-05-09 22:46:57,046 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户观看历史，我们可以观察到用户偏好多样化的电影类型，包括科幻（Terminator 2）、剧情片（Boogie Nights, After Life）、历史史诗（Braveheart）、哥特奇幻（Edward Scissorhands）、惊悚（Rosemary's Baby）、动作（From Russia with Love）以及音乐/喜剧（High Fidelity）。以下是重排后的候选电影ID列表：

[161, 1590, 1103, 1880, 2318, 1251, 3723, 2144, 3258, 381, 396, 2210, 3710, 2637, 3695, 3413, 2970, 1965, 876, 3245]

排序理由：
1. Crimson Tide (161) - 类似Terminator 2的紧张动作/科幻元素
2. Event Horizon (1590) - 科幻惊悚，类似Terminator 2和Rosemary's Baby的结合
3. Rebel Without a Cause (1103) - 经典剧情片，符合用户对Boogie Nights等剧情片的兴趣
4. Lawn Dogs (1880) - 独立剧情片，类似After Life的风格
5. Happiness (2318) - 黑色幽默剧情片，类似High Fidelity和Boogie Nights
6. 8 1/2 (1251) - 艺术电影，符合用户多样化品味
7. Hamlet (3723) - 经典文学改编，类似Braveheart的历史/戏剧元素
8. Sixteen Candles (2144) - 青春喜剧，类似High Fidelity的轻松风格
2025-05-09 22:46:57,046 - INFO - 模型输出解析 - 原始输出:
基于用户观看历史，我们可以观察到用户偏好多样化的电影类型，包括科幻（Terminator 2）、剧情片（Boogie Nights, After Life）、历史史诗（Braveheart）、哥特奇幻（Edward Scissorhands）、惊悚（Rosemary's Baby）、动作（From Russia with Love）以及音乐/喜剧（High Fidelity）。以下是重排后的候选电影ID列表：

[161, 1590, 1103, 1880, 2318, 1251, 3723, 2144, 3258, 381, 396, 2210, 3710, 2637, 3695, 3413, 2970, 1965, 876, 3245]

排序理由：
1. Crimson Tide (161) - 类似Terminator 2的紧张动作/科幻元素
2. Event Horizon (1590) - 科幻惊悚，类似Terminator 2和Rosemary's Baby的结合
3. Rebel Without a Cause (1103) - 经典剧情片，符合用户对Boogie Nights等剧情片的兴趣
4. Lawn Dogs (1880) - 独立剧情片，类似After Life的风格
5. Happiness (2318) - 黑色幽默剧情片，类似High Fidelity和Boogie Nights
6. 8 1/2 (1251) - 艺术电影，符合用户多样化品味
7. Hamlet (3723) - 经典文学改编，类似Braveheart的历史/戏剧元素
8. Sixteen Candles (2144) - 青春喜剧，类似High Fidelity的轻松风格
2025-05-09 22:46:57,046 - INFO - 模型输出解析 - 解析后电影ID列表: [2, 161, 1590, 1103, 1880, 2318, 1251, 3723, 2144, 3258, 381, 396, 2210, 3710, 2637, 3695, 3413, 2970, 1965, 876, 3245, 1, 161, 2, 2, 1590, 2, 3, 1103, 4, 1880, 5, 2318, 6, 8, 1, 2, 1251, 7, 3723, 8, 2144]
2025-05-09 22:46:57,046 - INFO - NDCG计算 - 预测列表前10项: [2, 161, 1590, 1103, 1880, 2318, 1251, 3723, 2144, 3258], 真实目标: 1965, NDCG@10: 0.0
2025-05-09 22:46:57,046 - INFO - 样本 9 (Trial 5): NDCG@10 = 0.0000
2025-05-09 22:46:59,262 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有轻松喜剧（如《The Money Pit》《Speechless》）。以下是重排后的候选电影ID列表，综合考虑了题材相似性、艺术性和用户可能的兴趣点：

[1844, 1695, 2813, 1829, 1656, 3516, 3221, 41, 3858, 2579, 2755, 3497, 3606, 2795, 2123, 2720, 1731, 328, 396, 3303]

排序理由：
1. **Live Flesh (1844)** - 阿莫多瓦作品，与《Il Postino》同属欧洲艺术电影
2. **Artemisia (1695)** - 女性视角历史剧情片，类似《Antonia's Line》
3. **The Source (2813)** - 文艺剧情片，适合喜欢《Leaving Las Vegas》的观众
4. **Chinese Box (1829)** - 王家卫参与的跨文化剧情片
5. **Swept from the Sea (1656)** - 文学改编剧情片
6. **Bell, Book and Candle (3516)** - 经典浪漫喜剧，类似《The Money Pit》的轻松调性
7-8. **The Draughtsman's Contract (3221)** 和 **Richard III (41)** - 艺术性强的历史题材
9-10. **Cecil B. Demented (3858)** 和 **Following (2579)** - 风格化独立电影
...后续为商业性较强的影片
2025-05-09 22:46:59,262 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有轻松喜剧（如《The Money Pit》《Speechless》）。以下是重排后的候选电影ID列表，综合考虑了题材相似性、艺术性和用户可能的兴趣点：

[1844, 1695, 2813, 1829, 1656, 3516, 3221, 41, 3858, 2579, 2755, 3497, 3606, 2795, 2123, 2720, 1731, 328, 396, 3303]

排序理由：
1. **Live Flesh (1844)** - 阿莫多瓦作品，与《Il Postino》同属欧洲艺术电影
2. **Artemisia (1695)** - 女性视角历史剧情片，类似《Antonia's Line》
3. **The Source (2813)** - 文艺剧情片，适合喜欢《Leaving Las Vegas》的观众
4. **Chinese Box (1829)** - 王家卫参与的跨文化剧情片
5. **Swept from the Sea (1656)** - 文学改编剧情片
6. **Bell, Book and Candle (3516)** - 经典浪漫喜剧，类似《The Money Pit》的轻松调性
7-8. **The Draughtsman's Contract (3221)** 和 **Richard III (41)** - 艺术性强的历史题材
9-10. **Cecil B. Demented (3858)** 和 **Following (2579)** - 风格化独立电影
...后续为商业性较强的影片
2025-05-09 22:46:59,262 - INFO - 模型输出解析 - 解析后电影ID列表: [1844, 1695, 2813, 1829, 1656, 3516, 3221, 41, 3858, 2579, 2755, 3497, 3606, 2795, 2123, 2720, 1731, 328, 396, 3303, 1, 1844, 2, 1695, 3, 2813, 4, 1829, 5, 1656, 6, 3516, 7, 8, 3221, 41, 9, 10, 3858, 2579]
2025-05-09 22:46:59,262 - INFO - NDCG计算 - 预测列表前10项: [1844, 1695, 2813, 1829, 1656, 3516, 3221, 41, 3858, 2579], 真实目标: 1695, NDCG@10: 0.6309297535714575
2025-05-09 22:46:59,262 - INFO - 样本 0 (Trial 5): NDCG@10 = 0.6309
2025-05-09 22:46:59,263 - INFO - 开始第 6/10 次评估
2025-05-09 22:46:59,320 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:59,321 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:59,321 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:59,324 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:59,326 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:59,328 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:59,414 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:59,416 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:59,417 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:46:59,421 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:15,091 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、情感类电影以及有一定深度的故事片。以下是重排后的候选电影ID列表：

[534, 1187, 3183, 3449, 280, 537, 607, 823, 1232, 1458, 1523, 2261, 2644, 3247, 3497, 370, 3790, 3761, 2791, 3801]

排序理由：
1. 优先选择了剧情类、情感类电影(如Shadowlands, Passion Fish等)
2. 其次考虑了有一定社会议题深度的电影(如Third Miracle, Good Mother等)
3. 然后是一些轻喜剧和经典电影
4. 最后是动作/恐怖类电影(如Dracula)和纯喜剧(Airplane!等)
2025-05-09 22:47:15,091 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、情感类电影以及有一定深度的故事片。以下是重排后的候选电影ID列表：

[534, 1187, 3183, 3449, 280, 537, 607, 823, 1232, 1458, 1523, 2261, 2644, 3247, 3497, 370, 3790, 3761, 2791, 3801]

排序理由：
1. 优先选择了剧情类、情感类电影(如Shadowlands, Passion Fish等)
2. 其次考虑了有一定社会议题深度的电影(如Third Miracle, Good Mother等)
3. 然后是一些轻喜剧和经典电影
4. 最后是动作/恐怖类电影(如Dracula)和纯喜剧(Airplane!等)
2025-05-09 22:47:15,091 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 1187, 3183, 3449, 280, 537, 607, 823, 1232, 1458, 1523, 2261, 2644, 3247, 3497, 370, 3790, 3761, 2791, 3801, 1, 2, 3, 4]
2025-05-09 22:47:15,091 - INFO - NDCG计算 - 预测列表前10项: [534, 1187, 3183, 3449, 280, 537, 607, 823, 1232, 1458], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:47:15,091 - INFO - 样本 5 (Trial 6): NDCG@10 = 1.0000
2025-05-09 22:47:15,650 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影类型和风格，可以看出用户偏好混合了动作片、黑色喜剧、惊悚片和轻松喜剧。以下是重新排序的候选电影ID列表：

[370, 21, 122, 428, 1722, 447, 691, 818, 1555, 1539, 1563, 1913, 2609, 3756, 3824, 3420, 567, 3768, 2367, 3701]

排序理由：
1. Naked Gun 33 1/3 (370) - 与Meet the Parents类似的喜剧
2. Get Shorty (21) - 犯罪喜剧，类似American Psycho风格
3. Boomerang (122) - 轻松喜剧，类似Big Momma's House
4. Bronx Tale (428) - 犯罪剧情片，类似American Psycho
5. Tomorrow Never Dies (1722) - 动作片，类似Gladiator
6. The Favor (447) - 黑色喜剧，类似American Psycho
7. Mrs. Winterbourne (691) - 轻松喜剧
8. Very Brady Sequel (818) - 家庭喜剧
9-20. 其他电影按类型相似度降序排列
2025-05-09 22:47:15,650 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影类型和风格，可以看出用户偏好混合了动作片、黑色喜剧、惊悚片和轻松喜剧。以下是重新排序的候选电影ID列表：

[370, 21, 122, 428, 1722, 447, 691, 818, 1555, 1539, 1563, 1913, 2609, 3756, 3824, 3420, 567, 3768, 2367, 3701]

排序理由：
1. Naked Gun 33 1/3 (370) - 与Meet the Parents类似的喜剧
2. Get Shorty (21) - 犯罪喜剧，类似American Psycho风格
3. Boomerang (122) - 轻松喜剧，类似Big Momma's House
4. Bronx Tale (428) - 犯罪剧情片，类似American Psycho
5. Tomorrow Never Dies (1722) - 动作片，类似Gladiator
6. The Favor (447) - 黑色喜剧，类似American Psycho
7. Mrs. Winterbourne (691) - 轻松喜剧
8. Very Brady Sequel (818) - 家庭喜剧
9-20. 其他电影按类型相似度降序排列
2025-05-09 22:47:15,650 - INFO - 模型输出解析 - 解析后电影ID列表: [370, 21, 122, 428, 1722, 447, 691, 818, 1555, 1539, 1563, 1913, 2609, 3756, 3824, 3420, 567, 3768, 2367, 3701, 1, 33, 1, 3, 370, 2, 21, 3, 122, 4, 428, 5, 1722, 6, 447, 7, 691, 8, 818, 9, 20]
2025-05-09 22:47:15,650 - INFO - NDCG计算 - 预测列表前10项: [370, 21, 122, 428, 1722, 447, 691, 818, 1555, 1539], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:47:15,650 - INFO - 样本 3 (Trial 6): NDCG@10 = 0.0000
2025-05-09 22:47:15,741 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、经典电影和奇幻类），以下是重新排序的候选电影ID列表：

[3623, 2571, 2867, 3176, 2550, 3219, 1483, 381, 2154, 249, 3360, 2129, 2943, 1965, 1611, 3878, 803, 730, 146, 3590]

排序理由：
1. Mission: Impossible 2 (3623) - 动作片，与Eraser/Air Force One类似
2. Matrix, The (2571) - 科幻动作，与The Crow风格相近
3. Fright Night (2867) - 惊悚恐怖，类似Arachnophobia
4. Talented Mr. Ripley, The (3176) - 心理惊悚，类似The Godfather III
5. Haunting, The (2550) - 恐怖片，符合用户部分偏好
6. Pacific Heights (3219) - 心理惊悚
7. Crash (1483) - 犯罪剧情片
8-20位选择了部分剧情片和文艺片作为补充推荐
2025-05-09 22:47:15,741 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、经典电影和奇幻类），以下是重新排序的候选电影ID列表：

[3623, 2571, 2867, 3176, 2550, 3219, 1483, 381, 2154, 249, 3360, 2129, 2943, 1965, 1611, 3878, 803, 730, 146, 3590]

排序理由：
1. Mission: Impossible 2 (3623) - 动作片，与Eraser/Air Force One类似
2. Matrix, The (2571) - 科幻动作，与The Crow风格相近
3. Fright Night (2867) - 惊悚恐怖，类似Arachnophobia
4. Talented Mr. Ripley, The (3176) - 心理惊悚，类似The Godfather III
5. Haunting, The (2550) - 恐怖片，符合用户部分偏好
6. Pacific Heights (3219) - 心理惊悚
7. Crash (1483) - 犯罪剧情片
8-20位选择了部分剧情片和文艺片作为补充推荐
2025-05-09 22:47:15,741 - INFO - 模型输出解析 - 解析后电影ID列表: [3623, 2571, 2867, 3176, 2550, 3219, 1483, 381, 2154, 249, 3360, 2129, 2943, 1965, 1611, 3878, 803, 730, 146, 3590, 1, 2, 3623, 2, 2571, 3, 2867, 4, 3176, 5, 2550, 6, 3219, 7, 1483, 8, 20]
2025-05-09 22:47:15,741 - INFO - NDCG计算 - 预测列表前10项: [3623, 2571, 2867, 3176, 2550, 3219, 1483, 381, 2154, 249], 真实目标: 3176, NDCG@10: 0.43067655807339306
2025-05-09 22:47:15,741 - INFO - 样本 7 (Trial 6): NDCG@10 = 0.4307
2025-05-09 22:47:16,679 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户观看历史中的文艺片、独立电影和剧情片偏好，我重新排序候选电影如下：

[372, 359, 887, 3251, 1815, 3626, 271, 2960, 3378, 1259, 2249, 185, 3614, 2409, 1375, 2452, 2137, 3312, 3859, 758]

排序理由：
1. Reality Bites (372) - 90年代文艺片，符合用户偏好的独立电影风格
2. I Like It Like That (359) - 都市剧情片，类似用户看过的SLC Punk!
3. Talk of Angels (887) - 文艺剧情片，类似The Secret Garden风格
4. Agnes of God (3251) - 心理剧情片，类似Angels and Insects
5. Eden (1815) - 文艺剧情片
6. 8 1/2 Women (3626) - 艺术电影，适合喜欢High Art的用户
7. Losing Isaiah (271) - 情感剧情片
8. Beefcake (2960) - 另类题材，类似High Art
9. The Ogre (3378) - 文艺奇幻片
10. Stand by Me (1259) - 成长题材剧情片
2025-05-09 22:47:16,679 - INFO - 模型输出解析 - 原始输出:
基于用户观看历史中的文艺片、独立电影和剧情片偏好，我重新排序候选电影如下：

[372, 359, 887, 3251, 1815, 3626, 271, 2960, 3378, 1259, 2249, 185, 3614, 2409, 1375, 2452, 2137, 3312, 3859, 758]

排序理由：
1. Reality Bites (372) - 90年代文艺片，符合用户偏好的独立电影风格
2. I Like It Like That (359) - 都市剧情片，类似用户看过的SLC Punk!
3. Talk of Angels (887) - 文艺剧情片，类似The Secret Garden风格
4. Agnes of God (3251) - 心理剧情片，类似Angels and Insects
5. Eden (1815) - 文艺剧情片
6. 8 1/2 Women (3626) - 艺术电影，适合喜欢High Art的用户
7. Losing Isaiah (271) - 情感剧情片
8. Beefcake (2960) - 另类题材，类似High Art
9. The Ogre (3378) - 文艺奇幻片
10. Stand by Me (1259) - 成长题材剧情片
2025-05-09 22:47:16,679 - INFO - 模型输出解析 - 解析后电影ID列表: [372, 359, 887, 3251, 1815, 3626, 271, 2960, 3378, 1259, 2249, 185, 3614, 2409, 1375, 2452, 2137, 3312, 3859, 758, 1, 372, 90, 2, 359, 3, 887, 4, 3251, 5, 1815, 6, 8, 1, 2, 3626, 7, 271, 8, 2960, 9, 3378, 10, 1259]
2025-05-09 22:47:16,679 - INFO - NDCG计算 - 预测列表前10项: [372, 359, 887, 3251, 1815, 3626, 271, 2960, 3378, 1259], 真实目标: 372, NDCG@10: 1.0
2025-05-09 22:47:16,679 - INFO - 样本 6 (Trial 6): NDCG@10 = 1.0000
2025-05-09 22:47:16,765 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的喜剧/幽默风格电影（Animal House, Monty Python, Blazing Saddles等）和轻松娱乐向作品（Grease, Kelly's Heroes等），优先推荐同类型或相似调性的候选电影。排序逻辑如下：

1. 首先推荐经典喜剧和恶搞类电影（与用户观看的Animal House/Blazing Saddles等高度契合）
2. 其次选择带有幽默元素的怀旧/轻松题材（匹配Kelly's Heroes/Grease等）
3. 排除严肃题材（如The Deer Hunter）和与用户历史偏好差异较大的艺术电影

推荐排序ID列表：
[785, 1194, 1083, 945, 194, 3822, 29, 1145, 2438, 2022, 1365, 2858, 2311, 1797, 3709, 3474, 1263, 2705, 3667, 3768]

关键匹配点：
- Kingpin(785)和Up in Smoke(1194)是经典荒诞喜剧
- The Great Race(1083)是怀旧冒险喜剧
- Top Hat(945)是经典歌舞喜剧
- Smoke(194)和City of Lost Children(29)具有幽默奇幻元素
2025-05-09 22:47:16,765 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的喜剧/幽默风格电影（Animal House, Monty Python, Blazing Saddles等）和轻松娱乐向作品（Grease, Kelly's Heroes等），优先推荐同类型或相似调性的候选电影。排序逻辑如下：

1. 首先推荐经典喜剧和恶搞类电影（与用户观看的Animal House/Blazing Saddles等高度契合）
2. 其次选择带有幽默元素的怀旧/轻松题材（匹配Kelly's Heroes/Grease等）
3. 排除严肃题材（如The Deer Hunter）和与用户历史偏好差异较大的艺术电影

推荐排序ID列表：
[785, 1194, 1083, 945, 194, 3822, 29, 1145, 2438, 2022, 1365, 2858, 2311, 1797, 3709, 3474, 1263, 2705, 3667, 3768]

关键匹配点：
- Kingpin(785)和Up in Smoke(1194)是经典荒诞喜剧
- The Great Race(1083)是怀旧冒险喜剧
- Top Hat(945)是经典歌舞喜剧
- Smoke(194)和City of Lost Children(29)具有幽默奇幻元素
2025-05-09 22:47:16,765 - INFO - 模型输出解析 - 解析后电影ID列表: [1, 2, 3, 785, 1194, 1083, 945, 194, 3822, 29, 1145, 2438, 2022, 1365, 2858, 2311, 1797, 3709, 3474, 1263, 2705, 3667, 3768, 785, 1194, 1083, 945, 194, 29]
2025-05-09 22:47:16,765 - INFO - NDCG计算 - 预测列表前10项: [1, 2, 3, 785, 1194, 1083, 945, 194, 3822, 29], 真实目标: 1194, NDCG@10: 0.38685280723454163
2025-05-09 22:47:16,765 - INFO - 样本 1 (Trial 6): NDCG@10 = 0.3869
2025-05-09 22:47:17,364 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate, Tron, Independence Day, Star Trek等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的电影：

[2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 1257, 2467, 2482, 2703, 1102, 1420, 421, 1174, 310, 576, 3739, 2562]

推荐理由：
1. Back to the Future Part II (2011) - 经典科幻续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/犯罪题材
5. Jennifer 8 (3557) - 惊悚/犯罪题材
6. Addicted to Love (1541) - 现代爱情喜剧
7. The Remains of the Day (515) - 剧情片
8. Shine (1357) - 传记剧情片
9. Better Off Dead... (1257) - 喜剧
10. The Name of the Rose (2467) - 历史悬疑
2025-05-09 22:47:17,364 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate, Tron, Independence Day, Star Trek等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的电影：

[2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 1257, 2467, 2482, 2703, 1102, 1420, 421, 1174, 310, 576, 3739, 2562]

推荐理由：
1. Back to the Future Part II (2011) - 经典科幻续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/犯罪题材
5. Jennifer 8 (3557) - 惊悚/犯罪题材
6. Addicted to Love (1541) - 现代爱情喜剧
7. The Remains of the Day (515) - 剧情片
8. Shine (1357) - 传记剧情片
9. Better Off Dead... (1257) - 喜剧
10. The Name of the Rose (2467) - 历史悬疑
2025-05-09 22:47:17,364 - INFO - 模型输出解析 - 解析后电影ID列表: [2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 1257, 2467, 2482, 2703, 1102, 1420, 421, 1174, 310, 576, 3739, 2562, 1, 2011, 2, 3699, 3, 2532, 4, 555, 5, 8, 3557, 6, 1541, 7, 515, 8, 1357, 9, 1257, 10, 2467]
2025-05-09 22:47:17,364 - INFO - NDCG计算 - 预测列表前10项: [2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 1257, 2467], 真实目标: 2011, NDCG@10: 1.0
2025-05-09 22:47:17,364 - INFO - 样本 2 (Trial 6): NDCG@10 = 1.0000
2025-05-09 22:47:18,117 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、犯罪片和剧情片。以下是重排后的候选电影ID列表：

[1858, 1343, 373, 1236, 1758, 3107, 1537, 3325, 2997, 3864, 971, 1024, 3145, 2507, 2049, 2566, 3933, 614, 3672, 1053]

排序理由：
1. Mr. Nice Guy (1858) - 动作片，与用户最近观看的Romeo Must Die等动作片风格相似
2. Cape Fear (1343) - 犯罪惊悚片，符合用户观看的Shaft等犯罪题材
3. Red Rock West (373) - 犯罪惊悚片
4. Trust (1236) - 剧情片，类似Erin Brockovich
5. Dangerous Beauty (1758) - 剧情片
6. Backdraft (3107) - 动作/剧情片
7. Shall We Dance? (1537) - 剧情片
8. Next Best Thing (3325) - 剧情片
9. Being John Malkovich (2997) - 独特剧情片
10. Godzilla 2000 (3864) - 动作/科幻片
其余电影根据类型相似度降序排列
2025-05-09 22:47:18,118 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、犯罪片和剧情片。以下是重排后的候选电影ID列表：

[1858, 1343, 373, 1236, 1758, 3107, 1537, 3325, 2997, 3864, 971, 1024, 3145, 2507, 2049, 2566, 3933, 614, 3672, 1053]

排序理由：
1. Mr. Nice Guy (1858) - 动作片，与用户最近观看的Romeo Must Die等动作片风格相似
2. Cape Fear (1343) - 犯罪惊悚片，符合用户观看的Shaft等犯罪题材
3. Red Rock West (373) - 犯罪惊悚片
4. Trust (1236) - 剧情片，类似Erin Brockovich
5. Dangerous Beauty (1758) - 剧情片
6. Backdraft (3107) - 动作/剧情片
7. Shall We Dance? (1537) - 剧情片
8. Next Best Thing (3325) - 剧情片
9. Being John Malkovich (2997) - 独特剧情片
10. Godzilla 2000 (3864) - 动作/科幻片
其余电影根据类型相似度降序排列
2025-05-09 22:47:18,118 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 1343, 373, 1236, 1758, 3107, 1537, 3325, 2997, 3864, 971, 1024, 3145, 2507, 2049, 2566, 3933, 614, 3672, 1053, 1, 1858, 2, 1343, 3, 373, 4, 1236, 5, 1758, 6, 3107, 7, 1537, 8, 3325, 9, 2997, 10, 2000, 3864]
2025-05-09 22:47:18,118 - INFO - NDCG计算 - 预测列表前10项: [1858, 1343, 373, 1236, 1758, 3107, 1537, 3325, 2997, 3864], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 22:47:18,118 - INFO - 样本 8 (Trial 6): NDCG@10 = 0.3869
2025-05-09 22:47:18,648 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的电影类型和风格，我注意到用户偏好历史剧情片(Patriot, Shakespeare in Love)、悬疑惊悚片(Sixth Sense, Talented Mr. Ripley)、以及一些黑色幽默/另类风格电影(South Park, Summer of Sam)。以下是重排后的候选电影ID列表：

[3948, 2160, 145, 1671, 516, 1824, 2227, 2074, 3618, 2869, 1528, 2620, 3313, 8, 3882, 1317, 2374, 1822, 863, 2993]

排序理由：
1. Meet the Parents (3948) - 符合用户对幽默剧情片的偏好
2. Rosemary's Baby (2160) - 经典悬疑惊悚片，类似Sixth Sense
3. Bad Boys (145) - 动作悬疑元素，类似Thomas Crown Affair
4. Deceiver (1671) - 心理惊悚片，类似Talented Mr. Ripley
5. Renaissance Man (516) - 历史剧情元素，类似Shakespeare in Love
6. Homegrown (1824) - 黑色幽默犯罪片，类似South Park风格
7. The Lodger (2227) - 经典悬疑片
8. The Night Porter (2074) - 心理惊悚片
9. Small Time Crooks (3618) - 犯罪喜剧
10. The Separation (2869) - 剧情片
2025-05-09 22:47:18,648 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的电影类型和风格，我注意到用户偏好历史剧情片(Patriot, Shakespeare in Love)、悬疑惊悚片(Sixth Sense, Talented Mr. Ripley)、以及一些黑色幽默/另类风格电影(South Park, Summer of Sam)。以下是重排后的候选电影ID列表：

[3948, 2160, 145, 1671, 516, 1824, 2227, 2074, 3618, 2869, 1528, 2620, 3313, 8, 3882, 1317, 2374, 1822, 863, 2993]

排序理由：
1. Meet the Parents (3948) - 符合用户对幽默剧情片的偏好
2. Rosemary's Baby (2160) - 经典悬疑惊悚片，类似Sixth Sense
3. Bad Boys (145) - 动作悬疑元素，类似Thomas Crown Affair
4. Deceiver (1671) - 心理惊悚片，类似Talented Mr. Ripley
5. Renaissance Man (516) - 历史剧情元素，类似Shakespeare in Love
6. Homegrown (1824) - 黑色幽默犯罪片，类似South Park风格
7. The Lodger (2227) - 经典悬疑片
8. The Night Porter (2074) - 心理惊悚片
9. Small Time Crooks (3618) - 犯罪喜剧
10. The Separation (2869) - 剧情片
2025-05-09 22:47:18,648 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 2160, 145, 1671, 516, 1824, 2227, 2074, 3618, 2869, 1528, 2620, 3313, 8, 3882, 1317, 2374, 1822, 863, 2993, 1, 3948, 2, 2160, 3, 145, 4, 1671, 5, 516, 6, 1824, 7, 2227, 8, 2074, 9, 3618, 10, 2869]
2025-05-09 22:47:18,648 - INFO - NDCG计算 - 预测列表前10项: [3948, 2160, 145, 1671, 516, 1824, 2227, 2074, 3618, 2869], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:47:18,649 - INFO - 样本 4 (Trial 6): NDCG@10 = 1.0000
2025-05-09 22:47:20,085 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户观看历史中的电影类型和风格，我注意到用户偏好科幻、动作、黑色幽默、心理惊悚和经典电影。以下是重排后的候选电影ID列表：

[1590, 161, 1103, 2318, 1880, 3258, 1965, 2210, 3723, 381, 2144, 1251, 396, 3710, 2637, 876, 2970, 3245, 3695, 3413]

排序理由：
1. Event Horizon (1590) - 科幻惊悚，类似Terminator和Rosemary's Baby的混合
2. Crimson Tide (161) - 紧张的动作剧情片
3. Rebel Without a Cause (1103) - 经典电影，符合用户观看Edward Scissorhands等片的品味
4. Happiness (2318) - 黑色幽默，类似Boogie Nights和High Fidelity
5. Lawn Dogs (1880) - 另类剧情片，符合用户观看Edward Scissorhands的品味
6. Death Becomes Her (3258) - 黑色喜剧，类似Edward Scissorhands风格
7. Repo Man (1965) - 另类科幻喜剧
8. Sabotage (2210) - 动作惊悚，类似From Russia with Love
9. Hamlet (3723) - 经典改编，类似Braveheart的历史题材
10. When a Man Loves a Woman (381) - 剧情片，类似28 Days
2025-05-09 22:47:20,086 - INFO - 模型输出解析 - 原始输出:
基于用户观看历史中的电影类型和风格，我注意到用户偏好科幻、动作、黑色幽默、心理惊悚和经典电影。以下是重排后的候选电影ID列表：

[1590, 161, 1103, 2318, 1880, 3258, 1965, 2210, 3723, 381, 2144, 1251, 396, 3710, 2637, 876, 2970, 3245, 3695, 3413]

排序理由：
1. Event Horizon (1590) - 科幻惊悚，类似Terminator和Rosemary's Baby的混合
2. Crimson Tide (161) - 紧张的动作剧情片
3. Rebel Without a Cause (1103) - 经典电影，符合用户观看Edward Scissorhands等片的品味
4. Happiness (2318) - 黑色幽默，类似Boogie Nights和High Fidelity
5. Lawn Dogs (1880) - 另类剧情片，符合用户观看Edward Scissorhands的品味
6. Death Becomes Her (3258) - 黑色喜剧，类似Edward Scissorhands风格
7. Repo Man (1965) - 另类科幻喜剧
8. Sabotage (2210) - 动作惊悚，类似From Russia with Love
9. Hamlet (3723) - 经典改编，类似Braveheart的历史题材
10. When a Man Loves a Woman (381) - 剧情片，类似28 Days
2025-05-09 22:47:20,086 - INFO - 模型输出解析 - 解析后电影ID列表: [1590, 161, 1103, 2318, 1880, 3258, 1965, 2210, 3723, 381, 2144, 1251, 396, 3710, 2637, 876, 2970, 3245, 3695, 3413, 1, 1590, 2, 161, 3, 1103, 4, 2318, 5, 1880, 6, 3258, 7, 1965, 8, 2210, 9, 3723, 10, 381, 28]
2025-05-09 22:47:20,086 - INFO - NDCG计算 - 预测列表前10项: [1590, 161, 1103, 2318, 1880, 3258, 1965, 2210, 3723, 381], 真实目标: 1965, NDCG@10: 0.3333333333333333
2025-05-09 22:47:20,086 - INFO - 样本 9 (Trial 6): NDCG@10 = 0.3333
2025-05-09 22:47:23,733 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有轻松喜剧（如《The Money Pit》《Speechless》）。以下是重排后的候选电影ID列表，优先推荐与用户历史观影偏好更匹配的电影：

[1844, 1695, 1829, 2579, 1656, 2813, 41, 3221, 3516, 3858, 2755, 396, 328, 2123, 2720, 1731, 2795, 3606, 3497, 3303]

推荐理由：
1. **Live Flesh (1844)** - 西班牙导演阿莫多瓦的作品，文艺剧情片，类似《Il Postino》的艺术风格
2. **Artemisia (1695)** - 历史文艺片，类似《Antonia's Line》的女性视角艺术电影
3. **Chinese Box (1829)** - 文艺剧情片，类似《Leaving Las Vegas》的深沉风格
4. **Following (2579)** - 诺兰的早期悬疑作品，适合喜欢剧情深度的观众
5. **Swept from the Sea (1656)** - 文学改编剧情片，类似《The Green Mile》的叙事风格
6. **The Source (2813)** - 文艺纪录片，符合用户对严肃题材的偏好
7. **Richard III (41)** - 莎士比亚改编经典，艺术价值高
8. **The Draughtsman's Contract (3221)** - 艺术电影，类似《Belle de jour》的另类风格

后段排名考虑了部分喜剧和类型片，但优先级较低，因与用户主要偏好匹配度不高。
2025-05-09 22:47:23,734 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有轻松喜剧（如《The Money Pit》《Speechless》）。以下是重排后的候选电影ID列表，优先推荐与用户历史观影偏好更匹配的电影：

[1844, 1695, 1829, 2579, 1656, 2813, 41, 3221, 3516, 3858, 2755, 396, 328, 2123, 2720, 1731, 2795, 3606, 3497, 3303]

推荐理由：
1. **Live Flesh (1844)** - 西班牙导演阿莫多瓦的作品，文艺剧情片，类似《Il Postino》的艺术风格
2. **Artemisia (1695)** - 历史文艺片，类似《Antonia's Line》的女性视角艺术电影
3. **Chinese Box (1829)** - 文艺剧情片，类似《Leaving Las Vegas》的深沉风格
4. **Following (2579)** - 诺兰的早期悬疑作品，适合喜欢剧情深度的观众
5. **Swept from the Sea (1656)** - 文学改编剧情片，类似《The Green Mile》的叙事风格
6. **The Source (2813)** - 文艺纪录片，符合用户对严肃题材的偏好
7. **Richard III (41)** - 莎士比亚改编经典，艺术价值高
8. **The Draughtsman's Contract (3221)** - 艺术电影，类似《Belle de jour》的另类风格

后段排名考虑了部分喜剧和类型片，但优先级较低，因与用户主要偏好匹配度不高。
2025-05-09 22:47:23,734 - INFO - 模型输出解析 - 解析后电影ID列表: [1844, 1695, 1829, 2579, 1656, 2813, 41, 3221, 3516, 3858, 2755, 396, 328, 2123, 2720, 1731, 2795, 3606, 3497, 3303, 1, 1844, 2, 1695, 3, 1829, 4, 2579, 5, 1656, 6, 2813, 7, 41, 8, 3221]
2025-05-09 22:47:23,734 - INFO - NDCG计算 - 预测列表前10项: [1844, 1695, 1829, 2579, 1656, 2813, 41, 3221, 3516, 3858], 真实目标: 1695, NDCG@10: 0.6309297535714575
2025-05-09 22:47:23,734 - INFO - 样本 0 (Trial 6): NDCG@10 = 0.6309
2025-05-09 22:47:23,734 - INFO - 开始第 7/10 次评估
2025-05-09 22:47:23,793 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:23,796 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:23,857 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:23,862 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:23,862 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:23,865 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:23,868 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:23,872 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:23,882 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:23,882 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:38,371 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、奇幻类电影），以下是重新排序的候选电影ID列表：

3623, 2571, 2867, 2550, 3176, 3219, 1483, 381, 2154, 249, 3360, 146, 2129, 1965, 2943, 3878, 803, 1611, 3590, 730

排序理由：
1. 优先推荐同类型电影（动作/冒险/惊悚）：
   - Mission: Impossible 2 (3623)
   - Matrix, The (2571)
   - Fright Night (2867)
   - Haunting, The (2550)
   - Talented Mr. Ripley, The (3176)

2. 次推荐剧情/犯罪类：
   - Crash (1483)
   - Pacific Heights (3219)

3. 然后是情感剧情类：
   - When a Man Loves a Woman (381)
   - How Stella Got Her Groove Back (2154)
   - Immortal Beloved (249)

4. 最后是其他类型电影
2025-05-09 22:47:38,371 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、奇幻类电影），以下是重新排序的候选电影ID列表：

3623, 2571, 2867, 2550, 3176, 3219, 1483, 381, 2154, 249, 3360, 146, 2129, 1965, 2943, 3878, 803, 1611, 3590, 730

排序理由：
1. 优先推荐同类型电影（动作/冒险/惊悚）：
   - Mission: Impossible 2 (3623)
   - Matrix, The (2571)
   - Fright Night (2867)
   - Haunting, The (2550)
   - Talented Mr. Ripley, The (3176)

2. 次推荐剧情/犯罪类：
   - Crash (1483)
   - Pacific Heights (3219)

3. 然后是情感剧情类：
   - When a Man Loves a Woman (381)
   - How Stella Got Her Groove Back (2154)
   - Immortal Beloved (249)

4. 最后是其他类型电影
2025-05-09 22:47:38,371 - INFO - 模型输出解析 - 解析后电影ID列表: [3623, 2571, 2867, 2550, 3176, 3219, 1483, 381, 2154, 249, 3360, 146, 2129, 1965, 2943, 3878, 803, 1611, 3590, 730, 1, 2, 3623, 2571, 2867, 2550, 3176, 2, 1483, 3219, 3, 381, 2154, 249, 4]
2025-05-09 22:47:38,371 - INFO - NDCG计算 - 预测列表前10项: [3623, 2571, 2867, 2550, 3176, 3219, 1483, 381, 2154, 249], 真实目标: 3176, NDCG@10: 0.38685280723454163
2025-05-09 22:47:38,372 - INFO - 样本 7 (Trial 7): NDCG@10 = 0.3869
2025-05-09 22:47:38,836 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的喜剧/幽默风格电影（Animal House, Monty Python, Blazing Saddles等），我将优先推荐类似风格的候选电影。以下是重排后的ID列表：

[785, 1194, 1083, 945, 194, 3822, 29, 1365, 2022, 2858, 1263, 2311, 1797, 2438, 2705, 3474, 3667, 3709, 3768, 1145]

推荐理由：
1. Kingpin (785) - 与用户观看的Blazing Saddles等荒诞喜剧风格匹配
2. Up in Smoke (1194) - 经典喜剧，符合用户幽默偏好
3. Great Race (1083) - 经典喜剧冒险片
4. Top Hat (945) - 经典歌舞喜剧
5. Smoke (194) - 温和的喜剧剧情片
6. Girl on the Bridge (3822) - 黑色幽默
7. City of Lost Children (29) - 奇幻风格喜剧
8. Ridicule (1365) - 讽刺喜剧
其余电影按类型相似度降序排列
2025-05-09 22:47:38,836 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的喜剧/幽默风格电影（Animal House, Monty Python, Blazing Saddles等），我将优先推荐类似风格的候选电影。以下是重排后的ID列表：

[785, 1194, 1083, 945, 194, 3822, 29, 1365, 2022, 2858, 1263, 2311, 1797, 2438, 2705, 3474, 3667, 3709, 3768, 1145]

推荐理由：
1. Kingpin (785) - 与用户观看的Blazing Saddles等荒诞喜剧风格匹配
2. Up in Smoke (1194) - 经典喜剧，符合用户幽默偏好
3. Great Race (1083) - 经典喜剧冒险片
4. Top Hat (945) - 经典歌舞喜剧
5. Smoke (194) - 温和的喜剧剧情片
6. Girl on the Bridge (3822) - 黑色幽默
7. City of Lost Children (29) - 奇幻风格喜剧
8. Ridicule (1365) - 讽刺喜剧
其余电影按类型相似度降序排列
2025-05-09 22:47:38,836 - INFO - 模型输出解析 - 解析后电影ID列表: [785, 1194, 1083, 945, 194, 3822, 29, 1365, 2022, 2858, 1263, 2311, 1797, 2438, 2705, 3474, 3667, 3709, 3768, 1145, 1, 785, 2, 1194, 3, 1083, 4, 945, 5, 194, 6, 3822, 7, 29, 8, 1365]
2025-05-09 22:47:38,836 - INFO - NDCG计算 - 预测列表前10项: [785, 1194, 1083, 945, 194, 3822, 29, 1365, 2022, 2858], 真实目标: 1194, NDCG@10: 0.6309297535714575
2025-05-09 22:47:38,836 - INFO - 样本 1 (Trial 7): NDCG@10 = 0.6309
2025-05-09 22:47:39,960 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好混合了动作片、黑色喜剧、惊悚片和轻松喜剧。以下是重排后的候选电影ID列表，综合考虑了类型相似性、上映年代和主题相关性：

[370, 21, 122, 428, 1722, 447, 691, 818, 1555, 1539, 1563, 1913, 2609, 3420, 3756, 3768, 3824, 567, 2367, 3701]

排序理由：
1. Naked Gun 33 1/3 (370) - 与Meet the Parents类似的喜剧
2. Get Shorty (21) - 黑色幽默犯罪片，类似American Psycho
3. Boomerang (122) - 轻松喜剧，类似Big Momma's House
4. Bronx Tale (428) - 犯罪剧情片，类似American Psycho
5. Tomorrow Never Dies (1722) - 动作片，类似Gladiator
6. The Favor (447) - 黑色喜剧，类似Screwed
7. Mrs. Winterbourne (691) - 轻松喜剧
8. Very Brady Sequel (818) - 家庭喜剧
9-20. 其他电影按类型相关性递减排列
2025-05-09 22:47:39,960 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好混合了动作片、黑色喜剧、惊悚片和轻松喜剧。以下是重排后的候选电影ID列表，综合考虑了类型相似性、上映年代和主题相关性：

[370, 21, 122, 428, 1722, 447, 691, 818, 1555, 1539, 1563, 1913, 2609, 3420, 3756, 3768, 3824, 567, 2367, 3701]

排序理由：
1. Naked Gun 33 1/3 (370) - 与Meet the Parents类似的喜剧
2. Get Shorty (21) - 黑色幽默犯罪片，类似American Psycho
3. Boomerang (122) - 轻松喜剧，类似Big Momma's House
4. Bronx Tale (428) - 犯罪剧情片，类似American Psycho
5. Tomorrow Never Dies (1722) - 动作片，类似Gladiator
6. The Favor (447) - 黑色喜剧，类似Screwed
7. Mrs. Winterbourne (691) - 轻松喜剧
8. Very Brady Sequel (818) - 家庭喜剧
9-20. 其他电影按类型相关性递减排列
2025-05-09 22:47:39,960 - INFO - 模型输出解析 - 解析后电影ID列表: [370, 21, 122, 428, 1722, 447, 691, 818, 1555, 1539, 1563, 1913, 2609, 3420, 3756, 3768, 3824, 567, 2367, 3701, 1, 33, 1, 3, 370, 2, 21, 3, 122, 4, 428, 5, 1722, 6, 447, 7, 691, 8, 818, 9, 20]
2025-05-09 22:47:39,960 - INFO - NDCG计算 - 预测列表前10项: [370, 21, 122, 428, 1722, 447, 691, 818, 1555, 1539], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:47:39,961 - INFO - 样本 3 (Trial 7): NDCG@10 = 0.0000
2025-05-09 22:47:40,716 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、剧情片和犯罪惊悚类电影。以下是重新排序的候选电影ID列表：

[1343, 1858, 373, 1758, 3107, 1236, 1537, 3325, 2997, 971, 3145, 2507, 3864, 3933, 1024, 2049, 2566, 3672, 1053, 614]

排序理由：
1. Cape Fear (1343) - 犯罪惊悚片，符合用户近期观看的Shaft等犯罪题材
2. Mr. Nice Guy (1858) - 动作片，类似Romeo Must Die
3. Red Rock West (373) - 犯罪惊悚片
4. Dangerous Beauty (1758) - 剧情片，类似Erin Brockovich
5. Backdraft (3107) - 灾难动作片，类似Perfect Storm
6. Trust (1236) - 剧情片
7. Shall We Dance? (1537) - 剧情片
8. Next Best Thing (3325) - 剧情片
9. Being John Malkovich (2997) - 黑色喜剧
10. Cat on a Hot Tin Roof (971) - 经典剧情片
其余电影根据类型相似度降序排列
2025-05-09 22:47:40,716 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、剧情片和犯罪惊悚类电影。以下是重新排序的候选电影ID列表：

[1343, 1858, 373, 1758, 3107, 1236, 1537, 3325, 2997, 971, 3145, 2507, 3864, 3933, 1024, 2049, 2566, 3672, 1053, 614]

排序理由：
1. Cape Fear (1343) - 犯罪惊悚片，符合用户近期观看的Shaft等犯罪题材
2. Mr. Nice Guy (1858) - 动作片，类似Romeo Must Die
3. Red Rock West (373) - 犯罪惊悚片
4. Dangerous Beauty (1758) - 剧情片，类似Erin Brockovich
5. Backdraft (3107) - 灾难动作片，类似Perfect Storm
6. Trust (1236) - 剧情片
7. Shall We Dance? (1537) - 剧情片
8. Next Best Thing (3325) - 剧情片
9. Being John Malkovich (2997) - 黑色喜剧
10. Cat on a Hot Tin Roof (971) - 经典剧情片
其余电影根据类型相似度降序排列
2025-05-09 22:47:40,716 - INFO - 模型输出解析 - 解析后电影ID列表: [1343, 1858, 373, 1758, 3107, 1236, 1537, 3325, 2997, 971, 3145, 2507, 3864, 3933, 1024, 2049, 2566, 3672, 1053, 614, 1, 1343, 2, 1858, 3, 373, 4, 1758, 5, 3107, 6, 1236, 7, 1537, 8, 3325, 9, 2997, 10, 971]
2025-05-09 22:47:40,716 - INFO - NDCG计算 - 预测列表前10项: [1343, 1858, 373, 1758, 3107, 1236, 1537, 3325, 2997, 971], 真实目标: 1758, NDCG@10: 0.43067655807339306
2025-05-09 22:47:40,716 - INFO - 样本 8 (Trial 7): NDCG@10 = 0.4307
2025-05-09 22:47:40,727 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好偏向于剧情片、浪漫剧情、文学改编作品以及带有社会议题的电影。以下是重排后的候选电影ID列表：

[534, 1187, 3449, 3183, 280, 537, 607, 823, 1232, 1458, 1523, 2261, 2644, 3247, 370, 3790, 3497, 3761, 2791, 3801]

排序理由：
1. Shadowlands (534) - 文学改编剧情片，符合用户偏好
2. Passion Fish (1187) - 女性题材剧情片
3. Good Mother, The (3449) - 家庭剧情片
4. Third Miracle, The (3183) - 宗教题材剧情片
5. Murder in the First (280) - 法庭剧情片
6. Sirens (537) - 艺术题材剧情片
7. Century (607) - 历史剧情片
8. Collectionneuse, La (823) - 艺术电影
9. Stalker (1232) - 文艺剧情片
10. Touch (1458) - 温情剧情片
11-20为相对不太符合但仍有部分匹配的电影
2025-05-09 22:47:40,727 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好偏向于剧情片、浪漫剧情、文学改编作品以及带有社会议题的电影。以下是重排后的候选电影ID列表：

[534, 1187, 3449, 3183, 280, 537, 607, 823, 1232, 1458, 1523, 2261, 2644, 3247, 370, 3790, 3497, 3761, 2791, 3801]

排序理由：
1. Shadowlands (534) - 文学改编剧情片，符合用户偏好
2. Passion Fish (1187) - 女性题材剧情片
3. Good Mother, The (3449) - 家庭剧情片
4. Third Miracle, The (3183) - 宗教题材剧情片
5. Murder in the First (280) - 法庭剧情片
6. Sirens (537) - 艺术题材剧情片
7. Century (607) - 历史剧情片
8. Collectionneuse, La (823) - 艺术电影
9. Stalker (1232) - 文艺剧情片
10. Touch (1458) - 温情剧情片
11-20为相对不太符合但仍有部分匹配的电影
2025-05-09 22:47:40,727 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 1187, 3449, 3183, 280, 537, 607, 823, 1232, 1458, 1523, 2261, 2644, 3247, 370, 3790, 3497, 3761, 2791, 3801, 1, 534, 2, 1187, 3, 3449, 4, 3183, 5, 280, 6, 537, 7, 607, 8, 823, 9, 1232, 10, 1458, 11, 20]
2025-05-09 22:47:40,727 - INFO - NDCG计算 - 预测列表前10项: [534, 1187, 3449, 3183, 280, 537, 607, 823, 1232, 1458], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:47:40,727 - INFO - 样本 5 (Trial 7): NDCG@10 = 1.0000
2025-05-09 22:47:41,341 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate、Tron、Independence Day、Star Trek等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的科幻/动作类电影：

[2011, 3699, 2532, 555, 3557, 515, 1541, 2482, 1257, 421, 2467, 1357, 1420, 1174, 1102, 310, 2703, 576, 3739, 2562]

排序理由：
1. Back to the Future Part II (2011) - 经典科幻续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/犯罪题材
5. Jennifer 8 (3557) - 惊悚/犯罪
6. The Remains of the Day (515) - 剧情片，但主演曾出演超人
7. Addicted to Love (1541) - 爱情喜剧，作为类型调剂
8. Still Crazy (2482) - 音乐喜剧
9. Better Off Dead... (1257) - 喜剧
10. Black Beauty (421) - 家庭/冒险
其余电影按类型相似度排序
2025-05-09 22:47:41,341 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate、Tron、Independence Day、Star Trek等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的科幻/动作类电影：

[2011, 3699, 2532, 555, 3557, 515, 1541, 2482, 1257, 421, 2467, 1357, 1420, 1174, 1102, 310, 2703, 576, 3739, 2562]

排序理由：
1. Back to the Future Part II (2011) - 经典科幻续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/犯罪题材
5. Jennifer 8 (3557) - 惊悚/犯罪
6. The Remains of the Day (515) - 剧情片，但主演曾出演超人
7. Addicted to Love (1541) - 爱情喜剧，作为类型调剂
8. Still Crazy (2482) - 音乐喜剧
9. Better Off Dead... (1257) - 喜剧
10. Black Beauty (421) - 家庭/冒险
其余电影按类型相似度排序
2025-05-09 22:47:41,341 - INFO - 模型输出解析 - 解析后电影ID列表: [2011, 3699, 2532, 555, 3557, 515, 1541, 2482, 1257, 421, 2467, 1357, 1420, 1174, 1102, 310, 2703, 576, 3739, 2562, 1, 2011, 2, 3699, 3, 2532, 4, 555, 5, 8, 3557, 6, 515, 7, 1541, 8, 2482, 9, 1257, 10, 421]
2025-05-09 22:47:41,341 - INFO - NDCG计算 - 预测列表前10项: [2011, 3699, 2532, 555, 3557, 515, 1541, 2482, 1257, 421], 真实目标: 2011, NDCG@10: 1.0
2025-05-09 22:47:41,341 - INFO - 样本 2 (Trial 7): NDCG@10 = 1.0000
2025-05-09 22:47:41,486 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的电影类型和风格，我注意到用户偏好历史剧情片、爱情片、悬疑片和带有文学/艺术元素的电影。以下是重新排序的候选电影ID列表：

[3948, 2160, 145, 516, 1824, 1671, 2227, 2074, 2869, 3618, 2620, 1317, 2374, 1528, 8, 1822, 3882, 3313, 863, 2993]

排序理由：
1. Meet the Parents (3948) - 与Runaway Bride类似的浪漫喜剧
2. Rosemary's Baby (2160) - 心理惊悚片，类似The Sixth Sense
3. Bad Boys (145) - 动作片，类似The Thomas Crown Affair
4. Renaissance Man (516) - 文学/教育题材，类似Shakespeare in Love
5. Homegrown (1824) - 犯罪剧情片，类似The Talented Mr. Ripley
6. Deceiver (1671) - 心理悬疑片，类似The Sixth Sense
7. The Lodger (2227) - 历史悬疑片，类似Snow Falling on Cedars
8. The Night Porter (2074) - 历史剧情片，类似The Patriot
9. The Separation (2869) - 文艺爱情片，类似Shakespeare in Love
10. Small Time Crooks (3618) - 轻喜剧，类似Runaway Bride
2025-05-09 22:47:41,486 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的电影类型和风格，我注意到用户偏好历史剧情片、爱情片、悬疑片和带有文学/艺术元素的电影。以下是重新排序的候选电影ID列表：

[3948, 2160, 145, 516, 1824, 1671, 2227, 2074, 2869, 3618, 2620, 1317, 2374, 1528, 8, 1822, 3882, 3313, 863, 2993]

排序理由：
1. Meet the Parents (3948) - 与Runaway Bride类似的浪漫喜剧
2. Rosemary's Baby (2160) - 心理惊悚片，类似The Sixth Sense
3. Bad Boys (145) - 动作片，类似The Thomas Crown Affair
4. Renaissance Man (516) - 文学/教育题材，类似Shakespeare in Love
5. Homegrown (1824) - 犯罪剧情片，类似The Talented Mr. Ripley
6. Deceiver (1671) - 心理悬疑片，类似The Sixth Sense
7. The Lodger (2227) - 历史悬疑片，类似Snow Falling on Cedars
8. The Night Porter (2074) - 历史剧情片，类似The Patriot
9. The Separation (2869) - 文艺爱情片，类似Shakespeare in Love
10. Small Time Crooks (3618) - 轻喜剧，类似Runaway Bride
2025-05-09 22:47:41,486 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 2160, 145, 516, 1824, 1671, 2227, 2074, 2869, 3618, 2620, 1317, 2374, 1528, 8, 1822, 3882, 3313, 863, 2993, 1, 3948, 2, 2160, 3, 145, 4, 516, 5, 1824, 6, 1671, 7, 2227, 8, 2074, 9, 2869, 10, 3618]
2025-05-09 22:47:41,486 - INFO - NDCG计算 - 预测列表前10项: [3948, 2160, 145, 516, 1824, 1671, 2227, 2074, 2869, 3618], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:47:41,486 - INFO - 样本 4 (Trial 7): NDCG@10 = 1.0000
2025-05-09 22:47:42,426 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户观看历史中展现的多元化电影品味（包含科幻、剧情、惊悚、经典等多种类型），以下是重排后的候选电影ID列表：

[1103, 161, 1590, 1880, 2318, 1251, 2144, 3258, 396, 2210, 2637, 3695, 381, 3413, 2970, 1965, 3723, 876, 3245]

排序理由：
1. Rebel Without a Cause (1103) - 经典剧情片，符合用户观看Edward Scissorhands等经典电影的偏好
2. Crimson Tide (161) - 动作/剧情片，类似Braveheart和Terminator 2的男性向电影
3. Event Horizon (1590) - 科幻惊悚，延续Terminator 2和Rosemary's Baby的科幻/恐怖元素
4. Lawn Dogs (1880) - 独立剧情片，类似After Life的文艺气质
5. Happiness (2318) - 黑色幽默剧情片，符合Boogie Nights和High Fidelity的成人向剧情片偏好
6. 8 1/2 (1251) - 艺术电影经典，匹配用户观看From Russia with Love等经典电影的品味
7. Sixteen Candles (2144) - 青春喜剧，作为High Fidelity和Boogie Nights的调剂
8. Death Becomes Her (3258) - 黑色喜剧，延续Edward Scissorhands的奇幻风格
2025-05-09 22:47:42,426 - INFO - 模型输出解析 - 原始输出:
基于用户观看历史中展现的多元化电影品味（包含科幻、剧情、惊悚、经典等多种类型），以下是重排后的候选电影ID列表：

[1103, 161, 1590, 1880, 2318, 1251, 2144, 3258, 396, 2210, 2637, 3695, 381, 3413, 2970, 1965, 3723, 876, 3245]

排序理由：
1. Rebel Without a Cause (1103) - 经典剧情片，符合用户观看Edward Scissorhands等经典电影的偏好
2. Crimson Tide (161) - 动作/剧情片，类似Braveheart和Terminator 2的男性向电影
3. Event Horizon (1590) - 科幻惊悚，延续Terminator 2和Rosemary's Baby的科幻/恐怖元素
4. Lawn Dogs (1880) - 独立剧情片，类似After Life的文艺气质
5. Happiness (2318) - 黑色幽默剧情片，符合Boogie Nights和High Fidelity的成人向剧情片偏好
6. 8 1/2 (1251) - 艺术电影经典，匹配用户观看From Russia with Love等经典电影的品味
7. Sixteen Candles (2144) - 青春喜剧，作为High Fidelity和Boogie Nights的调剂
8. Death Becomes Her (3258) - 黑色喜剧，延续Edward Scissorhands的奇幻风格
2025-05-09 22:47:42,426 - INFO - 模型输出解析 - 解析后电影ID列表: [1103, 161, 1590, 1880, 2318, 1251, 2144, 3258, 396, 2210, 2637, 3695, 381, 3413, 2970, 1965, 3723, 876, 3245, 1, 1103, 2, 161, 2, 3, 1590, 2, 4, 1880, 5, 2318, 6, 8, 1, 2, 1251, 7, 2144, 8, 3258]
2025-05-09 22:47:42,426 - INFO - NDCG计算 - 预测列表前10项: [1103, 161, 1590, 1880, 2318, 1251, 2144, 3258, 396, 2210], 真实目标: 1965, NDCG@10: 0.0
2025-05-09 22:47:42,426 - INFO - 样本 9 (Trial 7): NDCG@10 = 0.0000
2025-05-09 22:47:43,054 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户观看历史中的文艺片、独立电影和剧情片偏好，我重排候选电影如下：

1. Agnes of God (ID:3251) - 宗教题材剧情片，符合用户对严肃主题的偏好
2. Talk of Angels (ID:887) - 文艺剧情片，类似用户看过的"The Secret Garden"风格
3. I Like It Like That (ID:359) - 都市剧情片，接近"High Art"和"SLC Punk!"的独立气质
4. Reality Bites (ID:372) - 90年代青年文化电影，与"Last Days of Disco"时期相近
5. Eden (ID:1815) - 文艺成长故事，类似"Little Women"题材
6. 8 1/2 Women (ID:3626) - 艺术电影，适合喜欢"Angels and Insects"的用户
7. Losing Isaiah (ID:271) - 严肃社会题材，类似"Sleepers"的沉重主题
8. Ogre, The (Der Unhold) (ID:3378) - 欧洲文艺片，符合用户多元口味
9. Beefcake (ID:2960) - 另类历史题材，接近"High Art"的亚文化视角
10. My Blue Heaven (ID:2249) - 轻松喜剧，作为调剂选择

其他动作片/科幻片/恐怖片等类型与用户历史观影偏好匹配度较低，故排在后面。
2025-05-09 22:47:43,054 - INFO - 模型输出解析 - 原始输出:
基于用户观看历史中的文艺片、独立电影和剧情片偏好，我重排候选电影如下：

1. Agnes of God (ID:3251) - 宗教题材剧情片，符合用户对严肃主题的偏好
2. Talk of Angels (ID:887) - 文艺剧情片，类似用户看过的"The Secret Garden"风格
3. I Like It Like That (ID:359) - 都市剧情片，接近"High Art"和"SLC Punk!"的独立气质
4. Reality Bites (ID:372) - 90年代青年文化电影，与"Last Days of Disco"时期相近
5. Eden (ID:1815) - 文艺成长故事，类似"Little Women"题材
6. 8 1/2 Women (ID:3626) - 艺术电影，适合喜欢"Angels and Insects"的用户
7. Losing Isaiah (ID:271) - 严肃社会题材，类似"Sleepers"的沉重主题
8. Ogre, The (Der Unhold) (ID:3378) - 欧洲文艺片，符合用户多元口味
9. Beefcake (ID:2960) - 另类历史题材，接近"High Art"的亚文化视角
10. My Blue Heaven (ID:2249) - 轻松喜剧，作为调剂选择

其他动作片/科幻片/恐怖片等类型与用户历史观影偏好匹配度较低，故排在后面。
2025-05-09 22:47:43,054 - INFO - 模型输出解析 - 解析后电影ID列表: [1, 3251, 2, 887, 3, 359, 4, 372, 90, 5, 1815, 6, 8, 1, 2, 3626, 7, 271, 8, 3378, 9, 2960, 10, 2249]
2025-05-09 22:47:43,054 - INFO - NDCG计算 - 预测列表前10项: [1, 3251, 2, 887, 3, 359, 4, 372, 90, 5], 真实目标: 372, NDCG@10: 0.31546487678572877
2025-05-09 22:47:43,054 - INFO - 样本 6 (Trial 7): NDCG@10 = 0.3155
2025-05-09 22:47:46,133 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有轻松喜剧（如《The Money Pit》《Speechless》）。以下是重排后的候选电影ID列表，优先推荐与用户历史观影偏好更匹配的电影：

[1844, 1695, 1829, 2813, 1656, 41, 3221, 3516, 3858, 2579, 2755, 3497, 396, 328, 2123, 2720, 1731, 2795, 3606, 3303]

排序理由：
1. **Live Flesh (1844)** - 西班牙文艺片，符合用户对欧洲艺术电影的偏好
2. **Artemisia (1695)** - 女性视角的历史剧情片，类似《Antonia's Line》
3. **Chinese Box (1829)** - 文艺剧情片，主演曾出演《Leaving Las Vegas》
4. **The Source (2813)** - 作家传记片，匹配用户对文学题材的兴趣
5. **Swept from the Sea (1656)** - 古典爱情剧情片
6. **Richard III (41)** - 莎士比亚改编经典
7. **The Draughtsman's Contract (3221)** - 英国艺术电影
8. **Bell, Book and Candle (3516)** - 经典浪漫喜剧
9. **Cecil B. Demented (3858)** - 另类喜剧，适度突破用户现有范围
10. **Following (2579)** - 诺兰早期悬疑作品
...后续为匹配度逐渐降低的影片，包括更多商业片和动画片。
2025-05-09 22:47:46,133 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有轻松喜剧（如《The Money Pit》《Speechless》）。以下是重排后的候选电影ID列表，优先推荐与用户历史观影偏好更匹配的电影：

[1844, 1695, 1829, 2813, 1656, 41, 3221, 3516, 3858, 2579, 2755, 3497, 396, 328, 2123, 2720, 1731, 2795, 3606, 3303]

排序理由：
1. **Live Flesh (1844)** - 西班牙文艺片，符合用户对欧洲艺术电影的偏好
2. **Artemisia (1695)** - 女性视角的历史剧情片，类似《Antonia's Line》
3. **Chinese Box (1829)** - 文艺剧情片，主演曾出演《Leaving Las Vegas》
4. **The Source (2813)** - 作家传记片，匹配用户对文学题材的兴趣
5. **Swept from the Sea (1656)** - 古典爱情剧情片
6. **Richard III (41)** - 莎士比亚改编经典
7. **The Draughtsman's Contract (3221)** - 英国艺术电影
8. **Bell, Book and Candle (3516)** - 经典浪漫喜剧
9. **Cecil B. Demented (3858)** - 另类喜剧，适度突破用户现有范围
10. **Following (2579)** - 诺兰早期悬疑作品
...后续为匹配度逐渐降低的影片，包括更多商业片和动画片。
2025-05-09 22:47:46,133 - INFO - 模型输出解析 - 解析后电影ID列表: [1844, 1695, 1829, 2813, 1656, 41, 3221, 3516, 3858, 2579, 2755, 3497, 396, 328, 2123, 2720, 1731, 2795, 3606, 3303, 1, 1844, 2, 1695, 3, 1829, 4, 2813, 5, 1656, 6, 41, 7, 3221, 8, 3516, 9, 3858, 10, 2579]
2025-05-09 22:47:46,133 - INFO - NDCG计算 - 预测列表前10项: [1844, 1695, 1829, 2813, 1656, 41, 3221, 3516, 3858, 2579], 真实目标: 1695, NDCG@10: 0.6309297535714575
2025-05-09 22:47:46,133 - INFO - 样本 0 (Trial 7): NDCG@10 = 0.6309
2025-05-09 22:47:46,133 - INFO - 开始第 8/10 次评估
2025-05-09 22:47:46,191 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:46,192 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:46,192 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:46,192 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:46,200 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:46,266 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:46,266 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:46,268 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:46,294 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:47:46,295 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:00,235 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、奇幻类电影），以下是重新排序的候选电影ID列表：

[3623, 2571, 2867, 2550, 3176, 3219, 1483, 381, 2154, 249, 3360, 146, 2129, 1965, 2943, 3878, 803, 1611, 3590, 730]

排序理由：
1. 优先推荐与用户观看历史最相似的动作/惊悚类电影（Mission: Impossible 2, The Matrix）
2. 其次是带有惊悚/悬疑元素的电影（The Haunting, The Talented Mr. Ripley）
3. 然后是其他类型但有一定戏剧性的电影
4. 最后是风格差异较大的艺术片/文艺片
2025-05-09 22:48:00,235 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、奇幻类电影），以下是重新排序的候选电影ID列表：

[3623, 2571, 2867, 2550, 3176, 3219, 1483, 381, 2154, 249, 3360, 146, 2129, 1965, 2943, 3878, 803, 1611, 3590, 730]

排序理由：
1. 优先推荐与用户观看历史最相似的动作/惊悚类电影（Mission: Impossible 2, The Matrix）
2. 其次是带有惊悚/悬疑元素的电影（The Haunting, The Talented Mr. Ripley）
3. 然后是其他类型但有一定戏剧性的电影
4. 最后是风格差异较大的艺术片/文艺片
2025-05-09 22:48:00,235 - INFO - 模型输出解析 - 解析后电影ID列表: [3623, 2571, 2867, 2550, 3176, 3219, 1483, 381, 2154, 249, 3360, 146, 2129, 1965, 2943, 3878, 803, 1611, 3590, 730, 1, 2, 2, 3, 4]
2025-05-09 22:48:00,235 - INFO - NDCG计算 - 预测列表前10项: [3623, 2571, 2867, 2550, 3176, 3219, 1483, 381, 2154, 249], 真实目标: 3176, NDCG@10: 0.38685280723454163
2025-05-09 22:48:00,235 - INFO - 样本 7 (Trial 8): NDCG@10 = 0.3869
2025-05-09 22:48:02,799 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户观看历史中的电影类型和风格，我注意到用户偏好混合了科幻、黑色幽默、经典剧情片和惊悚元素。以下是重排后的候选电影ID列表：

[1103, 1590, 2318, 1880, 161, 3258, 3723, 2144, 1251, 396, 2210, 381, 3710, 2637, 876, 1965, 2970, 3695, 3413, 3245]

排序理由：
1. Rebel Without a Cause (1103) - 经典剧情片，类似Edward Scissorhands和High Fidelity的戏剧性
2. Event Horizon (1590) - 科幻惊悚，类似Terminator 2和Rosemary's Baby的混合
3. Happiness (2318) - 黑色幽默，类似Boogie Nights和After Life
4. Lawn Dogs (1880) - 另类剧情片，接近Edward Scissorhands风格
5. Crimson Tide (161) - 紧张剧情，类似Braveheart的史诗感
6. Death Becomes Her (3258) - 黑色喜剧，接近Edward Scissorhands的奇幻风格
2025-05-09 22:48:02,799 - INFO - 模型输出解析 - 原始输出:
基于用户观看历史中的电影类型和风格，我注意到用户偏好混合了科幻、黑色幽默、经典剧情片和惊悚元素。以下是重排后的候选电影ID列表：

[1103, 1590, 2318, 1880, 161, 3258, 3723, 2144, 1251, 396, 2210, 381, 3710, 2637, 876, 1965, 2970, 3695, 3413, 3245]

排序理由：
1. Rebel Without a Cause (1103) - 经典剧情片，类似Edward Scissorhands和High Fidelity的戏剧性
2. Event Horizon (1590) - 科幻惊悚，类似Terminator 2和Rosemary's Baby的混合
3. Happiness (2318) - 黑色幽默，类似Boogie Nights和After Life
4. Lawn Dogs (1880) - 另类剧情片，接近Edward Scissorhands风格
5. Crimson Tide (161) - 紧张剧情，类似Braveheart的史诗感
6. Death Becomes Her (3258) - 黑色喜剧，接近Edward Scissorhands的奇幻风格
2025-05-09 22:48:02,799 - INFO - 模型输出解析 - 解析后电影ID列表: [1103, 1590, 2318, 1880, 161, 3258, 3723, 2144, 1251, 396, 2210, 381, 3710, 2637, 876, 1965, 2970, 3695, 3413, 3245, 1, 1103, 2, 1590, 2, 3, 2318, 4, 1880, 5, 161, 6, 3258]
2025-05-09 22:48:02,799 - INFO - NDCG计算 - 预测列表前10项: [1103, 1590, 2318, 1880, 161, 3258, 3723, 2144, 1251, 396], 真实目标: 1965, NDCG@10: 0.0
2025-05-09 22:48:02,799 - INFO - 样本 9 (Trial 8): NDCG@10 = 0.0000
2025-05-09 22:48:03,612 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate, Tron, Independence Day, Star Trek等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的电影：

[2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482, 2703, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739]

排序理由：
1. Back to the Future Part II (2011) - 经典科幻续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/犯罪题材
5. Jennifer 8 (3557) - 惊悚/犯罪
6. Addicted to Love (1541) - 爱情喜剧(作为类型调剂)
7. The Remains of the Day (515) - 剧情片(奥斯卡获奖作品)
8. Shine (1357) - 传记剧情片
其余电影按类型相关性和评分排序
2025-05-09 22:48:03,612 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate, Tron, Independence Day, Star Trek等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的电影：

[2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482, 2703, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739]

排序理由：
1. Back to the Future Part II (2011) - 经典科幻续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/犯罪题材
5. Jennifer 8 (3557) - 惊悚/犯罪
6. Addicted to Love (1541) - 爱情喜剧(作为类型调剂)
7. The Remains of the Day (515) - 剧情片(奥斯卡获奖作品)
8. Shine (1357) - 传记剧情片
其余电影按类型相关性和评分排序
2025-05-09 22:48:03,612 - INFO - 模型输出解析 - 解析后电影ID列表: [2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482, 2703, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739, 1, 2011, 2, 3699, 3, 2532, 4, 555, 5, 8, 3557, 6, 1541, 7, 515, 8, 1357]
2025-05-09 22:48:03,612 - INFO - NDCG计算 - 预测列表前10项: [2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482], 真实目标: 2011, NDCG@10: 1.0
2025-05-09 22:48:03,612 - INFO - 样本 2 (Trial 8): NDCG@10 = 1.0000
2025-05-09 22:48:04,292 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的喜剧/幽默风格电影（Animal House, Monty Python, Blazing Saddles等）和怀旧经典（Grease, Pink Panther等），以下是重排后的候选电影ID列表，优先推荐风格相近的喜剧和经典作品：

[785, 1194, 1083, 945, 194, 3822, 29, 1263, 2022, 2858, 2438, 1365, 2311, 1797, 3474, 3709, 3667, 3768, 2705, 1145]

推荐理由：
1. Kingpin (785) - 与Blazing Saddles同属荒诞喜剧
2. Up in Smoke (1194) - 经典喜剧，符合用户幽默偏好
3. Great Race (1083) - 经典怀旧喜剧
4. Top Hat (945) - 经典歌舞片，类似Grease
5. Smoke (194) - 文艺但含幽默元素
6. Girl on the Bridge (3822) - 法式幽默
7. City of Lost Children (29) - 奇幻风格类似Monty Python
8. Deer Hunter (1263) - 经典电影补充多样性
9-20. 其他电影按评分和类型相关性排序
2025-05-09 22:48:04,293 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的喜剧/幽默风格电影（Animal House, Monty Python, Blazing Saddles等）和怀旧经典（Grease, Pink Panther等），以下是重排后的候选电影ID列表，优先推荐风格相近的喜剧和经典作品：

[785, 1194, 1083, 945, 194, 3822, 29, 1263, 2022, 2858, 2438, 1365, 2311, 1797, 3474, 3709, 3667, 3768, 2705, 1145]

推荐理由：
1. Kingpin (785) - 与Blazing Saddles同属荒诞喜剧
2. Up in Smoke (1194) - 经典喜剧，符合用户幽默偏好
3. Great Race (1083) - 经典怀旧喜剧
4. Top Hat (945) - 经典歌舞片，类似Grease
5. Smoke (194) - 文艺但含幽默元素
6. Girl on the Bridge (3822) - 法式幽默
7. City of Lost Children (29) - 奇幻风格类似Monty Python
8. Deer Hunter (1263) - 经典电影补充多样性
9-20. 其他电影按评分和类型相关性排序
2025-05-09 22:48:04,293 - INFO - 模型输出解析 - 解析后电影ID列表: [785, 1194, 1083, 945, 194, 3822, 29, 1263, 2022, 2858, 2438, 1365, 2311, 1797, 3474, 3709, 3667, 3768, 2705, 1145, 1, 785, 2, 1194, 3, 1083, 4, 945, 5, 194, 6, 3822, 7, 29, 8, 1263, 9, 20]
2025-05-09 22:48:04,293 - INFO - NDCG计算 - 预测列表前10项: [785, 1194, 1083, 945, 194, 3822, 29, 1263, 2022, 2858], 真实目标: 1194, NDCG@10: 0.6309297535714575
2025-05-09 22:48:04,293 - INFO - 样本 1 (Trial 8): NDCG@10 = 0.6309
2025-05-09 22:48:05,638 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，我们可以观察到用户偏好混合了动作片（Gladiator, Final Destination）、黑色喜剧/惊悚片（American Psycho, Screwed）、轻松喜剧（Meet the Parents, Big Momma's House）以及一些cult经典（Showgirls, Supernova）。以下是重排后的候选电影ID列表：

[21, 370, 122, 428, 1722, 447, 691, 818, 1555, 1539, 1563, 1913, 2367, 2609, 3420, 3756, 3768, 3824, 567, 3701]

排序理由：
1. Get Shorty (21) - 黑色喜剧，与American Psycho和Screwed风格相近
2. Naked Gun 33 1/3 (370) - 无厘头喜剧，类似Meet the Parents
3. Boomerang (122) - 轻松喜剧，类似Big Momma's House
4. Bronx Tale (428) - 犯罪剧情片，与用户观看的多种类型有交集
5. Tomorrow Never Dies (1722) - 动作片，类似Gladiator和Final Destination
6. The Favor (447) - 黑色喜剧
7. Mrs. Winterbourne (691) - 轻松喜剧
8. Very Brady Sequel (818) - 家庭喜剧
9-20. 其余电影根据类型相关性和用户历史行为的匹配度降序排列
2025-05-09 22:48:05,638 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，我们可以观察到用户偏好混合了动作片（Gladiator, Final Destination）、黑色喜剧/惊悚片（American Psycho, Screwed）、轻松喜剧（Meet the Parents, Big Momma's House）以及一些cult经典（Showgirls, Supernova）。以下是重排后的候选电影ID列表：

[21, 370, 122, 428, 1722, 447, 691, 818, 1555, 1539, 1563, 1913, 2367, 2609, 3420, 3756, 3768, 3824, 567, 3701]

排序理由：
1. Get Shorty (21) - 黑色喜剧，与American Psycho和Screwed风格相近
2. Naked Gun 33 1/3 (370) - 无厘头喜剧，类似Meet the Parents
3. Boomerang (122) - 轻松喜剧，类似Big Momma's House
4. Bronx Tale (428) - 犯罪剧情片，与用户观看的多种类型有交集
5. Tomorrow Never Dies (1722) - 动作片，类似Gladiator和Final Destination
6. The Favor (447) - 黑色喜剧
7. Mrs. Winterbourne (691) - 轻松喜剧
8. Very Brady Sequel (818) - 家庭喜剧
9-20. 其余电影根据类型相关性和用户历史行为的匹配度降序排列
2025-05-09 22:48:05,638 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 428, 1722, 447, 691, 818, 1555, 1539, 1563, 1913, 2367, 2609, 3420, 3756, 3768, 3824, 567, 3701, 1, 21, 2, 33, 1, 3, 370, 3, 122, 4, 428, 5, 1722, 6, 447, 7, 691, 8, 818, 9, 20]
2025-05-09 22:48:05,638 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 428, 1722, 447, 691, 818, 1555, 1539], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:48:05,638 - INFO - 样本 3 (Trial 8): NDCG@10 = 0.0000
2025-05-09 22:48:05,912 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有少量轻松喜剧（如《The Money Pit》）。以下是重排后的候选电影ID列表：

[1844, 1695, 2813, 1829, 1656, 2579, 3221, 41, 3516, 3858, 2755, 396, 328, 2123, 2720, 1731, 2795, 3606, 3497, 3303]

排序理由：
1. 《Live Flesh》(1844) - 西班牙文艺片，符合用户艺术电影偏好
2. 《Artemisia》(1695) - 女性视角历史剧情片
3. 《The Source》(2813) - 文艺纪录片
4. 《Chinese Box》(1829) - 王家卫参与的文艺片
5. 《Swept from the Sea》(1656) - 文学改编剧情片
6. 《Following》(2579) - 诺兰早期悬疑作品
7. 《The Draughtsman's Contract》(3221) - 艺术电影
8. 《Richard III》(41) - 莎士比亚改编
9. 《Bell, Book and Candle》(3516) - 经典浪漫喜剧
10. 《Cecil B. Demented》(3858) - 另类cult电影
...后续为更商业化的影片
2025-05-09 22:48:05,912 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有少量轻松喜剧（如《The Money Pit》）。以下是重排后的候选电影ID列表：

[1844, 1695, 2813, 1829, 1656, 2579, 3221, 41, 3516, 3858, 2755, 396, 328, 2123, 2720, 1731, 2795, 3606, 3497, 3303]

排序理由：
1. 《Live Flesh》(1844) - 西班牙文艺片，符合用户艺术电影偏好
2. 《Artemisia》(1695) - 女性视角历史剧情片
3. 《The Source》(2813) - 文艺纪录片
4. 《Chinese Box》(1829) - 王家卫参与的文艺片
5. 《Swept from the Sea》(1656) - 文学改编剧情片
6. 《Following》(2579) - 诺兰早期悬疑作品
7. 《The Draughtsman's Contract》(3221) - 艺术电影
8. 《Richard III》(41) - 莎士比亚改编
9. 《Bell, Book and Candle》(3516) - 经典浪漫喜剧
10. 《Cecil B. Demented》(3858) - 另类cult电影
...后续为更商业化的影片
2025-05-09 22:48:05,912 - INFO - 模型输出解析 - 解析后电影ID列表: [1844, 1695, 2813, 1829, 1656, 2579, 3221, 41, 3516, 3858, 2755, 396, 328, 2123, 2720, 1731, 2795, 3606, 3497, 3303, 1, 1844, 2, 1695, 3, 2813, 4, 1829, 5, 1656, 6, 2579, 7, 3221, 8, 41, 9, 3516, 10, 3858]
2025-05-09 22:48:05,912 - INFO - NDCG计算 - 预测列表前10项: [1844, 1695, 2813, 1829, 1656, 2579, 3221, 41, 3516, 3858], 真实目标: 1695, NDCG@10: 0.6309297535714575
2025-05-09 22:48:05,912 - INFO - 样本 0 (Trial 8): NDCG@10 = 0.6309
2025-05-09 22:48:06,547 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、浪漫剧情片和有一定深度的电影。以下是重排后的候选电影ID列表：

[534, 1187, 3183, 3449, 280, 1458, 537, 607, 1232, 2644, 370, 2261, 2791, 3247, 823, 3790, 1523, 3497, 3761, 3801]

排序理由：
1. Shadowlands (534) - 剧情/浪漫，与用户观看的Philadelphia和Great Expectations风格相似
2. Passion Fish (1187) - 剧情片，类似Cider House Rules
3. The Third Miracle (3183) - 剧情/宗教元素，类似Philadelphia
4. The Good Mother (3449) - 家庭剧情，类似A Thousand Acres
5. Murder in the First (280) - 法庭剧情，类似The Client
6. Touch (1458) - 温和剧情片
7. Sirens (537) - 浪漫剧情，类似Ever After
8. Century (607) - 历史剧情
9. Stalker (1232) - 有思想性的电影，类似Twelve Monkeys
10. Dracula (2644) - 哥特风格，类似Great Expectations
11-20为喜剧/动作等其他类型，按相关性降序排列
2025-05-09 22:48:06,547 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、浪漫剧情片和有一定深度的电影。以下是重排后的候选电影ID列表：

[534, 1187, 3183, 3449, 280, 1458, 537, 607, 1232, 2644, 370, 2261, 2791, 3247, 823, 3790, 1523, 3497, 3761, 3801]

排序理由：
1. Shadowlands (534) - 剧情/浪漫，与用户观看的Philadelphia和Great Expectations风格相似
2. Passion Fish (1187) - 剧情片，类似Cider House Rules
3. The Third Miracle (3183) - 剧情/宗教元素，类似Philadelphia
4. The Good Mother (3449) - 家庭剧情，类似A Thousand Acres
5. Murder in the First (280) - 法庭剧情，类似The Client
6. Touch (1458) - 温和剧情片
7. Sirens (537) - 浪漫剧情，类似Ever After
8. Century (607) - 历史剧情
9. Stalker (1232) - 有思想性的电影，类似Twelve Monkeys
10. Dracula (2644) - 哥特风格，类似Great Expectations
11-20为喜剧/动作等其他类型，按相关性降序排列
2025-05-09 22:48:06,547 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 1187, 3183, 3449, 280, 1458, 537, 607, 1232, 2644, 370, 2261, 2791, 3247, 823, 3790, 1523, 3497, 3761, 3801, 1, 534, 2, 1187, 3, 3183, 4, 3449, 5, 280, 6, 1458, 7, 537, 8, 607, 9, 1232, 10, 2644, 11, 20]
2025-05-09 22:48:06,547 - INFO - NDCG计算 - 预测列表前10项: [534, 1187, 3183, 3449, 280, 1458, 537, 607, 1232, 2644], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:48:06,547 - INFO - 样本 5 (Trial 8): NDCG@10 = 1.0000
2025-05-09 22:48:06,805 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、剧情片和犯罪惊悚类电影。以下是重排后的候选电影ID列表：

[1858, 1343, 373, 1236, 3107, 1758, 1537, 3325, 2997, 2507, 3145, 614, 1053, 971, 1024, 2049, 2566, 3672, 3864, 3933]

排序理由：
1. Mr. Nice Guy (1858) - 动作片，符合用户近期观看的Romeo Must Die等动作片偏好
2. Cape Fear (1343) - 犯罪惊悚片，与Shaft等风格相似
3. Red Rock West (373) - 犯罪惊悚片
4. Trust (1236) - 剧情片，类似Erin Brockovich
5. Backdraft (3107) - 动作剧情片
6. Dangerous Beauty (1758) - 剧情片
7. Shall We Dance? (1537) - 剧情片
8. Next Best Thing (3325) - 剧情片
9. Being John Malkovich (2997) - 剧情片但较独特
10. Breakfast of Champions (2507) - 剧情喜剧
其余电影按类型相似度递减排列
2025-05-09 22:48:06,805 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、剧情片和犯罪惊悚类电影。以下是重排后的候选电影ID列表：

[1858, 1343, 373, 1236, 3107, 1758, 1537, 3325, 2997, 2507, 3145, 614, 1053, 971, 1024, 2049, 2566, 3672, 3864, 3933]

排序理由：
1. Mr. Nice Guy (1858) - 动作片，符合用户近期观看的Romeo Must Die等动作片偏好
2. Cape Fear (1343) - 犯罪惊悚片，与Shaft等风格相似
3. Red Rock West (373) - 犯罪惊悚片
4. Trust (1236) - 剧情片，类似Erin Brockovich
5. Backdraft (3107) - 动作剧情片
6. Dangerous Beauty (1758) - 剧情片
7. Shall We Dance? (1537) - 剧情片
8. Next Best Thing (3325) - 剧情片
9. Being John Malkovich (2997) - 剧情片但较独特
10. Breakfast of Champions (2507) - 剧情喜剧
其余电影按类型相似度递减排列
2025-05-09 22:48:06,805 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 1343, 373, 1236, 3107, 1758, 1537, 3325, 2997, 2507, 3145, 614, 1053, 971, 1024, 2049, 2566, 3672, 3864, 3933, 1, 1858, 2, 1343, 3, 373, 4, 1236, 5, 3107, 6, 1758, 7, 1537, 8, 3325, 9, 2997, 10, 2507]
2025-05-09 22:48:06,806 - INFO - NDCG计算 - 预测列表前10项: [1858, 1343, 373, 1236, 3107, 1758, 1537, 3325, 2997, 2507], 真实目标: 1758, NDCG@10: 0.3562071871080222
2025-05-09 22:48:06,806 - INFO - 样本 8 (Trial 8): NDCG@10 = 0.3562
2025-05-09 22:48:07,143 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好偏向于文艺片、独立电影和剧情片，特别是那些带有文学改编、情感深度和社会议题的作品。以下是重排后的候选电影ID列表：

[372, 3251, 887, 2960, 3626, 271, 359, 1815, 2249, 1259, 185, 3378, 3312, 3614, 2452, 1375, 2409, 2137, 3859, 758]

排序理由：
1. Reality Bites (372) - 90年代文艺片经典，符合用户近期观看的独立电影风格
2. Agnes of God (3251) - 宗教题材剧情片，类似Angels and Insects的严肃主题
3. Talk of Angels (887) - 文艺剧情片，与Little Women等文学改编作品气质相似
4. Beefcake (2960) - 艺术题材，类似High Art的另类视角
5. 8 1/2 Women (3626) - 欧洲艺术电影，符合用户观看的文艺片口味
6. Losing Isaiah (271) - 情感剧情片，类似The Secret Garden的家庭/情感元素
7. I Like It Like That (359) - 都市剧情片，类似SLC Punk!的亚文化视角
8. Eden (1815) - 文艺剧情片
9. My Blue Heaven (2249) - 轻喜剧，作为风格调剂
10. Stand by Me (1259) - 经典成长故事

其余商业性较强或类型差异较大的电影排在后面。
2025-05-09 22:48:07,143 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好偏向于文艺片、独立电影和剧情片，特别是那些带有文学改编、情感深度和社会议题的作品。以下是重排后的候选电影ID列表：

[372, 3251, 887, 2960, 3626, 271, 359, 1815, 2249, 1259, 185, 3378, 3312, 3614, 2452, 1375, 2409, 2137, 3859, 758]

排序理由：
1. Reality Bites (372) - 90年代文艺片经典，符合用户近期观看的独立电影风格
2. Agnes of God (3251) - 宗教题材剧情片，类似Angels and Insects的严肃主题
3. Talk of Angels (887) - 文艺剧情片，与Little Women等文学改编作品气质相似
4. Beefcake (2960) - 艺术题材，类似High Art的另类视角
5. 8 1/2 Women (3626) - 欧洲艺术电影，符合用户观看的文艺片口味
6. Losing Isaiah (271) - 情感剧情片，类似The Secret Garden的家庭/情感元素
7. I Like It Like That (359) - 都市剧情片，类似SLC Punk!的亚文化视角
8. Eden (1815) - 文艺剧情片
9. My Blue Heaven (2249) - 轻喜剧，作为风格调剂
10. Stand by Me (1259) - 经典成长故事

其余商业性较强或类型差异较大的电影排在后面。
2025-05-09 22:48:07,143 - INFO - 模型输出解析 - 解析后电影ID列表: [372, 3251, 887, 2960, 3626, 271, 359, 1815, 2249, 1259, 185, 3378, 3312, 3614, 2452, 1375, 2409, 2137, 3859, 758, 1, 372, 90, 2, 3251, 3, 887, 4, 2960, 5, 8, 1, 2, 3626, 6, 271, 7, 359, 8, 1815, 9, 2249, 10, 1259]
2025-05-09 22:48:07,143 - INFO - NDCG计算 - 预测列表前10项: [372, 3251, 887, 2960, 3626, 271, 359, 1815, 2249, 1259], 真实目标: 372, NDCG@10: 1.0
2025-05-09 22:48:07,143 - INFO - 样本 6 (Trial 8): NDCG@10 = 1.0000
2025-05-09 22:48:09,033 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观影记录的分析，我注意到用户偏好多样化的电影类型，包括历史剧情片(《爱国者》)、浪漫喜剧(《莎翁情史》《落跑新娘》)、心理惊悚片(《第六感》《天才雷普利》)以及黑色幽默(《南方公园》)。以下是重排后的推荐列表：

[3948, 3882, 145, 516, 1824, 2160, 1671, 2227, 3618, 2074, 2869, 1528, 1317, 8, 1822, 2374, 3313, 2620, 863, 2993]

推荐理由：
1. 《Meet the Parents》(3948) - 与《落跑新娘》类似的浪漫喜剧
2. 《Bring It On》(3882) - 青春喜剧，与用户观看的轻松题材相符
3. 《Bad Boys》(145) - 动作喜剧，平衡用户的历史剧情片偏好
4. 《Renaissance Man》(516) - 教育题材喜剧，类似《莎翁情史》中的文艺元素
5. 《Homegrown》(1824) - 黑色喜剧，接近《南方公园》的幽默风格
6. 《Rosemary's Baby》(2160) - 心理惊悚片，延续《第六感》的偏好
7. 《Deceiver》(1671) - 心理悬疑，类似《天才雷普利》
8. 《The Lodger》(2227) - 悬疑惊悚，延续心理题材
9. 《Small Time Crooks》(3618) - 犯罪喜剧，提供轻松选择
10. 《The Night Porter》(2074) - 心理剧情片，满足深度观影需求
2025-05-09 22:48:09,033 - INFO - 模型输出解析 - 原始输出:
基于用户历史观影记录的分析，我注意到用户偏好多样化的电影类型，包括历史剧情片(《爱国者》)、浪漫喜剧(《莎翁情史》《落跑新娘》)、心理惊悚片(《第六感》《天才雷普利》)以及黑色幽默(《南方公园》)。以下是重排后的推荐列表：

[3948, 3882, 145, 516, 1824, 2160, 1671, 2227, 3618, 2074, 2869, 1528, 1317, 8, 1822, 2374, 3313, 2620, 863, 2993]

推荐理由：
1. 《Meet the Parents》(3948) - 与《落跑新娘》类似的浪漫喜剧
2. 《Bring It On》(3882) - 青春喜剧，与用户观看的轻松题材相符
3. 《Bad Boys》(145) - 动作喜剧，平衡用户的历史剧情片偏好
4. 《Renaissance Man》(516) - 教育题材喜剧，类似《莎翁情史》中的文艺元素
5. 《Homegrown》(1824) - 黑色喜剧，接近《南方公园》的幽默风格
6. 《Rosemary's Baby》(2160) - 心理惊悚片，延续《第六感》的偏好
7. 《Deceiver》(1671) - 心理悬疑，类似《天才雷普利》
8. 《The Lodger》(2227) - 悬疑惊悚，延续心理题材
9. 《Small Time Crooks》(3618) - 犯罪喜剧，提供轻松选择
10. 《The Night Porter》(2074) - 心理剧情片，满足深度观影需求
2025-05-09 22:48:09,033 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 3882, 145, 516, 1824, 2160, 1671, 2227, 3618, 2074, 2869, 1528, 1317, 8, 1822, 2374, 3313, 2620, 863, 2993, 1, 3948, 2, 3882, 3, 145, 4, 516, 5, 1824, 6, 2160, 7, 1671, 8, 2227, 9, 3618, 10, 2074]
2025-05-09 22:48:09,033 - INFO - NDCG计算 - 预测列表前10项: [3948, 3882, 145, 516, 1824, 2160, 1671, 2227, 3618, 2074], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:48:09,033 - INFO - 样本 4 (Trial 8): NDCG@10 = 1.0000
2025-05-09 22:48:09,033 - INFO - 开始第 9/10 次评估
2025-05-09 22:48:09,088 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:09,089 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:09,092 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:09,093 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:09,094 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:09,095 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:09,108 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:09,163 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:09,166 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:09,171 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:21,016 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、经典电影和奇幻类），以下是重排后的候选电影ID列表：

[3623, 2571, 2867, 3176, 1483, 2550, 3219, 381, 2154, 249, 3360, 1965, 1611, 730, 803, 2129, 2943, 3878, 146, 3590]

排序理由：
1. 动作/惊悚类优先（Mission: Impossible 2, The Matrix）
2. 黑暗/犯罪题材次之（The Talented Mr. Ripley, Crash）
3. 恐怖/悬疑类（Fright Night, The Haunting）
4. 剧情片（When a Man Loves a Woman等）
5. 其他类型靠后
2025-05-09 22:48:21,016 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、经典电影和奇幻类），以下是重排后的候选电影ID列表：

[3623, 2571, 2867, 3176, 1483, 2550, 3219, 381, 2154, 249, 3360, 1965, 1611, 730, 803, 2129, 2943, 3878, 146, 3590]

排序理由：
1. 动作/惊悚类优先（Mission: Impossible 2, The Matrix）
2. 黑暗/犯罪题材次之（The Talented Mr. Ripley, Crash）
3. 恐怖/悬疑类（Fright Night, The Haunting）
4. 剧情片（When a Man Loves a Woman等）
5. 其他类型靠后
2025-05-09 22:48:21,016 - INFO - 模型输出解析 - 解析后电影ID列表: [3623, 2571, 2867, 3176, 1483, 2550, 3219, 381, 2154, 249, 3360, 1965, 1611, 730, 803, 2129, 2943, 3878, 146, 3590, 1, 2, 2, 3, 4, 5]
2025-05-09 22:48:21,016 - INFO - NDCG计算 - 预测列表前10项: [3623, 2571, 2867, 3176, 1483, 2550, 3219, 381, 2154, 249], 真实目标: 3176, NDCG@10: 0.43067655807339306
2025-05-09 22:48:21,016 - INFO - 样本 7 (Trial 9): NDCG@10 = 0.4307
2025-05-09 22:48:25,644 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户观看历史中展现的多元化电影品味（包含科幻、经典、文艺、惊悚等多种类型），以下是重排后的候选电影ID列表：

[1103, 161, 1590, 1880, 2318, 1251, 2144, 396, 876, 381, 2970, 1965, 3258, 2210, 2637, 3723, 3413, 3695, 3710, 3245]

排序理由：
1. 优先推荐与《终结者2》《勇敢的心》同类型的动作/经典电影（1103, 161）
2. 其次推荐与《罗斯玛丽的婴儿》相似的惊悚/科幻片（1590）
3. 然后选择与《高潮保真》《今生今世》同调的文艺片（1880, 2318）
4. 最后考虑其他类型匹配度较低或较冷门的作品
5. 完全剔除与用户历史观影记录风格差异过大的影片（如极端cult片）
2025-05-09 22:48:25,644 - INFO - 模型输出解析 - 原始输出:
基于用户观看历史中展现的多元化电影品味（包含科幻、经典、文艺、惊悚等多种类型），以下是重排后的候选电影ID列表：

[1103, 161, 1590, 1880, 2318, 1251, 2144, 396, 876, 381, 2970, 1965, 3258, 2210, 2637, 3723, 3413, 3695, 3710, 3245]

排序理由：
1. 优先推荐与《终结者2》《勇敢的心》同类型的动作/经典电影（1103, 161）
2. 其次推荐与《罗斯玛丽的婴儿》相似的惊悚/科幻片（1590）
3. 然后选择与《高潮保真》《今生今世》同调的文艺片（1880, 2318）
4. 最后考虑其他类型匹配度较低或较冷门的作品
5. 完全剔除与用户历史观影记录风格差异过大的影片（如极端cult片）
2025-05-09 22:48:25,644 - INFO - 模型输出解析 - 解析后电影ID列表: [1103, 161, 1590, 1880, 2318, 1251, 2144, 396, 876, 381, 2970, 1965, 3258, 2210, 2637, 3723, 3413, 3695, 3710, 3245, 1, 2, 1103, 161, 2, 1590, 3, 1880, 2318, 4, 5]
2025-05-09 22:48:25,644 - INFO - NDCG计算 - 预测列表前10项: [1103, 161, 1590, 1880, 2318, 1251, 2144, 396, 876, 381], 真实目标: 1965, NDCG@10: 0.0
2025-05-09 22:48:25,645 - INFO - 样本 9 (Trial 9): NDCG@10 = 0.0000
2025-05-09 22:48:25,738 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、犯罪片和剧情片。以下是重排后的候选电影ID列表：

[1858, 1343, 373, 1236, 1758, 3107, 1537, 3325, 3864, 2997, 971, 3145, 1024, 2049, 2566, 3933, 2507, 3672, 1053, 614]

排序理由：
1. Mr. Nice Guy (1858) - 动作片，与用户最近观看的Romeo Must Die等动作片风格相似
2. Cape Fear (1343) - 犯罪惊悚片，符合用户对犯罪题材的兴趣
3. Red Rock West (373) - 犯罪惊悚片
4. Trust (1236) - 剧情片，类似Erin Brockovich
5. Dangerous Beauty (1758) - 剧情片
6. Backdraft (3107) - 动作/剧情片
7. Shall We Dance? (1537) - 剧情片
8. Next Best Thing (3325) - 剧情片
9. Godzilla 2000 (3864) - 科幻动作片
10. Being John Malkovich (2997) - 剧情片
其余电影按类型相关性递减排列
2025-05-09 22:48:25,738 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、犯罪片和剧情片。以下是重排后的候选电影ID列表：

[1858, 1343, 373, 1236, 1758, 3107, 1537, 3325, 3864, 2997, 971, 3145, 1024, 2049, 2566, 3933, 2507, 3672, 1053, 614]

排序理由：
1. Mr. Nice Guy (1858) - 动作片，与用户最近观看的Romeo Must Die等动作片风格相似
2. Cape Fear (1343) - 犯罪惊悚片，符合用户对犯罪题材的兴趣
3. Red Rock West (373) - 犯罪惊悚片
4. Trust (1236) - 剧情片，类似Erin Brockovich
5. Dangerous Beauty (1758) - 剧情片
6. Backdraft (3107) - 动作/剧情片
7. Shall We Dance? (1537) - 剧情片
8. Next Best Thing (3325) - 剧情片
9. Godzilla 2000 (3864) - 科幻动作片
10. Being John Malkovich (2997) - 剧情片
其余电影按类型相关性递减排列
2025-05-09 22:48:25,738 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 1343, 373, 1236, 1758, 3107, 1537, 3325, 3864, 2997, 971, 3145, 1024, 2049, 2566, 3933, 2507, 3672, 1053, 614, 1, 1858, 2, 1343, 3, 373, 4, 1236, 5, 1758, 6, 3107, 7, 1537, 8, 3325, 9, 2000, 3864, 10, 2997]
2025-05-09 22:48:25,738 - INFO - NDCG计算 - 预测列表前10项: [1858, 1343, 373, 1236, 1758, 3107, 1537, 3325, 3864, 2997], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 22:48:25,738 - INFO - 样本 8 (Trial 9): NDCG@10 = 0.3869
2025-05-09 22:48:25,989 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的喜剧片（特别是荒诞喜剧和经典喜剧）为主的观影偏好，以下是重排后的候选电影ID列表：

[785, 1194, 945, 1083, 194, 3822, 29, 1263, 2022, 2858, 1365, 2438, 2311, 1797, 3709, 3474, 3667, 3768, 2705, 1145]

推荐理由：
1. Kingpin (785) - 与Blazing Saddles类似的荒诞幽默
2. Up in Smoke (1194) - 与Animal House同类的无厘头喜剧
3. Top Hat (945) - 经典歌舞喜剧，类似Grease
4. Great Race (1083) - 经典冒险喜剧，类似Kelly's Heroes
5. Smoke (194) - 文艺向选择，平衡推荐多样性
6. The Girl on the Bridge (3822) - 优质外语片
7. City of Lost Children (29) - 奇幻风格
8. The Deer Hunter (1263) - 严肃题材平衡
其余按评分和类型相关性排序
2025-05-09 22:48:25,989 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的喜剧片（特别是荒诞喜剧和经典喜剧）为主的观影偏好，以下是重排后的候选电影ID列表：

[785, 1194, 945, 1083, 194, 3822, 29, 1263, 2022, 2858, 1365, 2438, 2311, 1797, 3709, 3474, 3667, 3768, 2705, 1145]

推荐理由：
1. Kingpin (785) - 与Blazing Saddles类似的荒诞幽默
2. Up in Smoke (1194) - 与Animal House同类的无厘头喜剧
3. Top Hat (945) - 经典歌舞喜剧，类似Grease
4. Great Race (1083) - 经典冒险喜剧，类似Kelly's Heroes
5. Smoke (194) - 文艺向选择，平衡推荐多样性
6. The Girl on the Bridge (3822) - 优质外语片
7. City of Lost Children (29) - 奇幻风格
8. The Deer Hunter (1263) - 严肃题材平衡
其余按评分和类型相关性排序
2025-05-09 22:48:25,989 - INFO - 模型输出解析 - 解析后电影ID列表: [785, 1194, 945, 1083, 194, 3822, 29, 1263, 2022, 2858, 1365, 2438, 2311, 1797, 3709, 3474, 3667, 3768, 2705, 1145, 1, 785, 2, 1194, 3, 945, 4, 1083, 5, 194, 6, 3822, 7, 29, 8, 1263]
2025-05-09 22:48:25,989 - INFO - NDCG计算 - 预测列表前10项: [785, 1194, 945, 1083, 194, 3822, 29, 1263, 2022, 2858], 真实目标: 1194, NDCG@10: 0.6309297535714575
2025-05-09 22:48:25,989 - INFO - 样本 1 (Trial 9): NDCG@10 = 0.6309
2025-05-09 22:48:26,754 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影，特别是带有未来主义或太空元素的影片（如Stargate、Tron、Star Trek、Independence Day等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的科幻/未来主义题材：

[2011, 3699, 2532, 555, 1541, 515, 1357, 1257, 2467, 2482, 2703, 1102, 1420, 421, 3557, 2562, 1174, 310, 576, 3739]

推荐理由：
1. Back to the Future Part II (2011) - 科幻时间旅行题材，完美匹配用户兴趣
2. Starman (3699) - 经典科幻外星人题材
3. Conquest of the Planet of the Apes (2532) - 科幻猿人系列电影
4. True Romance (555) - 动作/犯罪片，类似用户看过的Strange Days风格
5. Addicted to Love (1541) - 浪漫喜剧，作为类型调剂
6-20: 其他电影按类型相关性和评分排序
2025-05-09 22:48:26,755 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影，特别是带有未来主义或太空元素的影片（如Stargate、Tron、Star Trek、Independence Day等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的科幻/未来主义题材：

[2011, 3699, 2532, 555, 1541, 515, 1357, 1257, 2467, 2482, 2703, 1102, 1420, 421, 3557, 2562, 1174, 310, 576, 3739]

推荐理由：
1. Back to the Future Part II (2011) - 科幻时间旅行题材，完美匹配用户兴趣
2. Starman (3699) - 经典科幻外星人题材
3. Conquest of the Planet of the Apes (2532) - 科幻猿人系列电影
4. True Romance (555) - 动作/犯罪片，类似用户看过的Strange Days风格
5. Addicted to Love (1541) - 浪漫喜剧，作为类型调剂
6-20: 其他电影按类型相关性和评分排序
2025-05-09 22:48:26,755 - INFO - 模型输出解析 - 解析后电影ID列表: [2011, 3699, 2532, 555, 1541, 515, 1357, 1257, 2467, 2482, 2703, 1102, 1420, 421, 3557, 2562, 1174, 310, 576, 3739, 1, 2011, 2, 3699, 3, 2532, 4, 555, 5, 1541, 6, 20]
2025-05-09 22:48:26,755 - INFO - NDCG计算 - 预测列表前10项: [2011, 3699, 2532, 555, 1541, 515, 1357, 1257, 2467, 2482], 真实目标: 2011, NDCG@10: 1.0
2025-05-09 22:48:26,755 - INFO - 样本 2 (Trial 9): NDCG@10 = 1.0000
2025-05-09 22:48:27,424 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影类型和主题（包括政治剧情、法律题材、科幻、文学改编、社会议题等），我将候选电影按相关性排序如下：

1. Shadowlands (ID:534) - 文学改编剧情片
2. Murder in the First (ID:280) - 法律题材剧情片
3. Anatomy of a Murder (ID:3801) - 经典法庭剧情片
4. Third Miracle, The (ID:3183) - 严肃宗教题材
5. Good Mother, The (ID:3449) - 家庭社会议题
6. Passion Fish (ID:1187) - 女性题材剧情片
7. Max Dugan Returns (ID:3497) - 家庭剧情片
8. Dracula (ID:2644) - 经典文学改编
9. Stalker (ID:1232) - 艺术科幻片
10. Century (ID:607) - 严肃历史题材

完整排序ID列表：
[534, 280, 3801, 3183, 3449, 1187, 3497, 2644, 1232, 607, 1458, 823, 370, 2261, 537, 3247, 2791, 3790, 1523, 3761]
2025-05-09 22:48:27,424 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影类型和主题（包括政治剧情、法律题材、科幻、文学改编、社会议题等），我将候选电影按相关性排序如下：

1. Shadowlands (ID:534) - 文学改编剧情片
2. Murder in the First (ID:280) - 法律题材剧情片
3. Anatomy of a Murder (ID:3801) - 经典法庭剧情片
4. Third Miracle, The (ID:3183) - 严肃宗教题材
5. Good Mother, The (ID:3449) - 家庭社会议题
6. Passion Fish (ID:1187) - 女性题材剧情片
7. Max Dugan Returns (ID:3497) - 家庭剧情片
8. Dracula (ID:2644) - 经典文学改编
9. Stalker (ID:1232) - 艺术科幻片
10. Century (ID:607) - 严肃历史题材

完整排序ID列表：
[534, 280, 3801, 3183, 3449, 1187, 3497, 2644, 1232, 607, 1458, 823, 370, 2261, 537, 3247, 2791, 3790, 1523, 3761]
2025-05-09 22:48:27,424 - INFO - 模型输出解析 - 解析后电影ID列表: [1, 534, 2, 280, 3, 3801, 4, 3183, 5, 3449, 6, 1187, 7, 3497, 8, 2644, 9, 1232, 10, 607, 534, 280, 3801, 3183, 3449, 1187, 3497, 2644, 1232, 607, 1458, 823, 370, 2261, 537, 3247, 2791, 3790, 1523, 3761]
2025-05-09 22:48:27,424 - INFO - NDCG计算 - 预测列表前10项: [1, 534, 2, 280, 3, 3801, 4, 3183, 5, 3449], 真实目标: 534, NDCG@10: 0.6309297535714575
2025-05-09 22:48:27,424 - INFO - 样本 5 (Trial 9): NDCG@10 = 0.6309
2025-05-09 22:48:27,456 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看记录的分析，我注意到用户偏好多样化的电影类型，包括历史剧情片(《爱国者》)、浪漫喜剧(《莎翁情史》《落跑新娘》)、悬疑惊悚(《第六感》《天才雷普利》)以及黑色幽默(《南方公园》)。以下是重排后的候选电影ID列表，综合考虑了类型匹配、年代相近性(多为90年代末至2000年初作品)和主题相关性：

[3948, 3882, 145, 516, 1824, 3618, 1671, 2160, 2993, 2227, 2074, 2620, 2869, 1528, 8, 1317, 2374, 1822, 3313, 863]

排序理由：
1. 优先推荐轻松喜剧类(Meet the Parents, Bring It On)延续《落跑新娘》的浪漫喜剧线
2. 动作片(Bad Boys)和职场喜剧(Renaissance Man)匹配《天才雷普利》的男性视角
3. 黑色幽默(Homegrown, Small Time Crooks)呼应《南方公园》的讽刺风格
4. 悬疑惊悚类(Deceiver, Rosemary's Baby)延续《第六感》的惊悚元素
5. 007系列(Thunderball)满足历史动作片需求
6. 其余按艺术性/年代匹配度排序
2025-05-09 22:48:27,457 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看记录的分析，我注意到用户偏好多样化的电影类型，包括历史剧情片(《爱国者》)、浪漫喜剧(《莎翁情史》《落跑新娘》)、悬疑惊悚(《第六感》《天才雷普利》)以及黑色幽默(《南方公园》)。以下是重排后的候选电影ID列表，综合考虑了类型匹配、年代相近性(多为90年代末至2000年初作品)和主题相关性：

[3948, 3882, 145, 516, 1824, 3618, 1671, 2160, 2993, 2227, 2074, 2620, 2869, 1528, 8, 1317, 2374, 1822, 3313, 863]

排序理由：
1. 优先推荐轻松喜剧类(Meet the Parents, Bring It On)延续《落跑新娘》的浪漫喜剧线
2. 动作片(Bad Boys)和职场喜剧(Renaissance Man)匹配《天才雷普利》的男性视角
3. 黑色幽默(Homegrown, Small Time Crooks)呼应《南方公园》的讽刺风格
4. 悬疑惊悚类(Deceiver, Rosemary's Baby)延续《第六感》的惊悚元素
5. 007系列(Thunderball)满足历史动作片需求
6. 其余按艺术性/年代匹配度排序
2025-05-09 22:48:27,457 - INFO - 模型输出解析 - 解析后电影ID列表: [90, 2000, 3948, 3882, 145, 516, 1824, 3618, 1671, 2160, 2993, 2227, 2074, 2620, 2869, 1528, 8, 1317, 2374, 1822, 3313, 863, 1, 2, 3, 4, 5, 7, 6]
2025-05-09 22:48:27,457 - INFO - NDCG计算 - 预测列表前10项: [90, 2000, 3948, 3882, 145, 516, 1824, 3618, 1671, 2160], 真实目标: 3948, NDCG@10: 0.5
2025-05-09 22:48:27,457 - INFO - 样本 4 (Trial 9): NDCG@10 = 0.5000
2025-05-09 22:48:29,718 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好偏向于文艺片、独立电影和剧情片，特别是那些带有文学改编、情感深度和社会议题的作品（如《Little Women》《The Secret Garden》《Angels and Insects》）。以下是重排后的候选电影ID列表，优先推荐风格和题材相近的作品：

1. Agnes of God (ID:3251) - 宗教/心理剧情片，类似《Angels and Insects》的严肃题材
2. Talk of Angels (ID:887) - 文艺剧情片，符合《Little Women》等文学改编偏好
3. I Like It Like That (ID:359) - 都市情感剧，接近《High Art》《Love and Death on Long Island》的独立电影调性
4. Reality Bites (ID:372) - 90年代青年文化片，呼应《SLC Punk!》的亚文化主题
5. Losing Isaiah (ID:271) - 社会议题剧情片，类似《Cop Land》的现实主义
6. Eden (ID:1815) - 独立制作文艺片
7. 8 1/2 Women (ID:3626) - 艺术电影，但风格可能过于实验性
8. My Blue Heaven (ID:2249) - 轻喜剧，作为调剂的次要选择
9. The Net (ID:185) - 科技惊悚片，与当前偏好关联性较低
10. Stand by Me (ID:1259) - 经典成长故事，但用户近期未显示同类兴趣

剩余ID因类型差异过大（科幻/动作/恐怖/儿童动画）未优先推荐。
2025-05-09 22:48:29,718 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好偏向于文艺片、独立电影和剧情片，特别是那些带有文学改编、情感深度和社会议题的作品（如《Little Women》《The Secret Garden》《Angels and Insects》）。以下是重排后的候选电影ID列表，优先推荐风格和题材相近的作品：

1. Agnes of God (ID:3251) - 宗教/心理剧情片，类似《Angels and Insects》的严肃题材
2. Talk of Angels (ID:887) - 文艺剧情片，符合《Little Women》等文学改编偏好
3. I Like It Like That (ID:359) - 都市情感剧，接近《High Art》《Love and Death on Long Island》的独立电影调性
4. Reality Bites (ID:372) - 90年代青年文化片，呼应《SLC Punk!》的亚文化主题
5. Losing Isaiah (ID:271) - 社会议题剧情片，类似《Cop Land》的现实主义
6. Eden (ID:1815) - 独立制作文艺片
7. 8 1/2 Women (ID:3626) - 艺术电影，但风格可能过于实验性
8. My Blue Heaven (ID:2249) - 轻喜剧，作为调剂的次要选择
9. The Net (ID:185) - 科技惊悚片，与当前偏好关联性较低
10. Stand by Me (ID:1259) - 经典成长故事，但用户近期未显示同类兴趣

剩余ID因类型差异过大（科幻/动作/恐怖/儿童动画）未优先推荐。
2025-05-09 22:48:29,718 - INFO - 模型输出解析 - 解析后电影ID列表: [1, 3251, 2, 887, 3, 359, 4, 372, 90, 5, 271, 6, 1815, 7, 8, 1, 2, 3626, 8, 2249, 9, 185, 10, 1259]
2025-05-09 22:48:29,718 - INFO - NDCG计算 - 预测列表前10项: [1, 3251, 2, 887, 3, 359, 4, 372, 90, 5], 真实目标: 372, NDCG@10: 0.31546487678572877
2025-05-09 22:48:29,718 - INFO - 样本 6 (Trial 9): NDCG@10 = 0.3155
2025-05-09 22:48:32,616 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文艺片和一些有深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有少量轻松喜剧（如《The Money Pit》）。以下是重排后的候选电影ID列表，综合考虑题材、风格和用户历史偏好的匹配度：

[1844, 1695, 2579, 1829, 2813, 1656, 3221, 41, 3516, 3858, 2755, 396, 328, 2123, 2720, 1731, 2795, 3606, 3303, 3497]

排序理由：
1. **Live Flesh (1844)** - 西班牙文艺片，符合用户对欧洲艺术电影的偏好（参考Il Postino）
2. **Artemisia (1695)** - 历史女性题材艺术片，类似Antonia's Line的艺术风格
3. **Following (2579)** - 诺兰的犯罪剧情片，匹配Fugitive的悬疑元素
4. **Chinese Box (1829)** - 王家卫参与的文艺片，适合喜欢国际电影的用户
5. **The Source (2813)** - 思想深刻的纪录片，呼应Leaving Las Vegas的社会议题
6. **Swept from the Sea (1656)** - 文学改编剧情片，类似Green Mile的叙事风格
7-8. **The Draughtsman's Contract (3221)** 和 **Richard III (41)** - 古典文学改编，匹配用户的艺术品味
9. **Bell, Book and Candle (3516)** - 经典浪漫喜剧，类似Music of the Heart的温和风格
10. **Cecil B. Demented (3858)** -  cult电影，为偏好多样性保留的选择

后续排名主要考虑：严肃题材>轻喜剧>动画/家庭>纯娱乐片，且排除明显不匹配的类型（如Inspector Gadget等合家欢电影靠后）。
2025-05-09 22:48:32,616 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好剧情片、文艺片和一些有深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有少量轻松喜剧（如《The Money Pit》）。以下是重排后的候选电影ID列表，综合考虑题材、风格和用户历史偏好的匹配度：

[1844, 1695, 2579, 1829, 2813, 1656, 3221, 41, 3516, 3858, 2755, 396, 328, 2123, 2720, 1731, 2795, 3606, 3303, 3497]

排序理由：
1. **Live Flesh (1844)** - 西班牙文艺片，符合用户对欧洲艺术电影的偏好（参考Il Postino）
2. **Artemisia (1695)** - 历史女性题材艺术片，类似Antonia's Line的艺术风格
3. **Following (2579)** - 诺兰的犯罪剧情片，匹配Fugitive的悬疑元素
4. **Chinese Box (1829)** - 王家卫参与的文艺片，适合喜欢国际电影的用户
5. **The Source (2813)** - 思想深刻的纪录片，呼应Leaving Las Vegas的社会议题
6. **Swept from the Sea (1656)** - 文学改编剧情片，类似Green Mile的叙事风格
7-8. **The Draughtsman's Contract (3221)** 和 **Richard III (41)** - 古典文学改编，匹配用户的艺术品味
9. **Bell, Book and Candle (3516)** - 经典浪漫喜剧，类似Music of the Heart的温和风格
10. **Cecil B. Demented (3858)** -  cult电影，为偏好多样性保留的选择

后续排名主要考虑：严肃题材>轻喜剧>动画/家庭>纯娱乐片，且排除明显不匹配的类型（如Inspector Gadget等合家欢电影靠后）。
2025-05-09 22:48:32,616 - INFO - 模型输出解析 - 解析后电影ID列表: [1844, 1695, 2579, 1829, 2813, 1656, 3221, 41, 3516, 3858, 2755, 396, 328, 2123, 2720, 1731, 2795, 3606, 3303, 3497, 1, 1844, 2, 1695, 3, 2579, 4, 1829, 5, 2813, 6, 1656, 7, 8, 3221, 41, 9, 3516, 10, 3858]
2025-05-09 22:48:32,616 - INFO - NDCG计算 - 预测列表前10项: [1844, 1695, 2579, 1829, 2813, 1656, 3221, 41, 3516, 3858], 真实目标: 1695, NDCG@10: 0.6309297535714575
2025-05-09 22:48:32,616 - INFO - 样本 0 (Trial 9): NDCG@10 = 0.6309
2025-05-09 22:48:37,752 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，我们可以观察到用户的观影偏好主要集中在动作片、惊悚片、黑色喜剧和犯罪题材（如《Gladiator》《American Psycho》《Final Destination》），同时也包含一些轻松喜剧（如《Meet the Parents》《Big Momma's House》）。以下是重排后的候选电影ID列表，优先推荐与用户历史偏好最匹配的影片：

1. Get Shorty (ID:21) - 犯罪喜剧，与《American Psycho》《Duets》调性相似
2. Naked Gun 33 1/3: The Final Insult (ID:370) - 荒诞喜剧，匹配《Meet the Parents》偏好
3. Bronx Tale, A (ID:428) - 犯罪成长故事，类似《American Psycho》的黑暗气质
4. Tomorrow Never Dies (ID:1722) - 动作片，延续《Gladiator》和《Replacements》的男性向动作偏好
5. Boomerang (ID:122) - 浪漫喜剧，适配《Big Momma's House》的都市喜剧元素
6. Alien Nation (ID:3701) - 科幻动作，呼应《Supernova》的科幻元素
7. King Kong (ID:2367) - 冒险动作，延续大制作偏好
8. Braddock: Missing in Action III (ID:3768) - 硬派动作片
9. Favor, The (ID:447) - 黑色喜剧
10. Twin Town (ID:1539) - 犯罪喜剧
11. Mrs. Winterbourne (ID:691) - 浪漫喜剧
12. ...And Justice for All (ID:3420) - 法庭剧情片
13. Very Brady Sequel, A (ID:818) - 家庭喜剧
14. Dream With the Fishes (ID:1563) - 独立剧情片
15. To Have, or Not (ID:1555) - 文艺片
16. Kika (ID:567) - 艺术电影
17. Picnic at Hanging Rock (ID:1913) - 文艺悬疑
18. Golden Bowl, The (ID:3756) - 文学改编
19. King of Masks, The (Bian Lian) (ID:2609) - 外语艺术片
20. Autumn in New York (ID:3824) - 浪漫剧情

注：前10名重点推荐符合用户主要偏好的类型片，后10名根据题材相关性递减排列。特别推荐ID:21《Get Shorty》作为首选，完美融合了用户喜好的犯罪元素与喜剧风格。
2025-05-09 22:48:37,752 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，我们可以观察到用户的观影偏好主要集中在动作片、惊悚片、黑色喜剧和犯罪题材（如《Gladiator》《American Psycho》《Final Destination》），同时也包含一些轻松喜剧（如《Meet the Parents》《Big Momma's House》）。以下是重排后的候选电影ID列表，优先推荐与用户历史偏好最匹配的影片：

1. Get Shorty (ID:21) - 犯罪喜剧，与《American Psycho》《Duets》调性相似
2. Naked Gun 33 1/3: The Final Insult (ID:370) - 荒诞喜剧，匹配《Meet the Parents》偏好
3. Bronx Tale, A (ID:428) - 犯罪成长故事，类似《American Psycho》的黑暗气质
4. Tomorrow Never Dies (ID:1722) - 动作片，延续《Gladiator》和《Replacements》的男性向动作偏好
5. Boomerang (ID:122) - 浪漫喜剧，适配《Big Momma's House》的都市喜剧元素
6. Alien Nation (ID:3701) - 科幻动作，呼应《Supernova》的科幻元素
7. King Kong (ID:2367) - 冒险动作，延续大制作偏好
8. Braddock: Missing in Action III (ID:3768) - 硬派动作片
9. Favor, The (ID:447) - 黑色喜剧
10. Twin Town (ID:1539) - 犯罪喜剧
11. Mrs. Winterbourne (ID:691) - 浪漫喜剧
12. ...And Justice for All (ID:3420) - 法庭剧情片
13. Very Brady Sequel, A (ID:818) - 家庭喜剧
14. Dream With the Fishes (ID:1563) - 独立剧情片
15. To Have, or Not (ID:1555) - 文艺片
16. Kika (ID:567) - 艺术电影
17. Picnic at Hanging Rock (ID:1913) - 文艺悬疑
18. Golden Bowl, The (ID:3756) - 文学改编
19. King of Masks, The (Bian Lian) (ID:2609) - 外语艺术片
20. Autumn in New York (ID:3824) - 浪漫剧情

注：前10名重点推荐符合用户主要偏好的类型片，后10名根据题材相关性递减排列。特别推荐ID:21《Get Shorty》作为首选，完美融合了用户喜好的犯罪元素与喜剧风格。
2025-05-09 22:48:37,752 - INFO - 模型输出解析 - 解析后电影ID列表: [1, 21, 2, 33, 1, 3, 370, 3, 428, 4, 1722, 5, 122, 6, 3701, 7, 2367, 8, 3768, 9, 447, 10, 1539, 11, 691, 12, 3420, 13, 818, 14, 1563, 15, 1555, 16, 567, 17, 1913, 18, 3756, 19, 2609, 20, 3824, 10, 10, 21]
2025-05-09 22:48:37,752 - INFO - NDCG计算 - 预测列表前10项: [1, 21, 2, 33, 1, 3, 370, 3, 428, 4], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:48:37,752 - INFO - 样本 3 (Trial 9): NDCG@10 = 0.0000
2025-05-09 22:48:37,752 - INFO - 开始第 10/10 次评估
2025-05-09 22:48:37,809 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:37,884 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:37,886 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:37,888 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:37,942 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:37,942 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:37,942 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:37,943 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:37,943 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:37,944 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:48:50,021 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、经典电影和奇幻题材），以下是重排后的候选电影ID列表：

[3623, 2571, 2867, 3176, 2550, 3219, 1483, 1965, 1611, 381, 2154, 249, 2943, 2129, 3878, 146, 803, 730, 3590, 3360]

排序理由：
1. 优先选择动作/惊悚类（Mission: Impossible 2, The Matrix）
2. 其次是黑暗风格/犯罪惊悚（The Talented Mr. Ripley, Crash）
3. 然后是恐怖/悬疑类（Fright Night, The Haunting）
4. 接着是较有深度的剧情片
5. 最后是文艺片和纪录片
2025-05-09 22:48:50,021 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影类型（主要是动作冒险、惊悚、经典电影和奇幻题材），以下是重排后的候选电影ID列表：

[3623, 2571, 2867, 3176, 2550, 3219, 1483, 1965, 1611, 381, 2154, 249, 2943, 2129, 3878, 146, 803, 730, 3590, 3360]

排序理由：
1. 优先选择动作/惊悚类（Mission: Impossible 2, The Matrix）
2. 其次是黑暗风格/犯罪惊悚（The Talented Mr. Ripley, Crash）
3. 然后是恐怖/悬疑类（Fright Night, The Haunting）
4. 接着是较有深度的剧情片
5. 最后是文艺片和纪录片
2025-05-09 22:48:50,021 - INFO - 模型输出解析 - 解析后电影ID列表: [3623, 2571, 2867, 3176, 2550, 3219, 1483, 1965, 1611, 381, 2154, 249, 2943, 2129, 3878, 146, 803, 730, 3590, 3360, 1, 2, 2, 3, 4, 5]
2025-05-09 22:48:50,021 - INFO - NDCG计算 - 预测列表前10项: [3623, 2571, 2867, 3176, 2550, 3219, 1483, 1965, 1611, 381], 真实目标: 3176, NDCG@10: 0.43067655807339306
2025-05-09 22:48:50,021 - INFO - 样本 7 (Trial 10): NDCG@10 = 0.4307
2025-05-09 22:48:51,864 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的喜剧片和经典幽默电影（如Animal House, Monty Python's Life of Brian, Blazing Saddles等），我会优先推荐风格相似的喜剧电影。以下是重排后的ID列表：

[785, 1194, 945, 1083, 194, 3822, 29, 1365, 2022, 2858, 1263, 2311, 1797, 2438, 2705, 3474, 3667, 3709, 3768, 1145]

排序理由：
1. Kingpin (785) - 与用户喜欢的Blazing Saddles等荒诞喜剧风格一致
2. Up in Smoke (1194) - 经典喜剧，符合用户幽默口味
3. Top Hat (945) - 经典歌舞喜剧，与Grease风格呼应
4. Great Race, The (1083) - 经典冒险喜剧
5. Smoke (194) - 温和过渡到其他类型
后续推荐逐渐过渡到其他类型电影
2025-05-09 22:48:51,865 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的喜剧片和经典幽默电影（如Animal House, Monty Python's Life of Brian, Blazing Saddles等），我会优先推荐风格相似的喜剧电影。以下是重排后的ID列表：

[785, 1194, 945, 1083, 194, 3822, 29, 1365, 2022, 2858, 1263, 2311, 1797, 2438, 2705, 3474, 3667, 3709, 3768, 1145]

排序理由：
1. Kingpin (785) - 与用户喜欢的Blazing Saddles等荒诞喜剧风格一致
2. Up in Smoke (1194) - 经典喜剧，符合用户幽默口味
3. Top Hat (945) - 经典歌舞喜剧，与Grease风格呼应
4. Great Race, The (1083) - 经典冒险喜剧
5. Smoke (194) - 温和过渡到其他类型
后续推荐逐渐过渡到其他类型电影
2025-05-09 22:48:51,865 - INFO - 模型输出解析 - 解析后电影ID列表: [785, 1194, 945, 1083, 194, 3822, 29, 1365, 2022, 2858, 1263, 2311, 1797, 2438, 2705, 3474, 3667, 3709, 3768, 1145, 1, 785, 2, 1194, 3, 945, 4, 1083, 5, 194]
2025-05-09 22:48:51,865 - INFO - NDCG计算 - 预测列表前10项: [785, 1194, 945, 1083, 194, 3822, 29, 1365, 2022, 2858], 真实目标: 1194, NDCG@10: 0.6309297535714575
2025-05-09 22:48:51,865 - INFO - 样本 1 (Trial 10): NDCG@10 = 0.6309
2025-05-09 22:48:52,150 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户观看历史中展现的多元化电影品味（包含科幻、经典、文艺、惊悚等多种类型），以下是重排后的候选电影ID列表：

[1103, 1590, 2318, 1880, 161, 1251, 3723, 396, 2144, 381, 876, 1965, 2210, 2637, 2970, 3245, 3258, 3413, 3695, 3710]

排序理由：
1. Rebel Without a Cause (1103) - 经典影片，符合用户观看From Russia with Love等经典片的倾向
2. Event Horizon (1590) - 科幻惊悚，类似Terminator 2和Rosemary's Baby的混合类型
3. Happiness (2318) - 文艺剧情片，匹配After Life和High Fidelity的文艺倾向
4. Lawn Dogs (1880) - 文艺剧情，类似Edward Scissorhands的奇幻现实风格
5. Crimson Tide (161) - 动作剧情，呼应Braveheart和Terminator 2的动作元素
2025-05-09 22:48:52,150 - INFO - 模型输出解析 - 原始输出:
基于用户观看历史中展现的多元化电影品味（包含科幻、经典、文艺、惊悚等多种类型），以下是重排后的候选电影ID列表：

[1103, 1590, 2318, 1880, 161, 1251, 3723, 396, 2144, 381, 876, 1965, 2210, 2637, 2970, 3245, 3258, 3413, 3695, 3710]

排序理由：
1. Rebel Without a Cause (1103) - 经典影片，符合用户观看From Russia with Love等经典片的倾向
2. Event Horizon (1590) - 科幻惊悚，类似Terminator 2和Rosemary's Baby的混合类型
3. Happiness (2318) - 文艺剧情片，匹配After Life和High Fidelity的文艺倾向
4. Lawn Dogs (1880) - 文艺剧情，类似Edward Scissorhands的奇幻现实风格
5. Crimson Tide (161) - 动作剧情，呼应Braveheart和Terminator 2的动作元素
2025-05-09 22:48:52,150 - INFO - 模型输出解析 - 解析后电影ID列表: [1103, 1590, 2318, 1880, 161, 1251, 3723, 396, 2144, 381, 876, 1965, 2210, 2637, 2970, 3245, 3258, 3413, 3695, 3710, 1, 1103, 2, 1590, 2, 3, 2318, 4, 1880, 5, 161, 2]
2025-05-09 22:48:52,150 - INFO - NDCG计算 - 预测列表前10项: [1103, 1590, 2318, 1880, 161, 1251, 3723, 396, 2144, 381], 真实目标: 1965, NDCG@10: 0.0
2025-05-09 22:48:52,150 - INFO - 样本 9 (Trial 10): NDCG@10 = 0.0000
2025-05-09 22:48:53,436 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的电影类型和风格分析，这些电影主要集中在剧情片、浪漫喜剧、文学改编作品和社会议题类电影。以下是重排后的候选电影ID列表：

[534, 3449, 3183, 1187, 537, 607, 823, 280, 1458, 370, 2261, 2791, 3247, 1523, 3790, 1232, 2644, 3497, 3761, 3801]

排序理由：
1. Shadowlands (534) - 文学改编剧情片，符合用户偏好
2. Good Mother, The (3449) - 家庭剧情片
3. Third Miracle, The (3183) - 剧情片带有社会议题
4. Passion Fish (1187) - 女性视角剧情片
5. Sirens (537) - 浪漫喜剧元素
6. Century (607) - 历史剧情片
7. Collectionneuse, La (823) - 文艺片
8. Murder in the First (280) - 法庭剧情片
9. Touch (1458) - 温和剧情片
10. Naked Gun 33 1/3 (370) - 开始加入喜剧元素
...其余电影按类型相似度递减排列
2025-05-09 22:48:53,436 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的电影类型和风格分析，这些电影主要集中在剧情片、浪漫喜剧、文学改编作品和社会议题类电影。以下是重排后的候选电影ID列表：

[534, 3449, 3183, 1187, 537, 607, 823, 280, 1458, 370, 2261, 2791, 3247, 1523, 3790, 1232, 2644, 3497, 3761, 3801]

排序理由：
1. Shadowlands (534) - 文学改编剧情片，符合用户偏好
2. Good Mother, The (3449) - 家庭剧情片
3. Third Miracle, The (3183) - 剧情片带有社会议题
4. Passion Fish (1187) - 女性视角剧情片
5. Sirens (537) - 浪漫喜剧元素
6. Century (607) - 历史剧情片
7. Collectionneuse, La (823) - 文艺片
8. Murder in the First (280) - 法庭剧情片
9. Touch (1458) - 温和剧情片
10. Naked Gun 33 1/3 (370) - 开始加入喜剧元素
...其余电影按类型相似度递减排列
2025-05-09 22:48:53,436 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 1187, 537, 607, 823, 280, 1458, 370, 2261, 2791, 3247, 1523, 3790, 1232, 2644, 3497, 3761, 3801, 1, 534, 2, 3449, 3, 3183, 4, 1187, 5, 537, 6, 607, 7, 823, 8, 280, 9, 1458, 10, 33, 1, 3, 370]
2025-05-09 22:48:53,436 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 1187, 537, 607, 823, 280, 1458, 370], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:48:53,436 - INFO - 样本 5 (Trial 10): NDCG@10 = 1.0000
2025-05-09 22:48:54,262 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate, Tron, Independence Day, Star Trek等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的电影：

[2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482, 2703, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739]

排序理由：
1. Back to the Future Part II (2011) - 经典科幻续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/犯罪题材
5. Jennifer 8 (3557) - 惊悚/犯罪题材
6. Addicted to Love (1541) - 现代爱情喜剧
7. The Remains of the Day (515) - 剧情片
8. Shine (1357) - 传记剧情片
9. The Name of the Rose (2467) - 中世纪悬疑
10. Still Crazy (2482) - 音乐喜剧
2025-05-09 22:48:54,263 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好科幻、动作和冒险类电影（如Stargate, Tron, Independence Day, Star Trek等）。以下是重排后的候选电影ID列表，优先推荐与用户历史兴趣最匹配的电影：

[2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482, 2703, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739]

排序理由：
1. Back to the Future Part II (2011) - 经典科幻续集
2. Starman (3699) - 科幻题材
3. Conquest of the Planet of the Apes (2532) - 科幻系列电影
4. True Romance (555) - 动作/犯罪题材
5. Jennifer 8 (3557) - 惊悚/犯罪题材
6. Addicted to Love (1541) - 现代爱情喜剧
7. The Remains of the Day (515) - 剧情片
8. Shine (1357) - 传记剧情片
9. The Name of the Rose (2467) - 中世纪悬疑
10. Still Crazy (2482) - 音乐喜剧
2025-05-09 22:48:54,263 - INFO - 模型输出解析 - 解析后电影ID列表: [2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482, 2703, 1257, 1102, 1420, 421, 2562, 1174, 310, 576, 3739, 1, 2011, 2, 3699, 3, 2532, 4, 555, 5, 8, 3557, 6, 1541, 7, 515, 8, 1357, 9, 2467, 10, 2482]
2025-05-09 22:48:54,263 - INFO - NDCG计算 - 预测列表前10项: [2011, 3699, 2532, 555, 3557, 1541, 515, 1357, 2467, 2482], 真实目标: 2011, NDCG@10: 1.0
2025-05-09 22:48:54,263 - INFO - 样本 2 (Trial 10): NDCG@10 = 1.0000
2025-05-09 22:48:54,845 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、剧情片和犯罪惊悚类电影。以下是重排后的候选电影ID列表：

[1858, 1343, 373, 1236, 3107, 1758, 1537, 3325, 2997, 971, 3145, 1024, 3864, 3933, 2049, 2566, 3672, 1053, 2507, 614]

排序理由：
1. Mr. Nice Guy (1858) - 动作片，与用户观看的Romeo Must Die等动作片风格相似
2. Cape Fear (1343) - 犯罪惊悚片，符合用户观看的Shaft等犯罪题材
3. Red Rock West (373) - 犯罪惊悚片
4. Trust (1236) - 剧情片，类似Erin Brockovich
5. Backdraft (3107) - 动作/剧情片
6. Dangerous Beauty (1758) - 剧情片
7. Shall We Dance? (1537) - 剧情片
8. Next Best Thing (3325) - 剧情片
9. Being John Malkovich (2997) - 剧情/喜剧
10. Cat on a Hot Tin Roof (971) - 经典剧情片
其余电影根据类型相似度降序排列
2025-05-09 22:48:54,845 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好动作片、剧情片和犯罪惊悚类电影。以下是重排后的候选电影ID列表：

[1858, 1343, 373, 1236, 3107, 1758, 1537, 3325, 2997, 971, 3145, 1024, 3864, 3933, 2049, 2566, 3672, 1053, 2507, 614]

排序理由：
1. Mr. Nice Guy (1858) - 动作片，与用户观看的Romeo Must Die等动作片风格相似
2. Cape Fear (1343) - 犯罪惊悚片，符合用户观看的Shaft等犯罪题材
3. Red Rock West (373) - 犯罪惊悚片
4. Trust (1236) - 剧情片，类似Erin Brockovich
5. Backdraft (3107) - 动作/剧情片
6. Dangerous Beauty (1758) - 剧情片
7. Shall We Dance? (1537) - 剧情片
8. Next Best Thing (3325) - 剧情片
9. Being John Malkovich (2997) - 剧情/喜剧
10. Cat on a Hot Tin Roof (971) - 经典剧情片
其余电影根据类型相似度降序排列
2025-05-09 22:48:54,845 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 1343, 373, 1236, 3107, 1758, 1537, 3325, 2997, 971, 3145, 1024, 3864, 3933, 2049, 2566, 3672, 1053, 2507, 614, 1, 1858, 2, 1343, 3, 373, 4, 1236, 5, 3107, 6, 1758, 7, 1537, 8, 3325, 9, 2997, 10, 971]
2025-05-09 22:48:54,845 - INFO - NDCG计算 - 预测列表前10项: [1858, 1343, 373, 1236, 3107, 1758, 1537, 3325, 2997, 971], 真实目标: 1758, NDCG@10: 0.3562071871080222
2025-05-09 22:48:54,845 - INFO - 样本 8 (Trial 10): NDCG@10 = 0.3562
2025-05-09 22:48:55,051 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户的观影偏好比较多样化，包含动作片(Gladiator)、惊悚片(American Psycho)、喜剧片(Big Momma's House)和cult经典(Showgirls)等。根据这些观影特征，我为候选电影做了以下重排：

[370, 21, 122, 428, 1722, 447, 691, 818, 1539, 1555, 1563, 1913, 2367, 2609, 3420, 3756, 3768, 3824, 567, 3701]

排序理由：
1. Naked Gun 33 1/3 (370) - 与Meet the Parents类似的喜剧
2. Get Shorty (21) - 犯罪喜剧，类似American Psycho的黑色幽默
3. Boomerang (122) - 与Big Momma's House类似的喜剧
4. Bronx Tale (428) - 犯罪剧情片，类似American Psycho
5. Tomorrow Never Dies (1722) - 动作片，类似Gladiator
6. The Favor (447) - 与Duets类似的浪漫喜剧
7. Mrs. Winterbourne (691) - 浪漫喜剧
8. Very Brady Sequel (818) - 家庭喜剧
9. Twin Town (1539) - 黑色喜剧
10. To Have or Not (1555) - 剧情片
11-20为其他类型匹配度较低的电影
2025-05-09 22:48:55,051 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户的观影偏好比较多样化，包含动作片(Gladiator)、惊悚片(American Psycho)、喜剧片(Big Momma's House)和cult经典(Showgirls)等。根据这些观影特征，我为候选电影做了以下重排：

[370, 21, 122, 428, 1722, 447, 691, 818, 1539, 1555, 1563, 1913, 2367, 2609, 3420, 3756, 3768, 3824, 567, 3701]

排序理由：
1. Naked Gun 33 1/3 (370) - 与Meet the Parents类似的喜剧
2. Get Shorty (21) - 犯罪喜剧，类似American Psycho的黑色幽默
3. Boomerang (122) - 与Big Momma's House类似的喜剧
4. Bronx Tale (428) - 犯罪剧情片，类似American Psycho
5. Tomorrow Never Dies (1722) - 动作片，类似Gladiator
6. The Favor (447) - 与Duets类似的浪漫喜剧
7. Mrs. Winterbourne (691) - 浪漫喜剧
8. Very Brady Sequel (818) - 家庭喜剧
9. Twin Town (1539) - 黑色喜剧
10. To Have or Not (1555) - 剧情片
11-20为其他类型匹配度较低的电影
2025-05-09 22:48:55,051 - INFO - 模型输出解析 - 解析后电影ID列表: [370, 21, 122, 428, 1722, 447, 691, 818, 1539, 1555, 1563, 1913, 2367, 2609, 3420, 3756, 3768, 3824, 567, 3701, 1, 33, 1, 3, 370, 2, 21, 3, 122, 4, 428, 5, 1722, 6, 447, 7, 691, 8, 818, 9, 1539, 10, 1555, 11, 20]
2025-05-09 22:48:55,051 - INFO - NDCG计算 - 预测列表前10项: [370, 21, 122, 428, 1722, 447, 691, 818, 1539, 1555], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:48:55,051 - INFO - 样本 3 (Trial 10): NDCG@10 = 0.0000
2025-05-09 22:48:55,123 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影类型和风格，我将候选电影按相关性排序如下：

1. Thunderball (ID:2993) - 动作/间谍片，与The Thomas Crown Affair和The Patriot风格相似
2. Meet the Parents (ID:3948) - 浪漫喜剧，类似Runaway Bride
3. Bad Boys (ID:145) - 动作喜剧，与The Talented Mr. Ripley同年代
4. Renaissance Man (ID:516) - 剧情片，与Shakespeare in Love同类型
5. Small Time Crooks (ID:3618) - 伍迪艾伦喜剧，与Shakespeare in Love同导演
6. The Lodger (ID:2227) - 心理惊悚，类似The Talented Mr. Ripley
7. Rosemary's Baby (ID:2160) - 经典惊悚，与The Sixth Sense同类型
8. Gung Ho (ID:2374) - 80年代喜剧，与South Park同属喜剧类
9. Bring It On (ID:3882) - 青春喜剧，与Runaway Bride同属轻松类型
10. Homegrown (ID:1824) - 犯罪剧情，类似Summer of Sam

排序ID列表：
[2993, 3948, 145, 516, 3618, 2227, 2160, 2374, 3882, 1824]
2025-05-09 22:48:55,123 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影类型和风格，我将候选电影按相关性排序如下：

1. Thunderball (ID:2993) - 动作/间谍片，与The Thomas Crown Affair和The Patriot风格相似
2. Meet the Parents (ID:3948) - 浪漫喜剧，类似Runaway Bride
3. Bad Boys (ID:145) - 动作喜剧，与The Talented Mr. Ripley同年代
4. Renaissance Man (ID:516) - 剧情片，与Shakespeare in Love同类型
5. Small Time Crooks (ID:3618) - 伍迪艾伦喜剧，与Shakespeare in Love同导演
6. The Lodger (ID:2227) - 心理惊悚，类似The Talented Mr. Ripley
7. Rosemary's Baby (ID:2160) - 经典惊悚，与The Sixth Sense同类型
8. Gung Ho (ID:2374) - 80年代喜剧，与South Park同属喜剧类
9. Bring It On (ID:3882) - 青春喜剧，与Runaway Bride同属轻松类型
10. Homegrown (ID:1824) - 犯罪剧情，类似Summer of Sam

排序ID列表：
[2993, 3948, 145, 516, 3618, 2227, 2160, 2374, 3882, 1824]
2025-05-09 22:48:55,123 - INFO - 模型输出解析 - 解析后电影ID列表: [1, 2993, 2, 3948, 3, 145, 4, 516, 5, 3618, 6, 2227, 7, 2160, 8, 2374, 80, 9, 3882, 10, 1824, 2993, 3948, 145, 516, 3618, 2227, 2160, 2374, 3882, 1824]
2025-05-09 22:48:55,123 - INFO - NDCG计算 - 预测列表前10项: [1, 2993, 2, 3948, 3, 145, 4, 516, 5, 3618], 真实目标: 3948, NDCG@10: 0.43067655807339306
2025-05-09 22:48:55,123 - INFO - 样本 4 (Trial 10): NDCG@10 = 0.4307
2025-05-09 22:48:55,909 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户历史观看的电影列表，可以看出用户偏好偏向于文艺片、独立电影和剧情片，特别是那些带有文学改编、情感深度和社会议题的作品。以下是重排后的候选电影ID列表：

[372, 3251, 887, 271, 3626, 359, 1815, 2960, 3378, 2249, 185, 1259, 3312, 3614, 2452, 1375, 2409, 2137, 3859, 758]

排序理由：
1. Reality Bites (372) - 90年代文艺片，符合用户偏好的独立电影风格
2. Agnes of God (3251) - 宗教题材剧情片，类似用户看过的Angels and Insects
3. Talk of Angels (887) - 文艺剧情片，符合用户历史偏好
4. Losing Isaiah (271) - 情感深刻的剧情片
5. 8 1/2 Women (3626) - 艺术电影，适合喜欢文艺片的用户
6. I Like It Like That (359) - 都市剧情片，类似用户看过的SLC Punk!
7. Eden (1815) - 文艺剧情片
8. Beefcake (2960) - 艺术题材电影
9. Ogre, The (3378) - 欧洲文艺片
10. My Blue Heaven (2249) - 轻喜剧，作为风格变化
其余电影按类型相似度递减排列
2025-05-09 22:48:55,909 - INFO - 模型输出解析 - 原始输出:
基于用户历史观看的电影列表，可以看出用户偏好偏向于文艺片、独立电影和剧情片，特别是那些带有文学改编、情感深度和社会议题的作品。以下是重排后的候选电影ID列表：

[372, 3251, 887, 271, 3626, 359, 1815, 2960, 3378, 2249, 185, 1259, 3312, 3614, 2452, 1375, 2409, 2137, 3859, 758]

排序理由：
1. Reality Bites (372) - 90年代文艺片，符合用户偏好的独立电影风格
2. Agnes of God (3251) - 宗教题材剧情片，类似用户看过的Angels and Insects
3. Talk of Angels (887) - 文艺剧情片，符合用户历史偏好
4. Losing Isaiah (271) - 情感深刻的剧情片
5. 8 1/2 Women (3626) - 艺术电影，适合喜欢文艺片的用户
6. I Like It Like That (359) - 都市剧情片，类似用户看过的SLC Punk!
7. Eden (1815) - 文艺剧情片
8. Beefcake (2960) - 艺术题材电影
9. Ogre, The (3378) - 欧洲文艺片
10. My Blue Heaven (2249) - 轻喜剧，作为风格变化
其余电影按类型相似度递减排列
2025-05-09 22:48:55,909 - INFO - 模型输出解析 - 解析后电影ID列表: [372, 3251, 887, 271, 3626, 359, 1815, 2960, 3378, 2249, 185, 1259, 3312, 3614, 2452, 1375, 2409, 2137, 3859, 758, 1, 372, 90, 2, 3251, 3, 887, 4, 271, 5, 8, 1, 2, 3626, 6, 359, 7, 1815, 8, 2960, 9, 3378, 10, 2249]
2025-05-09 22:48:55,909 - INFO - NDCG计算 - 预测列表前10项: [372, 3251, 887, 271, 3626, 359, 1815, 2960, 3378, 2249], 真实目标: 372, NDCG@10: 1.0
2025-05-09 22:48:55,909 - INFO - 样本 6 (Trial 10): NDCG@10 = 1.0000
2025-05-09 22:49:00,447 - INFO - DeepSeek API 异步请求 - 模型输出:
基于用户最近观看的电影列表，可以看出用户偏好偏向于剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有少量轻松喜剧（如《The Money Pit》）。以下是重排后的候选电影ID列表，优先推荐与用户历史观影偏好更匹配的电影：

[1844, 1695, 1829, 2579, 1656, 41, 3221, 3516, 3858, 2755, 396, 328, 2123, 2720, 1731, 2795, 3606, 3303, 2813, 3497]

排序理由：
1. **Live Flesh (1844)** - 西班牙文艺片，符合用户对欧洲艺术电影的偏好（参考《Antonia's Line》《Il Postino》）
2. **Artemisia (1695)** - 女性视角历史剧情片，类似《Antonia's Line》的艺术气质
3. **Chinese Box (1829)** - 王家卫参与的文艺片，匹配《Belle de jour》的文艺调性
4. **Following (2579)** - 诺兰早期悬疑作品，接近《The Fugitive》的犯罪题材但更艺术化
5. **Swept from the Sea (1656)** - 文学改编剧情片，呼应《The Green Mile》的厚重感
6. **Richard III (41)** - 莎士比亚改编经典，符合历史/文学偏好
7. **The Draughtsman's Contract (3221)** - 英国艺术电影，强视觉叙事
8. **Bell, Book and Candle (3516)** - 经典浪漫奇幻，接近《Belle de jour》的魔幻现实主义
9-20位：其余电影按艺术性/类型相关性降序排列，商业喜剧（如Inspector Gadget）和恐怖片（Demon Knight）靠后
2025-05-09 22:49:00,447 - INFO - 模型输出解析 - 原始输出:
基于用户最近观看的电影列表，可以看出用户偏好偏向于剧情片、文艺片和有一定深度的电影（如《The Green Mile》《Leaving Las Vegas》《Il Postino》等），同时也有少量轻松喜剧（如《The Money Pit》）。以下是重排后的候选电影ID列表，优先推荐与用户历史观影偏好更匹配的电影：

[1844, 1695, 1829, 2579, 1656, 41, 3221, 3516, 3858, 2755, 396, 328, 2123, 2720, 1731, 2795, 3606, 3303, 2813, 3497]

排序理由：
1. **Live Flesh (1844)** - 西班牙文艺片，符合用户对欧洲艺术电影的偏好（参考《Antonia's Line》《Il Postino》）
2. **Artemisia (1695)** - 女性视角历史剧情片，类似《Antonia's Line》的艺术气质
3. **Chinese Box (1829)** - 王家卫参与的文艺片，匹配《Belle de jour》的文艺调性
4. **Following (2579)** - 诺兰早期悬疑作品，接近《The Fugitive》的犯罪题材但更艺术化
5. **Swept from the Sea (1656)** - 文学改编剧情片，呼应《The Green Mile》的厚重感
6. **Richard III (41)** - 莎士比亚改编经典，符合历史/文学偏好
7. **The Draughtsman's Contract (3221)** - 英国艺术电影，强视觉叙事
8. **Bell, Book and Candle (3516)** - 经典浪漫奇幻，接近《Belle de jour》的魔幻现实主义
9-20位：其余电影按艺术性/类型相关性降序排列，商业喜剧（如Inspector Gadget）和恐怖片（Demon Knight）靠后
2025-05-09 22:49:00,447 - INFO - 模型输出解析 - 解析后电影ID列表: [1844, 1695, 1829, 2579, 1656, 41, 3221, 3516, 3858, 2755, 396, 328, 2123, 2720, 1731, 2795, 3606, 3303, 2813, 3497, 1, 1844, 2, 1695, 3, 1829, 4, 2579, 5, 1656, 6, 41, 7, 3221, 8, 3516, 9, 20]
2025-05-09 22:49:00,447 - INFO - NDCG计算 - 预测列表前10项: [1844, 1695, 1829, 2579, 1656, 41, 3221, 3516, 3858, 2755], 真实目标: 1695, NDCG@10: 0.6309297535714575
2025-05-09 22:49:00,447 - INFO - 样本 0 (Trial 10): NDCG@10 = 0.6309
2025-05-09 22:49:00,447 - INFO - Trial 1 平均 NDCG@10: 0.5465
2025-05-09 22:49:00,447 - INFO - Trial 2 平均 NDCG@10: 0.5468
2025-05-09 22:49:00,447 - INFO - Trial 3 平均 NDCG@10: 0.4987
2025-05-09 22:49:00,447 - INFO - Trial 4 平均 NDCG@10: 0.4312
2025-05-09 22:49:00,447 - INFO - Trial 5 平均 NDCG@10: 0.5636
2025-05-09 22:49:00,447 - INFO - Trial 6 平均 NDCG@10: 0.6169
2025-05-09 22:49:00,447 - INFO - Trial 7 平均 NDCG@10: 0.5395
2025-05-09 22:49:00,447 - INFO - Trial 8 平均 NDCG@10: 0.6005
2025-05-09 22:49:00,447 - INFO - Trial 9 平均 NDCG@10: 0.4526
2025-05-09 22:49:00,447 - INFO - Trial 10 平均 NDCG@10: 0.5479
2025-05-09 22:49:00,447 - INFO - 策略 analyst_question_name_first_timestamped 总体平均 NDCG@10: 0.5344
2025-05-09 22:49:00,447 - INFO - 样本 0: 平均 NDCG@10 = 0.5270, 标准差 = 0.2373
2025-05-09 22:49:00,447 - INFO - 样本 1: 平均 NDCG@10 = 0.4524, 标准差 = 0.3932
2025-05-09 22:49:00,447 - INFO - 样本 2: 平均 NDCG@10 = 0.5879, 标准差 = 0.3824
2025-05-09 22:49:00,448 - INFO - 样本 3: 平均 NDCG@10 = 0.6710, 标准差 = 0.3204
2025-05-09 22:49:00,448 - INFO - 样本 4: 平均 NDCG@10 = 0.5188, 标准差 = 0.4241
2025-05-09 22:49:00,448 - INFO - 样本 5: 平均 NDCG@10 = 0.6496, 标准差 = 0.2625
2025-05-09 22:49:00,448 - INFO - 样本 6: 平均 NDCG@10 = 0.3986, 标准差 = 0.3484
2025-05-09 22:49:00,448 - INFO - 样本 7: 平均 NDCG@10 = 0.4403, 标准差 = 0.3954
2025-05-09 22:49:00,448 - INFO - 样本 8: 平均 NDCG@10 = 0.5568, 标准差 = 0.3353
2025-05-09 22:49:00,448 - INFO - 样本 9: 平均 NDCG@10 = 0.5417, 标准差 = 0.2920
2025-05-09 22:49:00,448 - INFO - 详细结果已保存至: results_detailed\eval_analyst_question_name_first_timestamped_20250509_224900.json
2025-05-09 22:49:00,448 - INFO - 样本得分CSV已保存至: results_detailed\sample_scores_analyst_question_name_first_timestamped.csv
2025-05-09 22:49:00,448 - INFO - 
===== 评估策略: expert_strict_comma ======
2025-05-09 22:49:00,448 - INFO - 
===== 开始评估策略: expert_strict_comma ======
2025-05-09 22:49:00,465 - INFO - 开始第 1/10 次评估
2025-05-09 22:49:00,586 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:00,604 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:00,604 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:00,604 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:00,606 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:00,614 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:00,615 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:00,615 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:00,625 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:00,625 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:06,227 - INFO - DeepSeek API 异步请求 - 模型输出:
534,3449,3183,280,1187,3497,1458,3801,2644,1232,1523,3247,2261,537,607,823,370,2791,3761,3790
2025-05-09 22:49:06,227 - INFO - 模型输出解析 - 原始输出:
534,3449,3183,280,1187,3497,1458,3801,2644,1232,1523,3247,2261,537,607,823,370,2791,3761,3790
2025-05-09 22:49:06,227 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 3497, 1458, 3801, 2644, 1232, 1523, 3247, 2261, 537, 607, 823, 370, 2791, 3761, 3790]
2025-05-09 22:49:06,227 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 3497, 1458, 3801, 2644, 1232], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:49:06,227 - INFO - 样本 5 (Trial 1): NDCG@10 = 1.0000
2025-05-09 22:49:07,216 - INFO - DeepSeek API 异步请求 - 模型输出:
3699,2011,2532,555,1541,2562,3557,515,2467,2482,2703,1357,1257,1102,1420,421,310,576,3739,1174
2025-05-09 22:49:07,217 - INFO - 模型输出解析 - 原始输出:
3699,2011,2532,555,1541,2562,3557,515,2467,2482,2703,1357,1257,1102,1420,421,310,576,3739,1174
2025-05-09 22:49:07,217 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 1541, 2562, 3557, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 310, 576, 3739, 1174]
2025-05-09 22:49:07,217 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 1541, 2562, 3557, 515, 2467, 2482], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:49:07,217 - INFO - 样本 2 (Trial 1): NDCG@10 = 0.6309
2025-05-09 22:49:07,646 - INFO - DeepSeek API 异步请求 - 模型输出:
1858,1343,3107,373,614,1758,2507,1236,1053,1537,3145,2997,3325,971,3933,3672,2566,2049,1024,3864
2025-05-09 22:49:07,646 - INFO - 模型输出解析 - 原始输出:
1858,1343,3107,373,614,1758,2507,1236,1053,1537,3145,2997,3325,971,3933,3672,2566,2049,1024,3864
2025-05-09 22:49:07,646 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 1343, 3107, 373, 614, 1758, 2507, 1236, 1053, 1537, 3145, 2997, 3325, 971, 3933, 3672, 2566, 2049, 1024, 3864]
2025-05-09 22:49:07,646 - INFO - NDCG计算 - 预测列表前10项: [1858, 1343, 3107, 373, 614, 1758, 2507, 1236, 1053, 1537], 真实目标: 1758, NDCG@10: 0.3562071871080222
2025-05-09 22:49:07,646 - INFO - 样本 8 (Trial 1): NDCG@10 = 0.3562
2025-05-09 22:49:07,751 - INFO - DeepSeek API 异步请求 - 模型输出:
21,370,122,428,1722,1563,818,1913,1555,1539,447,691,567,3420,3824,3756,2609,3768,3701,2367
2025-05-09 22:49:07,751 - INFO - 模型输出解析 - 原始输出:
21,370,122,428,1722,1563,818,1913,1555,1539,447,691,567,3420,3824,3756,2609,3768,3701,2367
2025-05-09 22:49:07,751 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 428, 1722, 1563, 818, 1913, 1555, 1539, 447, 691, 567, 3420, 3824, 3756, 2609, 3768, 3701, 2367]
2025-05-09 22:49:07,751 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 428, 1722, 1563, 818, 1913, 1555, 1539], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:49:07,751 - INFO - 样本 3 (Trial 1): NDCG@10 = 0.0000
2025-05-09 22:49:07,753 - INFO - DeepSeek API 异步请求 - 模型输出:
3251,887,271,372,185,2249,1259,758,1815,359,3614,3626,3378,3312,2960,2452,1375,2409,2137,3859
2025-05-09 22:49:07,753 - INFO - 模型输出解析 - 原始输出:
3251,887,271,372,185,2249,1259,758,1815,359,3614,3626,3378,3312,2960,2452,1375,2409,2137,3859
2025-05-09 22:49:07,753 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 185, 2249, 1259, 758, 1815, 359, 3614, 3626, 3378, 3312, 2960, 2452, 1375, 2409, 2137, 3859]
2025-05-09 22:49:07,753 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 185, 2249, 1259, 758, 1815, 359], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:49:07,753 - INFO - 样本 6 (Trial 1): NDCG@10 = 0.4307
2025-05-09 22:49:07,784 - INFO - DeepSeek API 异步请求 - 模型输出:
3948,516,145,8,3618,1824,2227,1822,2160,1671,2869,2620,1317,2374,3313,1528,2993,2074,863
2025-05-09 22:49:07,784 - INFO - 模型输出解析 - 原始输出:
3948,516,145,8,3618,1824,2227,1822,2160,1671,2869,2620,1317,2374,3313,1528,2993,2074,863
2025-05-09 22:49:07,784 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 145, 8, 3618, 1824, 2227, 1822, 2160, 1671, 2869, 2620, 1317, 2374, 3313, 1528, 2993, 2074, 863]
2025-05-09 22:49:07,784 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 145, 8, 3618, 1824, 2227, 1822, 2160, 1671], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:49:07,784 - INFO - 样本 4 (Trial 1): NDCG@10 = 1.0000
2025-05-09 22:49:07,923 - INFO - DeepSeek API 异步请求 - 模型输出:
1695,1844,3221,41,1829,1656,2813,2579,3303,2755,3516,3497,396,3858,2720,1731,328,2123,2795,3606
2025-05-09 22:49:07,923 - INFO - 模型输出解析 - 原始输出:
1695,1844,3221,41,1829,1656,2813,2579,3303,2755,3516,3497,396,3858,2720,1731,328,2123,2795,3606
2025-05-09 22:49:07,923 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1844, 3221, 41, 1829, 1656, 2813, 2579, 3303, 2755, 3516, 3497, 396, 3858, 2720, 1731, 328, 2123, 2795, 3606]
2025-05-09 22:49:07,923 - INFO - NDCG计算 - 预测列表前10项: [1695, 1844, 3221, 41, 1829, 1656, 2813, 2579, 3303, 2755], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:49:07,923 - INFO - 样本 0 (Trial 1): NDCG@10 = 1.0000
2025-05-09 22:49:08,097 - INFO - DeepSeek API 异步请求 - 模型输出:
396,1103,1590,161,3258,2210,2637,1965,3723,381,2144,2318,2970,1251,3245,1880,876,3413,3710,3695
2025-05-09 22:49:08,097 - INFO - 模型输出解析 - 原始输出:
396,1103,1590,161,3258,2210,2637,1965,3723,381,2144,2318,2970,1251,3245,1880,876,3413,3710,3695
2025-05-09 22:49:08,097 - INFO - 模型输出解析 - 解析后电影ID列表: [396, 1103, 1590, 161, 3258, 2210, 2637, 1965, 3723, 381, 2144, 2318, 2970, 1251, 3245, 1880, 876, 3413, 3710, 3695]
2025-05-09 22:49:08,097 - INFO - NDCG计算 - 预测列表前10项: [396, 1103, 1590, 161, 3258, 2210, 2637, 1965, 3723, 381], 真实目标: 1965, NDCG@10: 0.31546487678572877
2025-05-09 22:49:08,097 - INFO - 样本 9 (Trial 1): NDCG@10 = 0.3155
2025-05-09 22:49:08,435 - INFO - DeepSeek API 异步请求 - 模型输出:
2571,3623,2867,2550,1483,3176,3219,1965,3360,1611,730,3878,2154,381,249,2943,146,3590,2129,803,1483
2025-05-09 22:49:08,435 - INFO - 模型输出解析 - 原始输出:
2571,3623,2867,2550,1483,3176,3219,1965,3360,1611,730,3878,2154,381,249,2943,146,3590,2129,803,1483
2025-05-09 22:49:08,435 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 3360, 1611, 730, 3878, 2154, 381, 249, 2943, 146, 3590, 2129, 803, 1483]
2025-05-09 22:49:08,435 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 3360, 1611], 真实目标: 3176, NDCG@10: 0.3562071871080222
2025-05-09 22:49:08,435 - INFO - 样本 7 (Trial 1): NDCG@10 = 0.3562
2025-05-09 22:49:08,932 - INFO - DeepSeek API 异步请求 - 模型输出:
1194,785,1083,945,1145,3768,3709,3474,3667,3822,29,194,2858,2438,1365,2705,2022,1263,2311,1797
2025-05-09 22:49:08,932 - INFO - 模型输出解析 - 原始输出:
1194,785,1083,945,1145,3768,3709,3474,3667,3822,29,194,2858,2438,1365,2705,2022,1263,2311,1797
2025-05-09 22:49:08,932 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 1145, 3768, 3709, 3474, 3667, 3822, 29, 194, 2858, 2438, 1365, 2705, 2022, 1263, 2311, 1797]
2025-05-09 22:49:08,933 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 1145, 3768, 3709, 3474, 3667, 3822], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:49:08,933 - INFO - 样本 1 (Trial 1): NDCG@10 = 1.0000
2025-05-09 22:49:08,933 - INFO - 开始第 2/10 次评估
2025-05-09 22:49:08,998 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:08,998 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:08,999 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:09,000 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:09,000 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:09,001 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:09,001 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:09,002 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:09,006 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:09,128 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:14,440 - INFO - DeepSeek API 异步请求 - 模型输出:
3251,887,271,372,185,2249,359,1259,1815,3626,3378,3312,2960,3614,2452,1375,2409,2137,3859
2025-05-09 22:49:14,440 - INFO - 模型输出解析 - 原始输出:
3251,887,271,372,185,2249,359,1259,1815,3626,3378,3312,2960,3614,2452,1375,2409,2137,3859
2025-05-09 22:49:14,440 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 185, 2249, 359, 1259, 1815, 3626, 3378, 3312, 2960, 3614, 2452, 1375, 2409, 2137, 3859]
2025-05-09 22:49:14,440 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 185, 2249, 359, 1259, 1815, 3626], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:49:14,440 - INFO - 样本 6 (Trial 2): NDCG@10 = 0.4307
2025-05-09 22:49:14,750 - INFO - DeepSeek API 异步请求 - 模型输出:
3948,516,1824,3618,145,2227,2160,1822,8,2993,1671,1317,2374,1528,2869,2620,3313,2074,863
2025-05-09 22:49:14,750 - INFO - 模型输出解析 - 原始输出:
3948,516,1824,3618,145,2227,2160,1822,8,2993,1671,1317,2374,1528,2869,2620,3313,2074,863
2025-05-09 22:49:14,750 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 1824, 3618, 145, 2227, 2160, 1822, 8, 2993, 1671, 1317, 2374, 1528, 2869, 2620, 3313, 2074, 863]
2025-05-09 22:49:14,750 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 1824, 3618, 145, 2227, 2160, 1822, 8, 2993], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:49:14,750 - INFO - 样本 4 (Trial 2): NDCG@10 = 1.0000
2025-05-09 22:49:14,762 - INFO - DeepSeek API 异步请求 - 模型输出:
1858,3107,1343,373,614,1758,2507,1236,3933,3325,1537,971,3145,2997,3672,1053,3864,1024,2049,2566
2025-05-09 22:49:14,762 - INFO - 模型输出解析 - 原始输出:
1858,3107,1343,373,614,1758,2507,1236,3933,3325,1537,971,3145,2997,3672,1053,3864,1024,2049,2566
2025-05-09 22:49:14,762 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 3107, 1343, 373, 614, 1758, 2507, 1236, 3933, 3325, 1537, 971, 3145, 2997, 3672, 1053, 3864, 1024, 2049, 2566]
2025-05-09 22:49:14,762 - INFO - NDCG计算 - 预测列表前10项: [1858, 3107, 1343, 373, 614, 1758, 2507, 1236, 3933, 3325], 真实目标: 1758, NDCG@10: 0.3562071871080222
2025-05-09 22:49:14,762 - INFO - 样本 8 (Trial 2): NDCG@10 = 0.3562
2025-05-09 22:49:14,910 - INFO - DeepSeek API 异步请求 - 模型输出:
1194,785,1083,945,1145,3768,3667,3709,3474,2438,3822,29,194,2858,1263,2311,1797,2705,2022,1365
2025-05-09 22:49:14,910 - INFO - 模型输出解析 - 原始输出:
1194,785,1083,945,1145,3768,3667,3709,3474,2438,3822,29,194,2858,1263,2311,1797,2705,2022,1365
2025-05-09 22:49:14,911 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438, 3822, 29, 194, 2858, 1263, 2311, 1797, 2705, 2022, 1365]
2025-05-09 22:49:14,911 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:49:14,911 - INFO - 样本 1 (Trial 2): NDCG@10 = 1.0000
2025-05-09 22:49:15,252 - INFO - DeepSeek API 异步请求 - 模型输出:
3699,2011,2532,555,1541,2562,3557,515,2467,2482,2703,1357,1257,1102,1420,421,576,3739,310,1174
2025-05-09 22:49:15,252 - INFO - 模型输出解析 - 原始输出:
3699,2011,2532,555,1541,2562,3557,515,2467,2482,2703,1357,1257,1102,1420,421,576,3739,310,1174
2025-05-09 22:49:15,252 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 1541, 2562, 3557, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 576, 3739, 310, 1174]
2025-05-09 22:49:15,252 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 1541, 2562, 3557, 515, 2467, 2482], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:49:15,252 - INFO - 样本 2 (Trial 2): NDCG@10 = 0.6309
2025-05-09 22:49:15,588 - INFO - DeepSeek API 异步请求 - 模型输出:
21,370,122,818,1722,428,1555,1539,1563,447,691,1913,3824,3756,2609,567,3420,3768,3701,2367
2025-05-09 22:49:15,588 - INFO - 模型输出解析 - 原始输出:
21,370,122,818,1722,428,1555,1539,1563,447,691,1913,3824,3756,2609,567,3420,3768,3701,2367
2025-05-09 22:49:15,588 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 818, 1722, 428, 1555, 1539, 1563, 447, 691, 1913, 3824, 3756, 2609, 567, 3420, 3768, 3701, 2367]
2025-05-09 22:49:15,588 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 818, 1722, 428, 1555, 1539, 1563, 447], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:49:15,588 - INFO - 样本 3 (Trial 2): NDCG@10 = 0.0000
2025-05-09 22:49:15,925 - INFO - DeepSeek API 异步请求 - 模型输出:
534,3449,3183,280,1187,1458,3497,3801,2644,537,1232,3761,1523,607,823,2261,3247,370,2791,3790
2025-05-09 22:49:15,925 - INFO - 模型输出解析 - 原始输出:
534,3449,3183,280,1187,1458,3497,3801,2644,537,1232,3761,1523,607,823,2261,3247,370,2791,3790
2025-05-09 22:49:15,925 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 1458, 3497, 3801, 2644, 537, 1232, 3761, 1523, 607, 823, 2261, 3247, 370, 2791, 3790]
2025-05-09 22:49:15,925 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 1458, 3497, 3801, 2644, 537], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:49:15,925 - INFO - 样本 5 (Trial 2): NDCG@10 = 1.0000
2025-05-09 22:49:16,181 - INFO - DeepSeek API 异步请求 - 模型输出:
396,3258,161,1590,1103,2210,2318,381,1965,2144,1880,3723,1251,2970,3245,3710,2637,3695,876,3413
2025-05-09 22:49:16,181 - INFO - 模型输出解析 - 原始输出:
396,3258,161,1590,1103,2210,2318,381,1965,2144,1880,3723,1251,2970,3245,3710,2637,3695,876,3413
2025-05-09 22:49:16,181 - INFO - 模型输出解析 - 解析后电影ID列表: [396, 3258, 161, 1590, 1103, 2210, 2318, 381, 1965, 2144, 1880, 3723, 1251, 2970, 3245, 3710, 2637, 3695, 876, 3413]
2025-05-09 22:49:16,181 - INFO - NDCG计算 - 预测列表前10项: [396, 3258, 161, 1590, 1103, 2210, 2318, 381, 1965, 2144], 真实目标: 1965, NDCG@10: 0.3010299956639812
2025-05-09 22:49:16,181 - INFO - 样本 9 (Trial 2): NDCG@10 = 0.3010
2025-05-09 22:49:16,249 - INFO - DeepSeek API 异步请求 - 模型输出:
2571,3623,2867,2550,1483,3176,3219,1965,3360,249,381,2154,1611,730,803,146,3590,2943,2129,3878
2025-05-09 22:49:16,249 - INFO - 模型输出解析 - 原始输出:
2571,3623,2867,2550,1483,3176,3219,1965,3360,249,381,2154,1611,730,803,146,3590,2943,2129,3878
2025-05-09 22:49:16,249 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 3360, 249, 381, 2154, 1611, 730, 803, 146, 3590, 2943, 2129, 3878]
2025-05-09 22:49:16,249 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 3360, 249], 真实目标: 3176, NDCG@10: 0.3562071871080222
2025-05-09 22:49:16,249 - INFO - 样本 7 (Trial 2): NDCG@10 = 0.3562
2025-05-09 22:49:16,451 - INFO - DeepSeek API 异步请求 - 模型输出:
1695,1844,3221,41,1829,1656,2813,2579,3303,2755,3516,3497,396,3606,2795,328,2123,1731,2720,3858
2025-05-09 22:49:16,451 - INFO - 模型输出解析 - 原始输出:
1695,1844,3221,41,1829,1656,2813,2579,3303,2755,3516,3497,396,3606,2795,328,2123,1731,2720,3858
2025-05-09 22:49:16,452 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1844, 3221, 41, 1829, 1656, 2813, 2579, 3303, 2755, 3516, 3497, 396, 3606, 2795, 328, 2123, 1731, 2720, 3858]
2025-05-09 22:49:16,452 - INFO - NDCG计算 - 预测列表前10项: [1695, 1844, 3221, 41, 1829, 1656, 2813, 2579, 3303, 2755], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:49:16,452 - INFO - 样本 0 (Trial 2): NDCG@10 = 1.0000
2025-05-09 22:49:16,452 - INFO - 开始第 3/10 次评估
2025-05-09 22:49:16,513 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:16,516 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:16,516 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:16,516 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:16,516 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:16,517 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:16,517 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:16,518 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:16,518 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:16,532 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:21,930 - INFO - DeepSeek API 异步请求 - 模型输出:
534,3449,3183,280,1187,1458,3497,537,2644,1232,1523,3247,2261,823,607,370,2791,3761,3801,3790
2025-05-09 22:49:21,930 - INFO - 模型输出解析 - 原始输出:
534,3449,3183,280,1187,1458,3497,537,2644,1232,1523,3247,2261,823,607,370,2791,3761,3801,3790
2025-05-09 22:49:21,930 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 1458, 3497, 537, 2644, 1232, 1523, 3247, 2261, 823, 607, 370, 2791, 3761, 3801, 3790]
2025-05-09 22:49:21,930 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 1458, 3497, 537, 2644, 1232], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:49:21,930 - INFO - 样本 5 (Trial 3): NDCG@10 = 1.0000
2025-05-09 22:49:21,970 - INFO - DeepSeek API 异步请求 - 模型输出:
1695,1844,3221,41,1656,1829,2813,2579,3516,3606,3497,2755,3303,396,3858,2123,2720,1731,328,2795
2025-05-09 22:49:21,970 - INFO - 模型输出解析 - 原始输出:
1695,1844,3221,41,1656,1829,2813,2579,3516,3606,3497,2755,3303,396,3858,2123,2720,1731,328,2795
2025-05-09 22:49:21,970 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1844, 3221, 41, 1656, 1829, 2813, 2579, 3516, 3606, 3497, 2755, 3303, 396, 3858, 2123, 2720, 1731, 328, 2795]
2025-05-09 22:49:21,970 - INFO - NDCG计算 - 预测列表前10项: [1695, 1844, 3221, 41, 1656, 1829, 2813, 2579, 3516, 3606], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:49:21,971 - INFO - 样本 0 (Trial 3): NDCG@10 = 1.0000
2025-05-09 22:49:22,062 - INFO - DeepSeek API 异步请求 - 模型输出:
1194,785,1083,945,194,3768,3667,3709,3474,2438,3822,29,2858,1263,2311,1797,2022,2705,1365
2025-05-09 22:49:22,062 - INFO - 模型输出解析 - 原始输出:
1194,785,1083,945,194,3768,3667,3709,3474,2438,3822,29,2858,1263,2311,1797,2022,2705,1365
2025-05-09 22:49:22,062 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 194, 3768, 3667, 3709, 3474, 2438, 3822, 29, 2858, 1263, 2311, 1797, 2022, 2705, 1365]
2025-05-09 22:49:22,062 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 194, 3768, 3667, 3709, 3474, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:49:22,062 - INFO - 样本 1 (Trial 3): NDCG@10 = 1.0000
2025-05-09 22:49:22,319 - INFO - DeepSeek API 异步请求 - 模型输出:
3948,516,1824,145,3618,1822,8,2227,2160,1671,2869,1317,1528,2620,3313,863,2993,2074,2374
2025-05-09 22:49:22,319 - INFO - 模型输出解析 - 原始输出:
3948,516,1824,145,3618,1822,8,2227,2160,1671,2869,1317,1528,2620,3313,863,2993,2074,2374
2025-05-09 22:49:22,319 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 1824, 145, 3618, 1822, 8, 2227, 2160, 1671, 2869, 1317, 1528, 2620, 3313, 863, 2993, 2074, 2374]
2025-05-09 22:49:22,319 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 1824, 145, 3618, 1822, 8, 2227, 2160, 1671], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:49:22,319 - INFO - 样本 4 (Trial 3): NDCG@10 = 1.0000
2025-05-09 22:49:22,473 - INFO - DeepSeek API 异步请求 - 模型输出:
21,370,122,428,1722,2367,3701,1563,1555,1539,447,691,818,1913,3824,3756,2609,567,3420,3768
2025-05-09 22:49:22,473 - INFO - 模型输出解析 - 原始输出:
21,370,122,428,1722,2367,3701,1563,1555,1539,447,691,818,1913,3824,3756,2609,567,3420,3768
2025-05-09 22:49:22,473 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 428, 1722, 2367, 3701, 1563, 1555, 1539, 447, 691, 818, 1913, 3824, 3756, 2609, 567, 3420, 3768]
2025-05-09 22:49:22,473 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 428, 1722, 2367, 3701, 1563, 1555, 1539], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:49:22,473 - INFO - 样本 3 (Trial 3): NDCG@10 = 0.0000
2025-05-09 22:49:22,473 - INFO - DeepSeek API 异步请求 - 模型输出:
3699,2011,2532,555,1541,515,1257,2467,2482,2703,1357,1102,1420,421,3557,2562,1174,310,576,3739
2025-05-09 22:49:22,473 - INFO - 模型输出解析 - 原始输出:
3699,2011,2532,555,1541,515,1257,2467,2482,2703,1357,1102,1420,421,3557,2562,1174,310,576,3739
2025-05-09 22:49:22,473 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 1541, 515, 1257, 2467, 2482, 2703, 1357, 1102, 1420, 421, 3557, 2562, 1174, 310, 576, 3739]
2025-05-09 22:49:22,473 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 1541, 515, 1257, 2467, 2482, 2703], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:49:22,473 - INFO - 样本 2 (Trial 3): NDCG@10 = 0.6309
2025-05-09 22:49:22,569 - INFO - DeepSeek API 异步请求 - 模型输出:
2571,3623,2867,2550,3360,2943,1483,3176,3219,249,381,2154,1611,1965,146,3590,730,803,2129,3878
2025-05-09 22:49:22,569 - INFO - 模型输出解析 - 原始输出:
2571,3623,2867,2550,3360,2943,1483,3176,3219,249,381,2154,1611,1965,146,3590,730,803,2129,3878
2025-05-09 22:49:22,569 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 3360, 2943, 1483, 3176, 3219, 249, 381, 2154, 1611, 1965, 146, 3590, 730, 803, 2129, 3878]
2025-05-09 22:49:22,569 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 3360, 2943, 1483, 3176, 3219, 249], 真实目标: 3176, NDCG@10: 0.31546487678572877
2025-05-09 22:49:22,569 - INFO - 样本 7 (Trial 3): NDCG@10 = 0.3155
2025-05-09 22:49:22,718 - INFO - DeepSeek API 异步请求 - 模型输出:
3251,887,271,372,185,2249,1259,3614,758,3626,2137,359,1815,3378,3312,2960,2409,2452,1375,3859
2025-05-09 22:49:22,718 - INFO - 模型输出解析 - 原始输出:
3251,887,271,372,185,2249,1259,3614,758,3626,2137,359,1815,3378,3312,2960,2409,2452,1375,3859
2025-05-09 22:49:22,718 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 185, 2249, 1259, 3614, 758, 3626, 2137, 359, 1815, 3378, 3312, 2960, 2409, 2452, 1375, 3859]
2025-05-09 22:49:22,718 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 185, 2249, 1259, 3614, 758, 3626], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:49:22,718 - INFO - 样本 6 (Trial 3): NDCG@10 = 0.4307
2025-05-09 22:49:22,901 - INFO - DeepSeek API 异步请求 - 模型输出:
1858,3107,1236,1343,373,614,1758,2507,2997,3145,3325,1537,1053,971,3933,3672,2566,2049,1024,3864
2025-05-09 22:49:22,901 - INFO - 模型输出解析 - 原始输出:
1858,3107,1236,1343,373,614,1758,2507,2997,3145,3325,1537,1053,971,3933,3672,2566,2049,1024,3864
2025-05-09 22:49:22,901 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 3107, 1236, 1343, 373, 614, 1758, 2507, 2997, 3145, 3325, 1537, 1053, 971, 3933, 3672, 2566, 2049, 1024, 3864]
2025-05-09 22:49:22,901 - INFO - NDCG计算 - 预测列表前10项: [1858, 3107, 1236, 1343, 373, 614, 1758, 2507, 2997, 3145], 真实目标: 1758, NDCG@10: 0.3333333333333333
2025-05-09 22:49:22,901 - INFO - 样本 8 (Trial 3): NDCG@10 = 0.3333
2025-05-09 22:49:24,004 - INFO - DeepSeek API 异步请求 - 模型输出:
396,3258,1103,161,1590,2210,2318,381,1965,2144,3723,1880,3710,2637,3695,3413,2970,876,1251,3245
2025-05-09 22:49:24,004 - INFO - 模型输出解析 - 原始输出:
396,3258,1103,161,1590,2210,2318,381,1965,2144,3723,1880,3710,2637,3695,3413,2970,876,1251,3245
2025-05-09 22:49:24,004 - INFO - 模型输出解析 - 解析后电影ID列表: [396, 3258, 1103, 161, 1590, 2210, 2318, 381, 1965, 2144, 3723, 1880, 3710, 2637, 3695, 3413, 2970, 876, 1251, 3245]
2025-05-09 22:49:24,004 - INFO - NDCG计算 - 预测列表前10项: [396, 3258, 1103, 161, 1590, 2210, 2318, 381, 1965, 2144], 真实目标: 1965, NDCG@10: 0.3010299956639812
2025-05-09 22:49:24,004 - INFO - 样本 9 (Trial 3): NDCG@10 = 0.3010
2025-05-09 22:49:24,004 - INFO - 开始第 4/10 次评估
2025-05-09 22:49:24,058 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:24,059 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:24,060 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:24,060 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:24,061 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:24,062 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:24,062 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:24,066 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:24,068 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:24,090 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:29,980 - INFO - DeepSeek API 异步请求 - 模型输出:
3948,516,1824,145,8,3618,2227,2160,1822,1671,3313,2620,1317,2374,1528,2869,863,2993,2074
2025-05-09 22:49:29,980 - INFO - 模型输出解析 - 原始输出:
3948,516,1824,145,8,3618,2227,2160,1822,1671,3313,2620,1317,2374,1528,2869,863,2993,2074
2025-05-09 22:49:29,980 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 1824, 145, 8, 3618, 2227, 2160, 1822, 1671, 3313, 2620, 1317, 2374, 1528, 2869, 863, 2993, 2074]
2025-05-09 22:49:29,980 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 1824, 145, 8, 3618, 2227, 2160, 1822, 1671], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:49:29,980 - INFO - 样本 4 (Trial 4): NDCG@10 = 1.0000
2025-05-09 22:49:30,226 - INFO - DeepSeek API 异步请求 - 模型输出:
3699,2011,2532,555,3557,2562,1541,515,2467,2482,2703,1357,1257,1102,1420,421,310,576,3739,1174
2025-05-09 22:49:30,226 - INFO - 模型输出解析 - 原始输出:
3699,2011,2532,555,3557,2562,1541,515,2467,2482,2703,1357,1257,1102,1420,421,310,576,3739,1174
2025-05-09 22:49:30,226 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 3557, 2562, 1541, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 310, 576, 3739, 1174]
2025-05-09 22:49:30,226 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 3557, 2562, 1541, 515, 2467, 2482], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:49:30,226 - INFO - 样本 2 (Trial 4): NDCG@10 = 0.6309
2025-05-09 22:49:30,315 - INFO - DeepSeek API 异步请求 - 模型输出:
1858,1343,3107,373,1758,614,2507,1236,1053,1537,3145,2997,3325,971,3933,3672,2566,2049,1024,3864
2025-05-09 22:49:30,315 - INFO - 模型输出解析 - 原始输出:
1858,1343,3107,373,1758,614,2507,1236,1053,1537,3145,2997,3325,971,3933,3672,2566,2049,1024,3864
2025-05-09 22:49:30,315 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 1343, 3107, 373, 1758, 614, 2507, 1236, 1053, 1537, 3145, 2997, 3325, 971, 3933, 3672, 2566, 2049, 1024, 3864]
2025-05-09 22:49:30,315 - INFO - NDCG计算 - 预测列表前10项: [1858, 1343, 3107, 373, 1758, 614, 2507, 1236, 1053, 1537], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 22:49:30,315 - INFO - 样本 8 (Trial 4): NDCG@10 = 0.3869
2025-05-09 22:49:30,671 - INFO - DeepSeek API 异步请求 - 模型输出:
534,3449,3183,280,1187,3497,1458,2644,1232,537,1523,3247,2261,823,607,370,2791,3761,3801,3790
2025-05-09 22:49:30,671 - INFO - 模型输出解析 - 原始输出:
534,3449,3183,280,1187,3497,1458,2644,1232,537,1523,3247,2261,823,607,370,2791,3761,3801,3790
2025-05-09 22:49:30,671 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 3497, 1458, 2644, 1232, 537, 1523, 3247, 2261, 823, 607, 370, 2791, 3761, 3801, 3790]
2025-05-09 22:49:30,671 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 3497, 1458, 2644, 1232, 537], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:49:30,671 - INFO - 样本 5 (Trial 4): NDCG@10 = 1.0000
2025-05-09 22:49:31,020 - INFO - DeepSeek API 异步请求 - 模型输出:
1194,785,1083,945,1145,3768,3667,3709,3474,2438,3822,29,194,2858,1263,2311,1797,2705,2022
2025-05-09 22:49:31,020 - INFO - 模型输出解析 - 原始输出:
1194,785,1083,945,1145,3768,3667,3709,3474,2438,3822,29,194,2858,1263,2311,1797,2705,2022
2025-05-09 22:49:31,020 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438, 3822, 29, 194, 2858, 1263, 2311, 1797, 2705, 2022]
2025-05-09 22:49:31,020 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:49:31,020 - INFO - 样本 1 (Trial 4): NDCG@10 = 1.0000
2025-05-09 22:49:31,045 - INFO - DeepSeek API 异步请求 - 模型输出:
3251,887,2249,372,359,1815,185,271,2960,3378,3626,1259,3614,2452,2409,1375,2137,3859,3312
2025-05-09 22:49:31,045 - INFO - 模型输出解析 - 原始输出:
3251,887,2249,372,359,1815,185,271,2960,3378,3626,1259,3614,2452,2409,1375,2137,3859,3312
2025-05-09 22:49:31,045 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 2249, 372, 359, 1815, 185, 271, 2960, 3378, 3626, 1259, 3614, 2452, 2409, 1375, 2137, 3859, 3312]
2025-05-09 22:49:31,045 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 2249, 372, 359, 1815, 185, 271, 2960, 3378], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:49:31,045 - INFO - 样本 6 (Trial 4): NDCG@10 = 0.4307
2025-05-09 22:49:31,253 - INFO - DeepSeek API 异步请求 - 模型输出:
396,1103,1590,161,1880,3258,2318,381,1965,2144,3723,1251,3245,2970,2210,2637,3695,3710,876,3413
2025-05-09 22:49:31,253 - INFO - 模型输出解析 - 原始输出:
396,1103,1590,161,1880,3258,2318,381,1965,2144,3723,1251,3245,2970,2210,2637,3695,3710,876,3413
2025-05-09 22:49:31,253 - INFO - 模型输出解析 - 解析后电影ID列表: [396, 1103, 1590, 161, 1880, 3258, 2318, 381, 1965, 2144, 3723, 1251, 3245, 2970, 2210, 2637, 3695, 3710, 876, 3413]
2025-05-09 22:49:31,253 - INFO - NDCG计算 - 预测列表前10项: [396, 1103, 1590, 161, 1880, 3258, 2318, 381, 1965, 2144], 真实目标: 1965, NDCG@10: 0.3010299956639812
2025-05-09 22:49:31,253 - INFO - 样本 9 (Trial 4): NDCG@10 = 0.3010
2025-05-09 22:49:31,268 - INFO - DeepSeek API 异步请求 - 模型输出:
21,370,122,428,1722,818,1563,1555,1539,447,691,1913,3824,3756,2609,567,3701,2367,3420,3768
2025-05-09 22:49:31,268 - INFO - 模型输出解析 - 原始输出:
21,370,122,428,1722,818,1563,1555,1539,447,691,1913,3824,3756,2609,567,3701,2367,3420,3768
2025-05-09 22:49:31,268 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 428, 1722, 818, 1563, 1555, 1539, 447, 691, 1913, 3824, 3756, 2609, 567, 3701, 2367, 3420, 3768]
2025-05-09 22:49:31,268 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 428, 1722, 818, 1563, 1555, 1539, 447], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:49:31,268 - INFO - 样本 3 (Trial 4): NDCG@10 = 0.0000
2025-05-09 22:49:31,363 - INFO - DeepSeek API 异步请求 - 模型输出:
1695,1844,1829,3221,41,1656,2813,3516,3497,396,2579,3858,2755,3606,3303,2720,1731,2123,328,2795
2025-05-09 22:49:31,363 - INFO - 模型输出解析 - 原始输出:
1695,1844,1829,3221,41,1656,2813,3516,3497,396,2579,3858,2755,3606,3303,2720,1731,2123,328,2795
2025-05-09 22:49:31,363 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1844, 1829, 3221, 41, 1656, 2813, 3516, 3497, 396, 2579, 3858, 2755, 3606, 3303, 2720, 1731, 2123, 328, 2795]
2025-05-09 22:49:31,363 - INFO - NDCG计算 - 预测列表前10项: [1695, 1844, 1829, 3221, 41, 1656, 2813, 3516, 3497, 396], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:49:31,363 - INFO - 样本 0 (Trial 4): NDCG@10 = 1.0000
2025-05-09 22:49:31,366 - INFO - DeepSeek API 异步请求 - 模型输出:
2571,3623,2867,2550,1483,3176,3219,1965,3360,249,381,2154,1611,730,803,146,3590,2943,2129,3878
2025-05-09 22:49:31,366 - INFO - 模型输出解析 - 原始输出:
2571,3623,2867,2550,1483,3176,3219,1965,3360,249,381,2154,1611,730,803,146,3590,2943,2129,3878
2025-05-09 22:49:31,366 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 3360, 249, 381, 2154, 1611, 730, 803, 146, 3590, 2943, 2129, 3878]
2025-05-09 22:49:31,366 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 3360, 249], 真实目标: 3176, NDCG@10: 0.3562071871080222
2025-05-09 22:49:31,366 - INFO - 样本 7 (Trial 4): NDCG@10 = 0.3562
2025-05-09 22:49:31,366 - INFO - 开始第 5/10 次评估
2025-05-09 22:49:31,419 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:31,420 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:31,424 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:31,424 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:31,424 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:31,426 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:31,428 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:31,428 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:31,431 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:31,431 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:37,358 - INFO - DeepSeek API 异步请求 - 模型输出:
1194,785,1083,945,3768,3667,3709,3474,2438,3822,29,194,2858,1263,2311,1797,2022,2705,1365
2025-05-09 22:49:37,358 - INFO - 模型输出解析 - 原始输出:
1194,785,1083,945,3768,3667,3709,3474,2438,3822,29,194,2858,1263,2311,1797,2022,2705,1365
2025-05-09 22:49:37,358 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 3822, 29, 194, 2858, 1263, 2311, 1797, 2022, 2705, 1365]
2025-05-09 22:49:37,358 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 3822], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:49:37,358 - INFO - 样本 1 (Trial 5): NDCG@10 = 1.0000
2025-05-09 22:49:37,358 - INFO - DeepSeek API 异步请求 - 模型输出:
534,3449,3183,280,1187,3497,1458,2644,1232,537,1523,370,2261,2791,3247,823,607,3761,3801,3790
2025-05-09 22:49:37,358 - INFO - 模型输出解析 - 原始输出:
534,3449,3183,280,1187,3497,1458,2644,1232,537,1523,370,2261,2791,3247,823,607,3761,3801,3790
2025-05-09 22:49:37,358 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 3497, 1458, 2644, 1232, 537, 1523, 370, 2261, 2791, 3247, 823, 607, 3761, 3801, 3790]
2025-05-09 22:49:37,358 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 3497, 1458, 2644, 1232, 537], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:49:37,358 - INFO - 样本 5 (Trial 5): NDCG@10 = 1.0000
2025-05-09 22:49:37,514 - INFO - DeepSeek API 异步请求 - 模型输出:
3699,2011,2532,555,1541,2562,3557,515,2467,2482,2703,1357,1257,1102,1420,421,1174,310,576,3739
2025-05-09 22:49:37,514 - INFO - 模型输出解析 - 原始输出:
3699,2011,2532,555,1541,2562,3557,515,2467,2482,2703,1357,1257,1102,1420,421,1174,310,576,3739
2025-05-09 22:49:37,514 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 1541, 2562, 3557, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 22:49:37,515 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 1541, 2562, 3557, 515, 2467, 2482], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:49:37,515 - INFO - 样本 2 (Trial 5): NDCG@10 = 0.6309
2025-05-09 22:49:37,524 - INFO - DeepSeek API 异步请求 - 模型输出:
3251,887,271,372,185,2249,1259,758,3614,2137,359,1815,2960,2409,2452,3626,3378,3312,3859,1375
2025-05-09 22:49:37,524 - INFO - 模型输出解析 - 原始输出:
3251,887,271,372,185,2249,1259,758,3614,2137,359,1815,2960,2409,2452,3626,3378,3312,3859,1375
2025-05-09 22:49:37,524 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 185, 2249, 1259, 758, 3614, 2137, 359, 1815, 2960, 2409, 2452, 3626, 3378, 3312, 3859, 1375]
2025-05-09 22:49:37,524 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 185, 2249, 1259, 758, 3614, 2137], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:49:37,524 - INFO - 样本 6 (Trial 5): NDCG@10 = 0.4307
2025-05-09 22:49:37,599 - INFO - DeepSeek API 异步请求 - 模型输出:
2571,3623,2867,2550,1483,3176,3219,1965,3360,249,381,2154,1611,730,3878,2943,2129,803,146,3590
2025-05-09 22:49:37,599 - INFO - 模型输出解析 - 原始输出:
2571,3623,2867,2550,1483,3176,3219,1965,3360,249,381,2154,1611,730,3878,2943,2129,803,146,3590
2025-05-09 22:49:37,599 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 3360, 249, 381, 2154, 1611, 730, 3878, 2943, 2129, 803, 146, 3590]
2025-05-09 22:49:37,599 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 3360, 249], 真实目标: 3176, NDCG@10: 0.3562071871080222
2025-05-09 22:49:37,599 - INFO - 样本 7 (Trial 5): NDCG@10 = 0.3562
2025-05-09 22:49:37,706 - INFO - DeepSeek API 异步请求 - 模型输出:
3948,516,145,8,3618,1822,2227,2160,2993,1824,1671,1317,2374,2620,1528,2869,3313,2074,863
2025-05-09 22:49:37,706 - INFO - 模型输出解析 - 原始输出:
3948,516,145,8,3618,1822,2227,2160,2993,1824,1671,1317,2374,2620,1528,2869,3313,2074,863
2025-05-09 22:49:37,706 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 145, 8, 3618, 1822, 2227, 2160, 2993, 1824, 1671, 1317, 2374, 2620, 1528, 2869, 3313, 2074, 863]
2025-05-09 22:49:37,706 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 145, 8, 3618, 1822, 2227, 2160, 2993, 1824], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:49:37,706 - INFO - 样本 4 (Trial 5): NDCG@10 = 1.0000
2025-05-09 22:49:37,944 - INFO - DeepSeek API 异步请求 - 模型输出:
396,1103,1590,161,1880,3258,2318,381,1965,2144,3723,1251,3245,2970,2210,2637,3413,3710,3695,876
2025-05-09 22:49:37,944 - INFO - 模型输出解析 - 原始输出:
396,1103,1590,161,1880,3258,2318,381,1965,2144,3723,1251,3245,2970,2210,2637,3413,3710,3695,876
2025-05-09 22:49:37,944 - INFO - 模型输出解析 - 解析后电影ID列表: [396, 1103, 1590, 161, 1880, 3258, 2318, 381, 1965, 2144, 3723, 1251, 3245, 2970, 2210, 2637, 3413, 3710, 3695, 876]
2025-05-09 22:49:37,944 - INFO - NDCG计算 - 预测列表前10项: [396, 1103, 1590, 161, 1880, 3258, 2318, 381, 1965, 2144], 真实目标: 1965, NDCG@10: 0.3010299956639812
2025-05-09 22:49:37,944 - INFO - 样本 9 (Trial 5): NDCG@10 = 0.3010
2025-05-09 22:49:38,112 - INFO - DeepSeek API 异步请求 - 模型输出:
1695,1656,1844,3221,41,3516,3497,1829,3606,2579,2813,2755,2123,1731,2720,328,396,2795,3303,3858
2025-05-09 22:49:38,113 - INFO - 模型输出解析 - 原始输出:
1695,1656,1844,3221,41,3516,3497,1829,3606,2579,2813,2755,2123,1731,2720,328,396,2795,3303,3858
2025-05-09 22:49:38,113 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1656, 1844, 3221, 41, 3516, 3497, 1829, 3606, 2579, 2813, 2755, 2123, 1731, 2720, 328, 396, 2795, 3303, 3858]
2025-05-09 22:49:38,113 - INFO - NDCG计算 - 预测列表前10项: [1695, 1656, 1844, 3221, 41, 3516, 3497, 1829, 3606, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:49:38,113 - INFO - 样本 0 (Trial 5): NDCG@10 = 1.0000
2025-05-09 22:49:40,252 - INFO - DeepSeek API 异步请求 - 模型输出:
21,370,122,818,1722,428,1555,1539,1563,1913,3824,691,447,2609,3756,3768,3420,567,3701,2367
2025-05-09 22:49:40,252 - INFO - 模型输出解析 - 原始输出:
21,370,122,818,1722,428,1555,1539,1563,1913,3824,691,447,2609,3756,3768,3420,567,3701,2367
2025-05-09 22:49:40,252 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 818, 1722, 428, 1555, 1539, 1563, 1913, 3824, 691, 447, 2609, 3756, 3768, 3420, 567, 3701, 2367]
2025-05-09 22:49:40,252 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 818, 1722, 428, 1555, 1539, 1563, 1913], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:49:40,252 - INFO - 样本 3 (Trial 5): NDCG@10 = 0.0000
2025-05-09 22:49:40,592 - INFO - DeepSeek API 异步请求 - 模型输出:
1858,3107,1343,373,1758,614,1236,2507,2997,3145,1537,1053,971,3325,3933,3672,2566,2049,1024,3864
2025-05-09 22:49:40,592 - INFO - 模型输出解析 - 原始输出:
1858,3107,1343,373,1758,614,1236,2507,2997,3145,1537,1053,971,3325,3933,3672,2566,2049,1024,3864
2025-05-09 22:49:40,592 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 3107, 1343, 373, 1758, 614, 1236, 2507, 2997, 3145, 1537, 1053, 971, 3325, 3933, 3672, 2566, 2049, 1024, 3864]
2025-05-09 22:49:40,592 - INFO - NDCG计算 - 预测列表前10项: [1858, 3107, 1343, 373, 1758, 614, 1236, 2507, 2997, 3145], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 22:49:40,593 - INFO - 样本 8 (Trial 5): NDCG@10 = 0.3869
2025-05-09 22:49:40,593 - INFO - 开始第 6/10 次评估
2025-05-09 22:49:40,651 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:40,651 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:40,653 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:40,653 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:40,656 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:40,656 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:40,657 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:40,662 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:40,669 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:40,670 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:46,380 - INFO - DeepSeek API 异步请求 - 模型输出:
21,370,122,428,1722,818,691,447,1555,1539,2367,3701,3420,3768,1913,3824,2609,3756,567,1563
2025-05-09 22:49:46,381 - INFO - 模型输出解析 - 原始输出:
21,370,122,428,1722,818,691,447,1555,1539,2367,3701,3420,3768,1913,3824,2609,3756,567,1563
2025-05-09 22:49:46,381 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 428, 1722, 818, 691, 447, 1555, 1539, 2367, 3701, 3420, 3768, 1913, 3824, 2609, 3756, 567, 1563]
2025-05-09 22:49:46,381 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 428, 1722, 818, 691, 447, 1555, 1539], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:49:46,381 - INFO - 样本 3 (Trial 6): NDCG@10 = 0.0000
2025-05-09 22:49:46,407 - INFO - DeepSeek API 异步请求 - 模型输出:
3699,2011,2532,555,3557,1541,2562,515,2467,2482,2703,1357,1257,1102,1420,421,1174,310,576,3739
2025-05-09 22:49:46,407 - INFO - 模型输出解析 - 原始输出:
3699,2011,2532,555,3557,1541,2562,515,2467,2482,2703,1357,1257,1102,1420,421,1174,310,576,3739
2025-05-09 22:49:46,407 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 3557, 1541, 2562, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 22:49:46,407 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 3557, 1541, 2562, 515, 2467, 2482], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:49:46,407 - INFO - 样本 2 (Trial 6): NDCG@10 = 0.6309
2025-05-09 22:49:46,689 - INFO - DeepSeek API 异步请求 - 模型输出:
3251,887,271,372,185,359,1815,2249,1259,3626,3378,3312,2960,3614,2452,1375,2409,2137,3859,758
2025-05-09 22:49:46,689 - INFO - 模型输出解析 - 原始输出:
3251,887,271,372,185,359,1815,2249,1259,3626,3378,3312,2960,3614,2452,1375,2409,2137,3859,758
2025-05-09 22:49:46,689 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 185, 359, 1815, 2249, 1259, 3626, 3378, 3312, 2960, 3614, 2452, 1375, 2409, 2137, 3859, 758]
2025-05-09 22:49:46,689 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 185, 359, 1815, 2249, 1259, 3626], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:49:46,689 - INFO - 样本 6 (Trial 6): NDCG@10 = 0.4307
2025-05-09 22:49:46,726 - INFO - DeepSeek API 异步请求 - 模型输出:
1858,1343,3107,373,1758,614,2507,1236,1053,3933,1537,971,3145,2997,3325,3672,2566,2049,1024,3864
2025-05-09 22:49:46,726 - INFO - 模型输出解析 - 原始输出:
1858,1343,3107,373,1758,614,2507,1236,1053,3933,1537,971,3145,2997,3325,3672,2566,2049,1024,3864
2025-05-09 22:49:46,727 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 1343, 3107, 373, 1758, 614, 2507, 1236, 1053, 3933, 1537, 971, 3145, 2997, 3325, 3672, 2566, 2049, 1024, 3864]
2025-05-09 22:49:46,727 - INFO - NDCG计算 - 预测列表前10项: [1858, 1343, 3107, 373, 1758, 614, 2507, 1236, 1053, 3933], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 22:49:46,727 - INFO - 样本 8 (Trial 6): NDCG@10 = 0.3869
2025-05-09 22:49:46,754 - INFO - DeepSeek API 异步请求 - 模型输出:
1194,785,1083,945,3768,3667,3709,3474,2438,3822,29,194,2858,1263,2311,1797,2022,2705,1365
2025-05-09 22:49:46,754 - INFO - 模型输出解析 - 原始输出:
1194,785,1083,945,3768,3667,3709,3474,2438,3822,29,194,2858,1263,2311,1797,2022,2705,1365
2025-05-09 22:49:46,754 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 3822, 29, 194, 2858, 1263, 2311, 1797, 2022, 2705, 1365]
2025-05-09 22:49:46,754 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 3822], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:49:46,754 - INFO - 样本 1 (Trial 6): NDCG@10 = 1.0000
2025-05-09 22:49:46,760 - INFO - DeepSeek API 异步请求 - 模型输出:
3948,516,1824,145,8,3618,2227,2160,1671,1822,1317,1528,3313,2869,2620,2374,863,2993,2074
2025-05-09 22:49:46,760 - INFO - 模型输出解析 - 原始输出:
3948,516,1824,145,8,3618,2227,2160,1671,1822,1317,1528,3313,2869,2620,2374,863,2993,2074
2025-05-09 22:49:46,760 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 1824, 145, 8, 3618, 2227, 2160, 1671, 1822, 1317, 1528, 3313, 2869, 2620, 2374, 863, 2993, 2074]
2025-05-09 22:49:46,760 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 1824, 145, 8, 3618, 2227, 2160, 1671, 1822], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:49:46,760 - INFO - 样本 4 (Trial 6): NDCG@10 = 1.0000
2025-05-09 22:49:46,772 - INFO - DeepSeek API 异步请求 - 模型输出:
534,3449,3183,280,1187,1458,3497,3801,1523,2644,3761,1232,607,823,537,2261,3247,370,2791,3790
2025-05-09 22:49:46,772 - INFO - 模型输出解析 - 原始输出:
534,3449,3183,280,1187,1458,3497,3801,1523,2644,3761,1232,607,823,537,2261,3247,370,2791,3790
2025-05-09 22:49:46,773 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 1458, 3497, 3801, 1523, 2644, 3761, 1232, 607, 823, 537, 2261, 3247, 370, 2791, 3790]
2025-05-09 22:49:46,773 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 1458, 3497, 3801, 1523, 2644], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:49:46,773 - INFO - 样本 5 (Trial 6): NDCG@10 = 1.0000
2025-05-09 22:49:46,822 - INFO - DeepSeek API 异步请求 - 模型输出:
2571,3623,2867,2550,3360,2943,1483,3176,3219,249,381,2154,1611,1965,730,146,3590,2129,3878,803
2025-05-09 22:49:46,822 - INFO - 模型输出解析 - 原始输出:
2571,3623,2867,2550,3360,2943,1483,3176,3219,249,381,2154,1611,1965,730,146,3590,2129,3878,803
2025-05-09 22:49:46,822 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 3360, 2943, 1483, 3176, 3219, 249, 381, 2154, 1611, 1965, 730, 146, 3590, 2129, 3878, 803]
2025-05-09 22:49:46,822 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 3360, 2943, 1483, 3176, 3219, 249], 真实目标: 3176, NDCG@10: 0.31546487678572877
2025-05-09 22:49:46,822 - INFO - 样本 7 (Trial 6): NDCG@10 = 0.3155
2025-05-09 22:49:46,839 - INFO - DeepSeek API 异步请求 - 模型输出:
396,1103,1590,161,3258,2210,2637,1965,3723,381,1880,2318,2970,1251,3245,3413,3710,3695,876,2144
2025-05-09 22:49:46,839 - INFO - 模型输出解析 - 原始输出:
396,1103,1590,161,3258,2210,2637,1965,3723,381,1880,2318,2970,1251,3245,3413,3710,3695,876,2144
2025-05-09 22:49:46,839 - INFO - 模型输出解析 - 解析后电影ID列表: [396, 1103, 1590, 161, 3258, 2210, 2637, 1965, 3723, 381, 1880, 2318, 2970, 1251, 3245, 3413, 3710, 3695, 876, 2144]
2025-05-09 22:49:46,839 - INFO - NDCG计算 - 预测列表前10项: [396, 1103, 1590, 161, 3258, 2210, 2637, 1965, 3723, 381], 真实目标: 1965, NDCG@10: 0.31546487678572877
2025-05-09 22:49:46,839 - INFO - 样本 9 (Trial 6): NDCG@10 = 0.3155
2025-05-09 22:49:47,445 - INFO - DeepSeek API 异步请求 - 模型输出:
1695,1844,1829,3221,41,1656,3516,3497,396,2579,2813,3303,2755,3606,3858,2720,1731,328,2123,2795
2025-05-09 22:49:47,446 - INFO - 模型输出解析 - 原始输出:
1695,1844,1829,3221,41,1656,3516,3497,396,2579,2813,3303,2755,3606,3858,2720,1731,328,2123,2795
2025-05-09 22:49:47,446 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1844, 1829, 3221, 41, 1656, 3516, 3497, 396, 2579, 2813, 3303, 2755, 3606, 3858, 2720, 1731, 328, 2123, 2795]
2025-05-09 22:49:47,446 - INFO - NDCG计算 - 预测列表前10项: [1695, 1844, 1829, 3221, 41, 1656, 3516, 3497, 396, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:49:47,446 - INFO - 样本 0 (Trial 6): NDCG@10 = 1.0000
2025-05-09 22:49:47,446 - INFO - 开始第 7/10 次评估
2025-05-09 22:49:47,505 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:47,506 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:47,508 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:47,508 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:47,509 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:47,510 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:47,532 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:47,542 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:47,546 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:47,569 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:53,250 - INFO - DeepSeek API 异步请求 - 模型输出:
3251,887,271,372,185,359,1815,2249,1259,3626,3378,3312,2960,3614,2452,1375,2409,2137,3859
2025-05-09 22:49:53,250 - INFO - 模型输出解析 - 原始输出:
3251,887,271,372,185,359,1815,2249,1259,3626,3378,3312,2960,3614,2452,1375,2409,2137,3859
2025-05-09 22:49:53,250 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 185, 359, 1815, 2249, 1259, 3626, 3378, 3312, 2960, 3614, 2452, 1375, 2409, 2137, 3859]
2025-05-09 22:49:53,250 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 185, 359, 1815, 2249, 1259, 3626], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:49:53,250 - INFO - 样本 6 (Trial 7): NDCG@10 = 0.4307
2025-05-09 22:49:53,443 - INFO - DeepSeek API 异步请求 - 模型输出:
1858,3107,1343,373,1758,614,1236,2507,1053,1537,3145,2997,3933,3325,971,3672,2566,2049,1024,3864
2025-05-09 22:49:53,443 - INFO - 模型输出解析 - 原始输出:
1858,3107,1343,373,1758,614,1236,2507,1053,1537,3145,2997,3933,3325,971,3672,2566,2049,1024,3864
2025-05-09 22:49:53,443 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 3107, 1343, 373, 1758, 614, 1236, 2507, 1053, 1537, 3145, 2997, 3933, 3325, 971, 3672, 2566, 2049, 1024, 3864]
2025-05-09 22:49:53,443 - INFO - NDCG计算 - 预测列表前10项: [1858, 3107, 1343, 373, 1758, 614, 1236, 2507, 1053, 1537], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 22:49:53,443 - INFO - 样本 8 (Trial 7): NDCG@10 = 0.3869
2025-05-09 22:49:53,447 - INFO - DeepSeek API 异步请求 - 模型输出:
534,3449,3183,280,1187,3497,1458,2644,1232,537,1523,607,823,2261,3247,370,2791,3761,3801,3790
2025-05-09 22:49:53,447 - INFO - 模型输出解析 - 原始输出:
534,3449,3183,280,1187,3497,1458,2644,1232,537,1523,607,823,2261,3247,370,2791,3761,3801,3790
2025-05-09 22:49:53,448 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 3497, 1458, 2644, 1232, 537, 1523, 607, 823, 2261, 3247, 370, 2791, 3761, 3801, 3790]
2025-05-09 22:49:53,448 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 3497, 1458, 2644, 1232, 537], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:49:53,448 - INFO - 样本 5 (Trial 7): NDCG@10 = 1.0000
2025-05-09 22:49:53,535 - INFO - DeepSeek API 异步请求 - 模型输出:
396,3258,1103,2318,161,1965,2144,1880,381,3723,1590,2210,2637,2970,1251,3245,876,3413,3710,3695
2025-05-09 22:49:53,535 - INFO - 模型输出解析 - 原始输出:
396,3258,1103,2318,161,1965,2144,1880,381,3723,1590,2210,2637,2970,1251,3245,876,3413,3710,3695
2025-05-09 22:49:53,535 - INFO - 模型输出解析 - 解析后电影ID列表: [396, 3258, 1103, 2318, 161, 1965, 2144, 1880, 381, 3723, 1590, 2210, 2637, 2970, 1251, 3245, 876, 3413, 3710, 3695]
2025-05-09 22:49:53,535 - INFO - NDCG计算 - 预测列表前10项: [396, 3258, 1103, 2318, 161, 1965, 2144, 1880, 381, 3723], 真实目标: 1965, NDCG@10: 0.3562071871080222
2025-05-09 22:49:53,536 - INFO - 样本 9 (Trial 7): NDCG@10 = 0.3562
2025-05-09 22:49:53,620 - INFO - DeepSeek API 异步请求 - 模型输出:
3948,516,1824,145,8,3618,2227,1671,2160,1822,3313,2620,1317,2374,1528,2869,2993,2074,863
2025-05-09 22:49:53,620 - INFO - 模型输出解析 - 原始输出:
3948,516,1824,145,8,3618,2227,1671,2160,1822,3313,2620,1317,2374,1528,2869,2993,2074,863
2025-05-09 22:49:53,620 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 1824, 145, 8, 3618, 2227, 1671, 2160, 1822, 3313, 2620, 1317, 2374, 1528, 2869, 2993, 2074, 863]
2025-05-09 22:49:53,620 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 1824, 145, 8, 3618, 2227, 1671, 2160, 1822], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:49:53,620 - INFO - 样本 4 (Trial 7): NDCG@10 = 1.0000
2025-05-09 22:49:53,620 - INFO - DeepSeek API 异步请求 - 模型输出:
1695,1844,3221,41,1829,1656,2813,2579,3303,2755,3516,3497,396,3606,2795,328,2123,1731,2720,3858
2025-05-09 22:49:53,620 - INFO - 模型输出解析 - 原始输出:
1695,1844,3221,41,1829,1656,2813,2579,3303,2755,3516,3497,396,3606,2795,328,2123,1731,2720,3858
2025-05-09 22:49:53,621 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1844, 3221, 41, 1829, 1656, 2813, 2579, 3303, 2755, 3516, 3497, 396, 3606, 2795, 328, 2123, 1731, 2720, 3858]
2025-05-09 22:49:53,621 - INFO - NDCG计算 - 预测列表前10项: [1695, 1844, 3221, 41, 1829, 1656, 2813, 2579, 3303, 2755], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:49:53,621 - INFO - 样本 0 (Trial 7): NDCG@10 = 1.0000
2025-05-09 22:49:54,073 - INFO - DeepSeek API 异步请求 - 模型输出:
1194,785,1083,1145,3768,3667,3709,3474,2438,945,194,3822,29,2858,1263,2311,2022,2705,1797,1365
2025-05-09 22:49:54,073 - INFO - 模型输出解析 - 原始输出:
1194,785,1083,1145,3768,3667,3709,3474,2438,945,194,3822,29,2858,1263,2311,2022,2705,1797,1365
2025-05-09 22:49:54,073 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 1145, 3768, 3667, 3709, 3474, 2438, 945, 194, 3822, 29, 2858, 1263, 2311, 2022, 2705, 1797, 1365]
2025-05-09 22:49:54,073 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 1145, 3768, 3667, 3709, 3474, 2438, 945], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:49:54,073 - INFO - 样本 1 (Trial 7): NDCG@10 = 1.0000
2025-05-09 22:49:54,409 - INFO - DeepSeek API 异步请求 - 模型输出:
21,370,122,428,1722,2367,3701,1563,1555,1539,447,691,818,3420,3768,1913,3824,3756,2609,567
2025-05-09 22:49:54,409 - INFO - 模型输出解析 - 原始输出:
21,370,122,428,1722,2367,3701,1563,1555,1539,447,691,818,3420,3768,1913,3824,3756,2609,567
2025-05-09 22:49:54,409 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 428, 1722, 2367, 3701, 1563, 1555, 1539, 447, 691, 818, 3420, 3768, 1913, 3824, 3756, 2609, 567]
2025-05-09 22:49:54,409 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 428, 1722, 2367, 3701, 1563, 1555, 1539], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:49:54,409 - INFO - 样本 3 (Trial 7): NDCG@10 = 0.0000
2025-05-09 22:49:55,166 - INFO - DeepSeek API 异步请求 - 模型输出:
2571,3623,2867,2550,1483,3176,3219,1965,3360,249,381,2154,1611,730,3878,2943,2129,146,3590,803
2025-05-09 22:49:55,166 - INFO - 模型输出解析 - 原始输出:
2571,3623,2867,2550,1483,3176,3219,1965,3360,249,381,2154,1611,730,3878,2943,2129,146,3590,803
2025-05-09 22:49:55,166 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 3360, 249, 381, 2154, 1611, 730, 3878, 2943, 2129, 146, 3590, 803]
2025-05-09 22:49:55,166 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 1483, 3176, 3219, 1965, 3360, 249], 真实目标: 3176, NDCG@10: 0.3562071871080222
2025-05-09 22:49:55,166 - INFO - 样本 7 (Trial 7): NDCG@10 = 0.3562
2025-05-09 22:49:56,429 - INFO - DeepSeek API 异步请求 - 模型输出:
3699,2011,2532,555,1541,2562,3557,515,2467,2482,2703,1357,1257,1102,1420,421,1174,310,576,3739
2025-05-09 22:49:56,429 - INFO - 模型输出解析 - 原始输出:
3699,2011,2532,555,1541,2562,3557,515,2467,2482,2703,1357,1257,1102,1420,421,1174,310,576,3739
2025-05-09 22:49:56,429 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 1541, 2562, 3557, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 22:49:56,429 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 1541, 2562, 3557, 515, 2467, 2482], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:49:56,429 - INFO - 样本 2 (Trial 7): NDCG@10 = 0.6309
2025-05-09 22:49:56,429 - INFO - 开始第 8/10 次评估
2025-05-09 22:49:56,481 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:56,486 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:56,488 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:56,488 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:56,489 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:56,495 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:56,495 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:56,498 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:56,509 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:49:56,510 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:03,119 - INFO - DeepSeek API 异步请求 - 模型输出:
1858,3107,1343,373,1758,614,1236,2507,2997,3145,1537,1053,971,3325,3933,3672,2566,2049,1024,3864
2025-05-09 22:50:03,119 - INFO - 模型输出解析 - 原始输出:
1858,3107,1343,373,1758,614,1236,2507,2997,3145,1537,1053,971,3325,3933,3672,2566,2049,1024,3864
2025-05-09 22:50:03,119 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 3107, 1343, 373, 1758, 614, 1236, 2507, 2997, 3145, 1537, 1053, 971, 3325, 3933, 3672, 2566, 2049, 1024, 3864]
2025-05-09 22:50:03,119 - INFO - NDCG计算 - 预测列表前10项: [1858, 3107, 1343, 373, 1758, 614, 1236, 2507, 2997, 3145], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 22:50:03,119 - INFO - 样本 8 (Trial 8): NDCG@10 = 0.3869
2025-05-09 22:50:03,447 - INFO - DeepSeek API 异步请求 - 模型输出:
21,370,122,428,1722,2367,3701,1563,1555,1539,447,691,818,1913,3824,3756,2609,567,3420,3768
2025-05-09 22:50:03,447 - INFO - 模型输出解析 - 原始输出:
21,370,122,428,1722,2367,3701,1563,1555,1539,447,691,818,1913,3824,3756,2609,567,3420,3768
2025-05-09 22:50:03,447 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 428, 1722, 2367, 3701, 1563, 1555, 1539, 447, 691, 818, 1913, 3824, 3756, 2609, 567, 3420, 3768]
2025-05-09 22:50:03,447 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 428, 1722, 2367, 3701, 1563, 1555, 1539], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:50:03,447 - INFO - 样本 3 (Trial 8): NDCG@10 = 0.0000
2025-05-09 22:50:03,448 - INFO - DeepSeek API 异步请求 - 模型输出:
534,3449,3183,280,1187,3497,1458,2644,1232,3801,1523,3247,2261,607,823,537,3761,370,2791,3790
2025-05-09 22:50:03,448 - INFO - 模型输出解析 - 原始输出:
534,3449,3183,280,1187,3497,1458,2644,1232,3801,1523,3247,2261,607,823,537,3761,370,2791,3790
2025-05-09 22:50:03,448 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 3497, 1458, 2644, 1232, 3801, 1523, 3247, 2261, 607, 823, 537, 3761, 370, 2791, 3790]
2025-05-09 22:50:03,448 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 3497, 1458, 2644, 1232, 3801], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:50:03,448 - INFO - 样本 5 (Trial 8): NDCG@10 = 1.0000
2025-05-09 22:50:03,486 - INFO - DeepSeek API 异步请求 - 模型输出:
2571,3623,2867,2550,3878,3360,1483,3176,3219,1965,1611,730,803,2154,381,249,2943,146,3590,2129
2025-05-09 22:50:03,486 - INFO - 模型输出解析 - 原始输出:
2571,3623,2867,2550,3878,3360,1483,3176,3219,1965,1611,730,803,2154,381,249,2943,146,3590,2129
2025-05-09 22:50:03,486 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 3878, 3360, 1483, 3176, 3219, 1965, 1611, 730, 803, 2154, 381, 249, 2943, 146, 3590, 2129]
2025-05-09 22:50:03,486 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 3878, 3360, 1483, 3176, 3219, 1965], 真实目标: 3176, NDCG@10: 0.31546487678572877
2025-05-09 22:50:03,486 - INFO - 样本 7 (Trial 8): NDCG@10 = 0.3155
2025-05-09 22:50:03,731 - INFO - DeepSeek API 异步请求 - 模型输出:
3948,516,1824,145,3618,1822,8,2227,2160,1671,2869,1317,1528,2620,3313,863,2993,2074,2374
2025-05-09 22:50:03,731 - INFO - 模型输出解析 - 原始输出:
3948,516,1824,145,3618,1822,8,2227,2160,1671,2869,1317,1528,2620,3313,863,2993,2074,2374
2025-05-09 22:50:03,731 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 1824, 145, 3618, 1822, 8, 2227, 2160, 1671, 2869, 1317, 1528, 2620, 3313, 863, 2993, 2074, 2374]
2025-05-09 22:50:03,731 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 1824, 145, 3618, 1822, 8, 2227, 2160, 1671], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:50:03,731 - INFO - 样本 4 (Trial 8): NDCG@10 = 1.0000
2025-05-09 22:50:04,010 - INFO - DeepSeek API 异步请求 - 模型输出:
396,1103,1590,161,3258,1965,2318,381,1880,2210,2637,2970,3723,2144,1251,3245,876,3413,3710,3695
2025-05-09 22:50:04,010 - INFO - 模型输出解析 - 原始输出:
396,1103,1590,161,3258,1965,2318,381,1880,2210,2637,2970,3723,2144,1251,3245,876,3413,3710,3695
2025-05-09 22:50:04,010 - INFO - 模型输出解析 - 解析后电影ID列表: [396, 1103, 1590, 161, 3258, 1965, 2318, 381, 1880, 2210, 2637, 2970, 3723, 2144, 1251, 3245, 876, 3413, 3710, 3695]
2025-05-09 22:50:04,010 - INFO - NDCG计算 - 预测列表前10项: [396, 1103, 1590, 161, 3258, 1965, 2318, 381, 1880, 2210], 真实目标: 1965, NDCG@10: 0.3562071871080222
2025-05-09 22:50:04,010 - INFO - 样本 9 (Trial 8): NDCG@10 = 0.3562
2025-05-09 22:50:04,526 - INFO - DeepSeek API 异步请求 - 模型输出:
1194,785,1083,945,3768,3667,3709,3474,2438,3822,29,194,2858,1263,2311,1797,2705,2022,1365
2025-05-09 22:50:04,526 - INFO - 模型输出解析 - 原始输出:
1194,785,1083,945,3768,3667,3709,3474,2438,3822,29,194,2858,1263,2311,1797,2705,2022,1365
2025-05-09 22:50:04,526 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 3822, 29, 194, 2858, 1263, 2311, 1797, 2705, 2022, 1365]
2025-05-09 22:50:04,526 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 3768, 3667, 3709, 3474, 2438, 3822], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:50:04,526 - INFO - 样本 1 (Trial 8): NDCG@10 = 1.0000
2025-05-09 22:50:04,597 - INFO - DeepSeek API 异步请求 - 模型输出:
1695,1844,1829,3221,41,1656,3516,3497,396,2579,2813,3303,2755,3606,3858,2720,1731,328,2123,2795
2025-05-09 22:50:04,597 - INFO - 模型输出解析 - 原始输出:
1695,1844,1829,3221,41,1656,3516,3497,396,2579,2813,3303,2755,3606,3858,2720,1731,328,2123,2795
2025-05-09 22:50:04,597 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1844, 1829, 3221, 41, 1656, 3516, 3497, 396, 2579, 2813, 3303, 2755, 3606, 3858, 2720, 1731, 328, 2123, 2795]
2025-05-09 22:50:04,597 - INFO - NDCG计算 - 预测列表前10项: [1695, 1844, 1829, 3221, 41, 1656, 3516, 3497, 396, 2579], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:50:04,597 - INFO - 样本 0 (Trial 8): NDCG@10 = 1.0000
2025-05-09 22:50:04,659 - INFO - DeepSeek API 异步请求 - 模型输出:
3699,2011,2532,555,2562,1541,3557,515,2467,2482,2703,1357,1257,1102,1420,421,310,576,3739,1174
2025-05-09 22:50:04,659 - INFO - 模型输出解析 - 原始输出:
3699,2011,2532,555,2562,1541,3557,515,2467,2482,2703,1357,1257,1102,1420,421,310,576,3739,1174
2025-05-09 22:50:04,659 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 2562, 1541, 3557, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 310, 576, 3739, 1174]
2025-05-09 22:50:04,659 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 2562, 1541, 3557, 515, 2467, 2482], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:50:04,659 - INFO - 样本 2 (Trial 8): NDCG@10 = 0.6309
2025-05-09 22:50:05,645 - INFO - DeepSeek API 异步请求 - 模型输出:
3251,887,2249,372,185,271,758,3614,2137,1259,359,1815,2960,3378,3312,3626,2409,2452,1375,3859
2025-05-09 22:50:05,645 - INFO - 模型输出解析 - 原始输出:
3251,887,2249,372,185,271,758,3614,2137,1259,359,1815,2960,3378,3312,3626,2409,2452,1375,3859
2025-05-09 22:50:05,645 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 2249, 372, 185, 271, 758, 3614, 2137, 1259, 359, 1815, 2960, 3378, 3312, 3626, 2409, 2452, 1375, 3859]
2025-05-09 22:50:05,645 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 2249, 372, 185, 271, 758, 3614, 2137, 1259], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:50:05,645 - INFO - 样本 6 (Trial 8): NDCG@10 = 0.4307
2025-05-09 22:50:05,645 - INFO - 开始第 9/10 次评估
2025-05-09 22:50:05,698 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:05,699 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:05,700 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:05,701 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:05,706 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:05,706 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:05,709 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:05,711 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:05,713 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:05,716 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:12,278 - INFO - DeepSeek API 异步请求 - 模型输出:
1194,785,1083,945,194,3768,3667,3709,3474,2438,3822,29,2858,1263,2311,1797,2022,2705,1365
2025-05-09 22:50:12,278 - INFO - 模型输出解析 - 原始输出:
1194,785,1083,945,194,3768,3667,3709,3474,2438,3822,29,2858,1263,2311,1797,2022,2705,1365
2025-05-09 22:50:12,278 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 194, 3768, 3667, 3709, 3474, 2438, 3822, 29, 2858, 1263, 2311, 1797, 2022, 2705, 1365]
2025-05-09 22:50:12,278 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 194, 3768, 3667, 3709, 3474, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:50:12,278 - INFO - 样本 1 (Trial 9): NDCG@10 = 1.0000
2025-05-09 22:50:12,526 - INFO - DeepSeek API 异步请求 - 模型输出:
396,3258,1103,161,1590,2210,2318,381,1965,1880,2144,3723,2970,2637,876,1251,3245,3413,3710,3695
2025-05-09 22:50:12,526 - INFO - 模型输出解析 - 原始输出:
396,3258,1103,161,1590,2210,2318,381,1965,1880,2144,3723,2970,2637,876,1251,3245,3413,3710,3695
2025-05-09 22:50:12,526 - INFO - 模型输出解析 - 解析后电影ID列表: [396, 3258, 1103, 161, 1590, 2210, 2318, 381, 1965, 1880, 2144, 3723, 2970, 2637, 876, 1251, 3245, 3413, 3710, 3695]
2025-05-09 22:50:12,526 - INFO - NDCG计算 - 预测列表前10项: [396, 3258, 1103, 161, 1590, 2210, 2318, 381, 1965, 1880], 真实目标: 1965, NDCG@10: 0.3010299956639812
2025-05-09 22:50:12,526 - INFO - 样本 9 (Trial 9): NDCG@10 = 0.3010
2025-05-09 22:50:12,554 - INFO - DeepSeek API 异步请求 - 模型输出:
534,3449,3183,280,1187,1458,3497,3801,2644,537,1232,1523,3761,2261,3247,607,823,370,2791,3790
2025-05-09 22:50:12,554 - INFO - 模型输出解析 - 原始输出:
534,3449,3183,280,1187,1458,3497,3801,2644,537,1232,1523,3761,2261,3247,607,823,370,2791,3790
2025-05-09 22:50:12,554 - INFO - 模型输出解析 - 解析后电影ID列表: [534, 3449, 3183, 280, 1187, 1458, 3497, 3801, 2644, 537, 1232, 1523, 3761, 2261, 3247, 607, 823, 370, 2791, 3790]
2025-05-09 22:50:12,554 - INFO - NDCG计算 - 预测列表前10项: [534, 3449, 3183, 280, 1187, 1458, 3497, 3801, 2644, 537], 真实目标: 534, NDCG@10: 1.0
2025-05-09 22:50:12,554 - INFO - 样本 5 (Trial 9): NDCG@10 = 1.0000
2025-05-09 22:50:12,558 - INFO - DeepSeek API 异步请求 - 模型输出:
1695,1844,3221,41,1829,1656,2813,2579,3303,2755,3516,3497,396,3606,2795,3858,2720,1731,2123,328
2025-05-09 22:50:12,558 - INFO - 模型输出解析 - 原始输出:
1695,1844,3221,41,1829,1656,2813,2579,3303,2755,3516,3497,396,3606,2795,3858,2720,1731,2123,328
2025-05-09 22:50:12,558 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1844, 3221, 41, 1829, 1656, 2813, 2579, 3303, 2755, 3516, 3497, 396, 3606, 2795, 3858, 2720, 1731, 2123, 328]
2025-05-09 22:50:12,558 - INFO - NDCG计算 - 预测列表前10项: [1695, 1844, 3221, 41, 1829, 1656, 2813, 2579, 3303, 2755], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:50:12,558 - INFO - 样本 0 (Trial 9): NDCG@10 = 1.0000
2025-05-09 22:50:12,599 - INFO - DeepSeek API 异步请求 - 模型输出:
3948,516,145,8,3618,1822,2227,2160,2993,1824,1671,1317,2374,1528,2869,2620,3313,2074,863
2025-05-09 22:50:12,600 - INFO - 模型输出解析 - 原始输出:
3948,516,145,8,3618,1822,2227,2160,2993,1824,1671,1317,2374,1528,2869,2620,3313,2074,863
2025-05-09 22:50:12,600 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 145, 8, 3618, 1822, 2227, 2160, 2993, 1824, 1671, 1317, 2374, 1528, 2869, 2620, 3313, 2074, 863]
2025-05-09 22:50:12,600 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 145, 8, 3618, 1822, 2227, 2160, 2993, 1824], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:50:12,600 - INFO - 样本 4 (Trial 9): NDCG@10 = 1.0000
2025-05-09 22:50:12,816 - INFO - DeepSeek API 异步请求 - 模型输出:
3699,2011,2532,555,1541,3557,2562,515,2467,2482,2703,1357,1257,1102,1420,421,1174,310,576,3739
2025-05-09 22:50:12,816 - INFO - 模型输出解析 - 原始输出:
3699,2011,2532,555,1541,3557,2562,515,2467,2482,2703,1357,1257,1102,1420,421,1174,310,576,3739
2025-05-09 22:50:12,816 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 1541, 3557, 2562, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 1174, 310, 576, 3739]
2025-05-09 22:50:12,816 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 1541, 3557, 2562, 515, 2467, 2482], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:50:12,816 - INFO - 样本 2 (Trial 9): NDCG@10 = 0.6309
2025-05-09 22:50:12,987 - INFO - DeepSeek API 异步请求 - 模型输出:
1858,3107,1343,373,1758,614,1236,2507,2997,3145,1537,971,1053,3933,3325,3672,2566,2049,1024,3864
2025-05-09 22:50:12,987 - INFO - 模型输出解析 - 原始输出:
1858,3107,1343,373,1758,614,1236,2507,2997,3145,1537,971,1053,3933,3325,3672,2566,2049,1024,3864
2025-05-09 22:50:12,987 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 3107, 1343, 373, 1758, 614, 1236, 2507, 2997, 3145, 1537, 971, 1053, 3933, 3325, 3672, 2566, 2049, 1024, 3864]
2025-05-09 22:50:12,987 - INFO - NDCG计算 - 预测列表前10项: [1858, 3107, 1343, 373, 1758, 614, 1236, 2507, 2997, 3145], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 22:50:12,987 - INFO - 样本 8 (Trial 9): NDCG@10 = 0.3869
2025-05-09 22:50:13,157 - INFO - DeepSeek API 异步请求 - 模型输出:
3251,887,271,372,185,359,1815,2249,1259,3614,2137,2960,3626,3378,3312,2409,2452,1375,3859
2025-05-09 22:50:13,157 - INFO - 模型输出解析 - 原始输出:
3251,887,271,372,185,359,1815,2249,1259,3614,2137,2960,3626,3378,3312,2409,2452,1375,3859
2025-05-09 22:50:13,157 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 185, 359, 1815, 2249, 1259, 3614, 2137, 2960, 3626, 3378, 3312, 2409, 2452, 1375, 3859]
2025-05-09 22:50:13,157 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 185, 359, 1815, 2249, 1259, 3614], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:50:13,157 - INFO - 样本 6 (Trial 9): NDCG@10 = 0.4307
2025-05-09 22:50:13,639 - INFO - DeepSeek API 异步请求 - 模型输出:
2571,3623,2867,2550,3360,2943,1483,3176,3219,249,381,2154,1611,1965,730,803,146,3590,2129,3878
2025-05-09 22:50:13,639 - INFO - 模型输出解析 - 原始输出:
2571,3623,2867,2550,3360,2943,1483,3176,3219,249,381,2154,1611,1965,730,803,146,3590,2129,3878
2025-05-09 22:50:13,639 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 3360, 2943, 1483, 3176, 3219, 249, 381, 2154, 1611, 1965, 730, 803, 146, 3590, 2129, 3878]
2025-05-09 22:50:13,639 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 3360, 2943, 1483, 3176, 3219, 249], 真实目标: 3176, NDCG@10: 0.31546487678572877
2025-05-09 22:50:13,639 - INFO - 样本 7 (Trial 9): NDCG@10 = 0.3155
2025-05-09 22:50:15,164 - INFO - DeepSeek API 异步请求 - 模型输出:
21,370,122,428,1722,818,691,447,1555,1539,2367,2609,3701,3420,3768,3824,3756,567,1913
2025-05-09 22:50:15,164 - INFO - 模型输出解析 - 原始输出:
21,370,122,428,1722,818,691,447,1555,1539,2367,2609,3701,3420,3768,3824,3756,567,1913
2025-05-09 22:50:15,164 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 428, 1722, 818, 691, 447, 1555, 1539, 2367, 2609, 3701, 3420, 3768, 3824, 3756, 567, 1913]
2025-05-09 22:50:15,164 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 428, 1722, 818, 691, 447, 1555, 1539], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:50:15,164 - INFO - 样本 3 (Trial 9): NDCG@10 = 0.0000
2025-05-09 22:50:15,164 - INFO - 开始第 10/10 次评估
2025-05-09 22:50:15,215 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:15,220 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:15,220 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:15,222 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:15,223 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:15,224 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:15,226 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:15,226 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:15,226 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:15,227 - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-05-09 22:50:20,534 - INFO - DeepSeek API 异步请求 - 模型输出:
1194,785,1083,945,1145,3768,3667,3709,3474,2438,3822,29,194,2858,1263,2311,1797,2705,2022,1365
2025-05-09 22:50:20,534 - INFO - 模型输出解析 - 原始输出:
1194,785,1083,945,1145,3768,3667,3709,3474,2438,3822,29,194,2858,1263,2311,1797,2705,2022,1365
2025-05-09 22:50:20,534 - INFO - 模型输出解析 - 解析后电影ID列表: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438, 3822, 29, 194, 2858, 1263, 2311, 1797, 2705, 2022, 1365]
2025-05-09 22:50:20,534 - INFO - NDCG计算 - 预测列表前10项: [1194, 785, 1083, 945, 1145, 3768, 3667, 3709, 3474, 2438], 真实目标: 1194, NDCG@10: 1.0
2025-05-09 22:50:20,534 - INFO - 样本 1 (Trial 10): NDCG@10 = 1.0000
2025-05-09 22:50:20,572 - INFO - DeepSeek API 异步请求 - 模型输出:
3699,2011,2532,555,1541,2562,3557,515,2467,2482,2703,1357,1257,1102,1420,421,310,576,3739,1174
2025-05-09 22:50:20,573 - INFO - 模型输出解析 - 原始输出:
3699,2011,2532,555,1541,2562,3557,515,2467,2482,2703,1357,1257,1102,1420,421,310,576,3739,1174
2025-05-09 22:50:20,573 - INFO - 模型输出解析 - 解析后电影ID列表: [3699, 2011, 2532, 555, 1541, 2562, 3557, 515, 2467, 2482, 2703, 1357, 1257, 1102, 1420, 421, 310, 576, 3739, 1174]
2025-05-09 22:50:20,573 - INFO - NDCG计算 - 预测列表前10项: [3699, 2011, 2532, 555, 1541, 2562, 3557, 515, 2467, 2482], 真实目标: 2011, NDCG@10: 0.6309297535714575
2025-05-09 22:50:20,573 - INFO - 样本 2 (Trial 10): NDCG@10 = 0.6309
2025-05-09 22:50:20,709 - INFO - DeepSeek API 异步请求 - 模型输出:
1858,1343,3107,373,1758,614,2507,1236,3933,3325,3145,2997,1537,3864,1053,1024,2049,2566,971,3672
2025-05-09 22:50:20,709 - INFO - 模型输出解析 - 原始输出:
1858,1343,3107,373,1758,614,2507,1236,3933,3325,3145,2997,1537,3864,1053,1024,2049,2566,971,3672
2025-05-09 22:50:20,709 - INFO - 模型输出解析 - 解析后电影ID列表: [1858, 1343, 3107, 373, 1758, 614, 2507, 1236, 3933, 3325, 3145, 2997, 1537, 3864, 1053, 1024, 2049, 2566, 971, 3672]
2025-05-09 22:50:20,709 - INFO - NDCG计算 - 预测列表前10项: [1858, 1343, 3107, 373, 1758, 614, 2507, 1236, 3933, 3325], 真实目标: 1758, NDCG@10: 0.38685280723454163
2025-05-09 22:50:20,709 - INFO - 样本 8 (Trial 10): NDCG@10 = 0.3869
2025-05-09 22:50:20,770 - INFO - DeepSeek API 异步请求 - 模型输出:
2571,3623,2867,2550,3878,2943,3360,1483,3176,3219,249,381,2154,1611,730,1965,2129,803,146,3590
2025-05-09 22:50:20,770 - INFO - 模型输出解析 - 原始输出:
2571,3623,2867,2550,3878,2943,3360,1483,3176,3219,249,381,2154,1611,730,1965,2129,803,146,3590
2025-05-09 22:50:20,770 - INFO - 模型输出解析 - 解析后电影ID列表: [2571, 3623, 2867, 2550, 3878, 2943, 3360, 1483, 3176, 3219, 249, 381, 2154, 1611, 730, 1965, 2129, 803, 146, 3590]
2025-05-09 22:50:20,770 - INFO - NDCG计算 - 预测列表前10项: [2571, 3623, 2867, 2550, 3878, 2943, 3360, 1483, 3176, 3219], 真实目标: 3176, NDCG@10: 0.3010299956639812
2025-05-09 22:50:20,770 - INFO - 样本 7 (Trial 10): NDCG@10 = 0.3010
2025-05-09 22:50:20,872 - INFO - DeepSeek API 异步请求 - 模型输出:
21,370,122,428,1722,1563,818,1555,447,1539,2367,3701,3420,3768,3824,691,567,2609,3756,1913
2025-05-09 22:50:20,872 - INFO - 模型输出解析 - 原始输出:
21,370,122,428,1722,1563,818,1555,447,1539,2367,3701,3420,3768,3824,691,567,2609,3756,1913
2025-05-09 22:50:20,872 - INFO - 模型输出解析 - 解析后电影ID列表: [21, 370, 122, 428, 1722, 1563, 818, 1555, 447, 1539, 2367, 3701, 3420, 3768, 3824, 691, 567, 2609, 3756, 1913]
2025-05-09 22:50:20,872 - INFO - NDCG计算 - 预测列表前10项: [21, 370, 122, 428, 1722, 1563, 818, 1555, 447, 1539], 真实目标: 3824, NDCG@10: 0.0
2025-05-09 22:50:20,872 - INFO - 样本 3 (Trial 10): NDCG@10 = 0.0000
2025-05-09 22:50:20,938 - INFO - DeepSeek API 异步请求 - 模型输出:
3251,887,271,372,185,2249,1259,758,3614,2137,359,1815,2960,3378,3312,3626,2409,2452,1375,3859
2025-05-09 22:50:20,938 - INFO - 模型输出解析 - 原始输出:
3251,887,271,372,185,2249,1259,758,3614,2137,359,1815,2960,3378,3312,3626,2409,2452,1375,3859
2025-05-09 22:50:20,938 - INFO - 模型输出解析 - 解析后电影ID列表: [3251, 887, 271, 372, 185, 2249, 1259, 758, 3614, 2137, 359, 1815, 2960, 3378, 3312, 3626, 2409, 2452, 1375, 3859]
2025-05-09 22:50:20,938 - INFO - NDCG计算 - 预测列表前10项: [3251, 887, 271, 372, 185, 2249, 1259, 758, 3614, 2137], 真实目标: 372, NDCG@10: 0.43067655807339306
2025-05-09 22:50:20,938 - INFO - 样本 6 (Trial 10): NDCG@10 = 0.4307
2025-05-09 22:50:21,174 - INFO - DeepSeek API 异步请求 - 模型输出:
3183,534,3449,1187,280,1458,3497,1523,1232,537,2644,3761,607,823,3247,2261,370,2791,3801,3790
2025-05-09 22:50:21,174 - INFO - 模型输出解析 - 原始输出:
3183,534,3449,1187,280,1458,3497,1523,1232,537,2644,3761,607,823,3247,2261,370,2791,3801,3790
2025-05-09 22:50:21,174 - INFO - 模型输出解析 - 解析后电影ID列表: [3183, 534, 3449, 1187, 280, 1458, 3497, 1523, 1232, 537, 2644, 3761, 607, 823, 3247, 2261, 370, 2791, 3801, 3790]
2025-05-09 22:50:21,174 - INFO - NDCG计算 - 预测列表前10项: [3183, 534, 3449, 1187, 280, 1458, 3497, 1523, 1232, 537], 真实目标: 534, NDCG@10: 0.6309297535714575
2025-05-09 22:50:21,174 - INFO - 样本 5 (Trial 10): NDCG@10 = 0.6309
2025-05-09 22:50:21,230 - INFO - DeepSeek API 异步请求 - 模型输出:
1695,1844,3221,41,1829,1656,2813,2579,3303,2755,3516,3497,396,3606,2795,328,2123,1731,2720,3858
2025-05-09 22:50:21,230 - INFO - 模型输出解析 - 原始输出:
1695,1844,3221,41,1829,1656,2813,2579,3303,2755,3516,3497,396,3606,2795,328,2123,1731,2720,3858
2025-05-09 22:50:21,230 - INFO - 模型输出解析 - 解析后电影ID列表: [1695, 1844, 3221, 41, 1829, 1656, 2813, 2579, 3303, 2755, 3516, 3497, 396, 3606, 2795, 328, 2123, 1731, 2720, 3858]
2025-05-09 22:50:21,230 - INFO - NDCG计算 - 预测列表前10项: [1695, 1844, 3221, 41, 1829, 1656, 2813, 2579, 3303, 2755], 真实目标: 1695, NDCG@10: 1.0
2025-05-09 22:50:21,230 - INFO - 样本 0 (Trial 10): NDCG@10 = 1.0000
2025-05-09 22:50:22,903 - INFO - DeepSeek API 异步请求 - 模型输出:
3948,516,1824,145,3618,1822,8,2227,2160,1671,2869,1317,1528,2620,3313,863,2993,2074,2374
2025-05-09 22:50:22,903 - INFO - 模型输出解析 - 原始输出:
3948,516,1824,145,3618,1822,8,2227,2160,1671,2869,1317,1528,2620,3313,863,2993,2074,2374
2025-05-09 22:50:22,903 - INFO - 模型输出解析 - 解析后电影ID列表: [3948, 516, 1824, 145, 3618, 1822, 8, 2227, 2160, 1671, 2869, 1317, 1528, 2620, 3313, 863, 2993, 2074, 2374]
2025-05-09 22:50:22,903 - INFO - NDCG计算 - 预测列表前10项: [3948, 516, 1824, 145, 3618, 1822, 8, 2227, 2160, 1671], 真实目标: 3948, NDCG@10: 1.0
2025-05-09 22:50:22,904 - INFO - 样本 4 (Trial 10): NDCG@10 = 1.0000
2025-05-09 22:50:23,748 - INFO - DeepSeek API 异步请求 - 模型输出:
396,1103,1590,161,1965,3258,2318,381,1880,2210,3710,2637,3695,3413,2970,3723,876,2144,1251,3245
2025-05-09 22:50:23,748 - INFO - 模型输出解析 - 原始输出:
396,1103,1590,161,1965,3258,2318,381,1880,2210,3710,2637,3695,3413,2970,3723,876,2144,1251,3245
2025-05-09 22:50:23,748 - INFO - 模型输出解析 - 解析后电影ID列表: [396, 1103, 1590, 161, 1965, 3258, 2318, 381, 1880, 2210, 3710, 2637, 3695, 3413, 2970, 3723, 876, 2144, 1251, 3245]
2025-05-09 22:50:23,748 - INFO - NDCG计算 - 预测列表前10项: [396, 1103, 1590, 161, 1965, 3258, 2318, 381, 1880, 2210], 真实目标: 1965, NDCG@10: 0.38685280723454163
2025-05-09 22:50:23,748 - INFO - 样本 9 (Trial 10): NDCG@10 = 0.3869
2025-05-09 22:50:23,748 - INFO - Trial 1 平均 NDCG@10: 0.6089
2025-05-09 22:50:23,748 - INFO - Trial 2 平均 NDCG@10: 0.6075
2025-05-09 22:50:23,748 - INFO - Trial 3 平均 NDCG@10: 0.6011
2025-05-09 22:50:23,748 - INFO - Trial 4 平均 NDCG@10: 0.6106
2025-05-09 22:50:23,748 - INFO - Trial 5 平均 NDCG@10: 0.6106
2025-05-09 22:50:23,748 - INFO - Trial 6 平均 NDCG@10: 0.6079
2025-05-09 22:50:23,748 - INFO - Trial 7 平均 NDCG@10: 0.6161
2025-05-09 22:50:23,748 - INFO - Trial 8 平均 NDCG@10: 0.6120
2025-05-09 22:50:23,748 - INFO - Trial 9 平均 NDCG@10: 0.6065
2025-05-09 22:50:23,748 - INFO - Trial 10 平均 NDCG@10: 0.5767
2025-05-09 22:50:23,748 - INFO - 策略 expert_strict_comma 总体平均 NDCG@10: 0.6058
2025-05-09 22:50:23,748 - INFO - 样本 0: 平均 NDCG@10 = 0.7248, 标准差 = 0.3559
2025-05-09 22:50:23,749 - INFO - 样本 1: 平均 NDCG@10 = 0.6212, 标准差 = 0.3121
2025-05-09 22:50:23,749 - INFO - 样本 2: 平均 NDCG@10 = 0.6548, 标准差 = 0.2914
2025-05-09 22:50:23,749 - INFO - 样本 3: 平均 NDCG@10 = 0.5790, 标准差 = 0.3605
2025-05-09 22:50:23,749 - INFO - 样本 4: 平均 NDCG@10 = 0.6418, 标准差 = 0.3989
2025-05-09 22:50:23,749 - INFO - 样本 5: 平均 NDCG@10 = 0.6479, 标准差 = 0.3310
2025-05-09 22:50:23,749 - INFO - 样本 6: 平均 NDCG@10 = 0.6935, 标准差 = 0.3192
2025-05-09 22:50:23,749 - INFO - 样本 7: 平均 NDCG@10 = 0.4793, 标准差 = 0.3692
2025-05-09 22:50:23,749 - INFO - 样本 8: 平均 NDCG@10 = 0.4664, 标准差 = 0.3023
2025-05-09 22:50:23,749 - INFO - 样本 9: 平均 NDCG@10 = 0.5493, 标准差 = 0.3292
2025-05-09 22:50:23,749 - INFO - 详细结果已保存至: results_detailed\eval_expert_strict_comma_20250509_225023.json
2025-05-09 22:50:23,749 - INFO - 样本得分CSV已保存至: results_detailed\sample_scores_expert_strict_comma.csv
2025-05-09 22:50:23,750 - INFO - 策略汇总结果已保存至: results_detailed\strategy_summary.md
2025-05-09 22:50:23,750 - INFO - 所有策略评估完成
